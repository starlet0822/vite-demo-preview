import{_ as ue}from"./index-13e72605.js";import{a1 as de,d as X,a as p,cw as me,c as j,cg as _e,c6 as fe,cd as ge,p as i,av as H,a3 as W,cG as Z,cy as ee,cx as he,cH as ve,cI as be,cs as pe,ay as ke,a7 as Se,r as ae,cJ as N,cK as se,cL as le,t as re,E,f as O,k as ye,x as v,y as te,u as m,q as x,J as P,z as we,ao as Ce,g as oe,U as Ve,s as $,as as xe,v as ze,I as Be,al as Te,aa as Pe,Y as Ne,Z as ne,$ as $e,M as Ae,Q as Ie,R as Ee,W as Me}from"./index-87f5b797.js";import{A as Fe}from"./index-df8175c4.js";import{C as Re}from"./index-fe223344.js";import{F as Ue}from"./index-aa4cee22.js";import{o as Le,S as De}from"./style-27ba3bd9.js";import{_ as ie}from"./plugin-vue_export-helper-c27b6911.js";import{B as Ye}from"./index-6ae67834.js";import"./index-f0024431.js";import"./use-placeholder-8b1f5850.js";import"./use-route-0ec4011d.js";import"./use-id-bdd7472c.js";import"./popper-f3391c26.js";const[je,A]=de("slider"),He={min:H(0),max:H(100),step:H(1),range:Boolean,reverse:Boolean,disabled:Boolean,readonly:Boolean,vertical:Boolean,barHeight:W,buttonSize:W,activeColor:String,inactiveColor:String,modelValue:{type:[Number,Array],default:0}};var Oe=X({name:je,props:He,emits:["change","dragEnd","dragStart","update:modelValue"],setup(t,{emit:k,slots:b}){let l,u,_;const S=p(),f=[p(),p()],d=p(),C=me(),g=j(()=>Number(t.max)-Number(t.min)),M=j(()=>{const e=t.vertical?"width":"height";return{background:t.inactiveColor,[e]:_e(t.barHeight)}}),y=e=>t.range&&Array.isArray(e),J=()=>{const{modelValue:e,min:o}=t;return y(e)?`${(e[1]-e[0])*100/g.value}%`:`${(e-Number(o))*100/g.value}%`},K=()=>{const{modelValue:e,min:o}=t;return y(e)?`${(e[0]-Number(o))*100/g.value}%`:"0%"},z=j(()=>{const o={[t.vertical?"height":"width"]:J(),background:t.activeColor};d.value&&(o.transition="none");const n=()=>t.vertical?t.reverse?"bottom":"top":t.reverse?"right":"left";return o[n()]=K(),o}),B=e=>{const o=+t.min,n=+t.max,r=+t.step;e=ke(e,o,n);const s=Math.round((e-o)/r)*r;return be(o,s)},F=()=>{const e=t.modelValue;y(e)?_=e.map(B):_=B(e)},q=e=>{var o,n;const r=(o=e[0])!=null?o:Number(t.min),s=(n=e[1])!=null?n:Number(t.max);return r>s?[s,r]:[r,s]},w=(e,o)=>{y(e)?e=q(e).map(B):e=B(e),Z(e,t.modelValue)||k("update:modelValue",e),o&&!Z(e,_)&&k("change",e)},G=e=>{if(e.stopPropagation(),t.disabled||t.readonly)return;F();const{min:o,reverse:n,vertical:r,modelValue:s}=t,h=ee(S),D=()=>r?n?h.bottom-e.clientY:e.clientY-h.top:n?h.right-e.clientX:e.clientX-h.left,Y=r?h.height:h.width,T=Number(o)+D()/Y*g.value;if(y(s)){const[c,Q]=s,ce=(c+Q)/2;T<=ce?w([T,Q],!0):w([c,T],!0)}else w(T,!0)},R=e=>{t.disabled||t.readonly||(C.start(e),u=t.modelValue,F(),d.value="start")},V=e=>{if(t.disabled||t.readonly)return;d.value==="start"&&k("dragStart",e),he(e,!0),C.move(e),d.value="dragging";const o=ee(S),n=t.vertical?C.deltaY.value:C.deltaX.value,r=t.vertical?o.height:o.width;let s=n/r*g.value;if(t.reverse&&(s=-s),y(_)){const h=t.reverse?1-l:l;u[h]=_[h]+s}else u=_+s;w(u)},I=e=>{t.disabled||t.readonly||(d.value==="dragging"&&(w(u,!0),k("dragEnd",e)),d.value="")},U=e=>typeof e=="number"?A("button-wrapper",["left","right"][e]):A("button-wrapper",t.reverse?"left":"right"),L=(e,o)=>{const n=d.value==="dragging";if(typeof o=="number"){const r=b[o===0?"left-button":"right-button"];let s;if(n&&Array.isArray(u)&&(s=u[0]>u[1]?l^1:l),r)return r({value:e,dragging:n,dragIndex:s})}return b.button?b.button({value:e,dragging:n}):i("div",{class:A("button"),style:pe(t.buttonSize)},null)},a=e=>{const o=typeof e=="number"?t.modelValue[e]:t.modelValue;return i("div",{ref:f[e??0],role:"slider",class:U(e),tabindex:t.disabled?void 0:0,"aria-valuemin":t.min,"aria-valuenow":o,"aria-valuemax":t.max,"aria-disabled":t.disabled||void 0,"aria-readonly":t.readonly||void 0,"aria-orientation":t.vertical?"vertical":"horizontal",onTouchstartPassive:n=>{typeof e=="number"&&(l=e),R(n)},onTouchend:I,onTouchcancel:I,onClick:ve},[L(o,e)])};return w(t.modelValue),fe(()=>t.modelValue),f.forEach(e=>{ge("touchmove",V,{target:e})}),()=>i("div",{ref:S,style:M.value,class:A({vertical:t.vertical,disabled:t.disabled}),onClick:G},[i("div",{class:A("bar"),style:z.value},[t.range?[a(0),a(1)]:a()])])}});const Xe=Se(Oe);const Je={class:"picker-fontSize-wrapper"},Ke={class:"setting-box st-bg-white"},qe={class:we(["st-flex-center"])},Ge={class:"slider"},Qe={class:"custom-button"},We=X({name:"PickerFontSize"}),Ze=Object.assign(We,{emits:["change"],setup(t,{emit:k}){const b=ae({fontSize:+N.get("fontSize")||se,fontTypes:le}),{fontSize:l,fontTypes:u}=re(b),_=E("setSize"),S=f=>{console.log(f),N.set("fontSize",f),localStorage.setItem("fontSize",f),_(f+"px"),k("change",f)};return(f,d)=>{const C=Xe;return O(),ye("div",Je,[v("div",Ke,[v("div",qe,te(m(u).get(+m(l))),1),v("div",Ge,[i(C,{modelValue:m(l),"onUpdate:modelValue":d[0]||(d[0]=g=>P(l)?l.value=g:null),max:16,min:12,step:2,onChange:S},{button:x(()=>[v("div",Qe,te(m(l)),1)]),_:1},8,["modelValue"])])])])}}}),et=ie(Ze,[["__scopeId","data-v-7c9c5aae"]]);const tt=t=>(Ie("data-v-49f44dd4"),t=t(),Ee(),t),ot={class:"content"},nt={class:"st-margin-top-10"},at=tt(()=>v("div",{class:"color-point"},null,-1)),st={class:"st-margin-top-10"},lt={class:"st-margin-top-10"},rt={class:"st-flex-center st-margin-top-15"},it={class:"color-wrapper"},ct=X({name:"Setting"}),ut=Object.assign(ct,{setup(t){Te(a=>({"7c65cc22":m(l)}));const k=E("setThemeColor");E("themeColor");const b=p(!1),l=p(N.get("themeColor")||Ce),u=a=>{console.log("主题色",a),k(a)};Pe();const _=Ve(),S=Ne(),f=E("setTheme"),d=p(N.get("darkMode")==="dark"),C=a=>{f(a?"dark":"light"),d.value=a,N.set("darkMode",a?"dark":"light")},g=p(localStorage.getItem("showEruda")==="true"),M=async a=>{console.log("flag:",a),localStorage.setItem("showEruda",a?"true":"false"),ne.emit("showEruda",a)},y=ae({title:_.currentRoute.value.meta.title,screenLock:!1,showFontSize:!1,fontSize:N.get("fontSize")||se,fontTypes:le}),{title:J,screenLock:K,showFontSize:z,fontSize:B,fontTypes:F}=re(y);p(!1);const q=()=>{z.value=!0},w=a=>{B.value=a},G=()=>{Me({message:"敬请期待~"})},R=()=>{b.value=!0},V=p(!1),I=[{name:"退出登录",color:"#ee0a24"}],U=async a=>{V.value=!1,await L()},L=async()=>{await S.dispatch("logout"),await S.dispatch("cacheViews/clearView"),await _.replace("/login"),ne.emit("resetPageStack")};return(a,e)=>{const o=Re,n=$e,r=De,s=Ue,h=Ye,D=Fe,Y=ue,T=Ae("waves");return O(),oe(Y,{class:"page-wrapper",title:"我的设置"},{default:x(()=>[v("div",ot,[v("div",nt,[i(o,{center:"","is-link":"",title:"个人资料",to:"/edit-baseinfo"}),$("",!0),i(n,{show:m(z),"onUpdate:show":e[0]||(e[0]=c=>P(z)?z.value=c:null),position:"bottom","z-index":9999,closeable:!1},{default:x(()=>[i(et,{onChange:w})]),_:1},8,["show"]),$("",!0),i(o,{center:"",title:"主题色",onClick:R},{value:x(()=>[at]),_:1}),$("",!0),i(s,{name:"eruda",label:"eruda调试","input-align":"right",center:""},{input:x(()=>[i(r,{modelValue:m(g),"onUpdate:modelValue":e[2]||(e[2]=c=>P(g)?g.value=c:null),size:m(xe)(18),onChange:M},null,8,["modelValue","size"])]),_:1})]),v("div",st,[i(o,{center:"",title:"导航栏设置","is-link":"",to:"/setting-tabbar"}),$("",!0)]),v("div",lt,[$("",!0)]),v("div",rt,[ze((O(),oe(h,{block:"",style:{width:"80%"},type:"primary",onClick:e[3]||(e[3]=c=>V.value=!0)},{default:x(()=>[Be(" 退出登录 ")]),_:1})),[[T]])])]),i(D,{show:m(V),"onUpdate:show":e[4]||(e[4]=c=>P(V)?V.value=c:null),actions:I,"cancel-text":"取消",description:"确定要退出当前账号？","close-on-click-overlay":!0,onSelect:U},null,8,["show"]),i(n,{show:m(b),"onUpdate:show":e[6]||(e[6]=c=>P(b)?b.value=c:null)},{default:x(()=>[v("div",it,[i(m(Le),{pureColor:m(l),"onUpdate:pureColor":e[5]||(e[5]=c=>P(l)?l.value=c:null),"is-widget":!0,"disable-alpha":"",format:"hex","picker-type":"chrome","use-type":"pure",onPureColorChange:u},null,8,["pureColor"])])]),_:1},8,["show"])]),_:1})}}}),Ct=ie(ut,[["__scopeId","data-v-49f44dd4"]]);export{Ct as default};
