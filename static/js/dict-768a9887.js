import{d as v,f as i,k as d,x as p,F as C,G as b,A as S,z as F,K as y,y as h,s as I,c as k,p as _,m as $,a as g,q as N,a7 as P,d9 as U,g as O,i as A,O as D,P as R}from"./index-2d318566.js";import{_ as V}from"./plugin-vue_export-helper-c27b6911.js";import"./index-434b4cca.js";import{F as w}from"./index-f2118f16.js";/* empty css              */import"./index-c31337e6.js";import{D as j}from"./index-d24697aa.js";import{C as M}from"./index-7451b2d1.js";const q=v({props:{modelValue:{type:[Array,String,Number,Boolean,Object],default:""},title:{type:String,default:""},name:{type:String,default:""},options:{type:Array,default:()=>[]},columnNum:{type:[Number,String],default:3},gutter:{type:[Number,String],default:10}},emits:["update:modelValue"],setup(e,{emit:o}){return{itemStyle:{flexBasis:`${1/e.columnNum*100}%`,paddingRight:`${e.gutter}px`},onChange:s=>{o("update:modelValue",s.value)}}}}),z={class:"custom-radio"},E={class:"radio-group"},H=["onClick"],T={class:"radio-item__text"};function G(e,o,l,n,s,m){return i(),d("div",z,[p("ul",E,[(i(!0),d(C,null,b(e.options,(t,r)=>(i(),d("li",{key:t.value,class:"radio-item",style:S({...e.itemStyle,marginTop:r>=+e.columnNum?10/37.5+"rem":0})},[p("div",{class:F(["radio-item__content",{"is-selected":e.modelValue===t.value}]),onClick:y(u=>e.onChange(t),["stop"])},[p("div",T,h(t.label),1)],10,H)],4))),128))])])}const K=V(q,[["render",G],["__scopeId","data-v-3f166f4a"]]);const L=v({props:{modelValue:{type:[Array,String,Number,Boolean,Object],default:""},name:{type:String,default:""},options:{type:Array,default:()=>[]},columnNum:{type:[Number,String],default:1},gutter:{type:[Number,String],default:10}},emits:["update:modelValue"],setup(e,{emit:o}){return{itemStyle:{flexBasis:`${1/e.columnNum*100}%`},onChange:s=>{o("update:modelValue",s.value)}}}}),J={class:"custom-cell"},Q={class:"cell-group"},W=["onClick"],X={class:"cell-item__text"};function Y(e,o,l,n,s,m){return i(),d("div",J,[p("ul",Q,[(i(!0),d(C,null,b(e.options,(t,r)=>(i(),d("li",{key:t.value,class:"cell-item",style:S({...e.itemStyle,marginTop:r>=+e.columnNum?10/37.5+"rem":0})},[p("div",{class:F(["cell-item__content",{"is-selected":e.modelValue==t.value}]),onClick:y(u=>e.onChange(t),["stop"])},[p("div",X,h(t.label),1),I("",!0)],10,W)],4))),128))])])}const Z=V(L,[["render",Y],["__scopeId","data-v-4d12a098"]]);const x=v({props:["modelValue"],emits:["update:modelValue"],setup(e,{emit:o}){return{inputValue:k({get:()=>e.modelValue,set:n=>{o("update:modelValue",n)}})}}}),ee={class:"custom-input"};function oe(e,o,l,n,s,m){const t=w;return i(),d("div",ee,[_(t,$({modelValue:e.inputValue,"onUpdate:modelValue":o[0]||(o[0]=r=>e.inputValue=r),modelModifiers:{trim:!0},autocomplete:"off",clearable:""},e.$attrs),null,16,["modelValue"])])}const te=V(x,[["render",oe],["__scopeId","data-v-65699d74"]]);const se=v({props:["modelValue"],emits:["update:modelValue"],setup(e,{emit:o}){const l=k({get:()=>e.modelValue,set:t=>{o("update:modelValue",t)}}),n=g(!1),s=document.querySelector(".form-wrapper");return{inputValue:l,showPicker:n,teleport:s,onConfirm:({selectedValues:t})=>{const r=t.join("-");o("update:modelValue",r),n.value=!1}}}}),ne={class:"custom-date-picker"};function le(e,o,l,n,s,m){const t=w,r=j,u=P;return i(),d("div",ne,[_(t,$({modelValue:e.inputValue,"onUpdate:modelValue":o[0]||(o[0]=a=>e.inputValue=a),readonly:!0,clearable:""},e.$attrs,{onClick:o[1]||(o[1]=a=>e.showPicker=!0)}),null,16,["modelValue"]),_(u,{show:e.showPicker,"onUpdate:show":o[3]||(o[3]=a=>e.showPicker=a),position:"bottom",teleport:e.teleport,overlay:!0},{default:N(()=>[_(r,{title:"选择时间",onConfirm:e.onConfirm,onCancel:o[2]||(o[2]=a=>e.showPicker=!1)},null,8,["onConfirm"])]),_:1},8,["show","teleport"])])}const ae=V(se,[["render",le],["__scopeId","data-v-6e6dd16e"]]);const re=v({props:["modelValue"],emits:["update:modelValue"],setup(e,{emit:o,attrs:l}){const n=k({get:()=>e.modelValue,set:u=>{o("update:modelValue",u)}}),s=g(!1),m=g(""),t=document.querySelector(".form-wrapper");return{inputValue:n,cascaderValue:m,showPicker:s,teleport:t,onFinish:({selectedOptions:u})=>{const{text:a,value:c}=l.fieldNames||{text:"label",value:"value",children:"children"},f=u.map(B=>B[a]).join("/");o("update:modelValue",f),s.value=!1}}}}),ue={class:"custom-cascader"};function ie(e,o,l,n,s,m){const t=w,r=M,u=P;return i(),d("div",ue,[_(t,$({modelValue:e.inputValue,"onUpdate:modelValue":o[0]||(o[0]=a=>e.inputValue=a),readonly:!0},e.$attrs,{onClick:o[1]||(o[1]=a=>e.showPicker=!0)}),null,16,["modelValue"]),_(u,{show:e.showPicker,"onUpdate:show":o[4]||(o[4]=a=>e.showPicker=a),position:"bottom",teleport:e.teleport,overlay:!0},{default:N(()=>[_(r,$({modelValue:e.cascaderValue,"onUpdate:modelValue":o[2]||(o[2]=a=>e.cascaderValue=a),title:"请选择所在地区"},e.$attrs,{onClose:o[3]||(o[3]=a=>e.showPicker=!1),onFinish:e.onFinish}),null,16,["modelValue","onFinish"])]),_:1},8,["show","teleport"])])}const de=V(re,[["render",ie],["__scopeId","data-v-727503ca"]]);const pe=v({name:"FilterSearch",components:{InputField:te,RadioField:K,DateField:ae,CellField:Z,CascaderField:de},props:{showHeader:Boolean,formOptions:{type:Object,default:()=>({"label-align":"top","label-width":"6.2em","input-align":"left"})},formItems:{type:Array,default:()=>[]}},emits:["confirm","reset"],setup(e,{emit:o}){const l=r=>{const u={},a=c=>{let f="";return U(c.value)?[].includes(c.type)?f=[]:f="":f=c.value,f};return e.formItems.forEach(c=>{c.name&&(u[c.name]=a(c))}),{...u}},n={"label-align":"top","label-width":"6.2em","input-align":"left",...e.formOptions},s=g(l()),m=async()=>{s.value=l(),o("reset",s.value),t()},t=()=>{console.log("onConfirm",s.value),o("confirm",s.value)};return{formProps:n,formValues:s,onReset:m,onConfirm:t}}}),me=e=>(D("data-v-e0b284b6"),e=e(),R(),e),ce={class:"form form-wrapper"},_e={key:0,class:"form__header"},fe=me(()=>p("div",{class:"form__header-title"},h("数据筛选"),-1)),ve=[fe],Ve={class:"form__body"},$e={class:"filter__item-title"},ye={class:"form__footer van-safe-area-bottom"};function ge(e,o,l,n,s,m){return i(),d("div",ce,[e.showHeader?(i(),d("div",_e,ve)):I("",!0),p("div",Ve,[(i(!0),d(C,null,b(e.formItems,(t,r)=>(i(),d("div",{key:t.name+r,class:"filter__item"},[p("div",$e,h(t.title),1),(i(),O(A(t.type),$({modelValue:e.formValues[t.name],"onUpdate:modelValue":u=>e.formValues[t.name]=u,title:t.title},t.attrs),null,16,["modelValue","onUpdate:modelValue","title"]))]))),128))]),p("div",ye,[p("div",{class:"filter__reset",onClick:o[0]||(o[0]=y((...t)=>e.onReset&&e.onReset(...t),["stop"]))},"重置"),p("div",{class:"filter__confirm",onClick:o[1]||(o[1]=y((...t)=>e.onConfirm&&e.onConfirm(...t),["stop"]))},"确定")])])}const Ne=V(pe,[["render",ge],["__scopeId","data-v-e0b284b6"]]),Pe=(e=new Map)=>{const o=[];for(const[l,n]of e.entries()){const s={label:n,value:l};o.push(s)}return console.log("subItems:",o),o};export{Ne as _,Pe as g};
