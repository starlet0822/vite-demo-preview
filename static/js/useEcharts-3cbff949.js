import{$ as ll,v as Ja,e as ul,x as vl,l as cl,bp as hl,ag as fl,u as Mt,bq as qa,I as gl,aw as dl}from"./index-77d71d8d.js";import{Z as ie,w as Ka,_ as G,m as D,B as ce,p as uo,q as Gt,s as Sa,t as ye,v as vo,x as co,y as H,z as yt,M as pl,A as gt,C as ml,D as ba,E as yl,F as Sl,G as bl,H as Vt,l as q,I as _l,J as xl,K as ho,L as wl,N as Al,O as Tl,P as Ml,Q as _a,R as de,T as fo,U as Cl,V as Dl,W as xa,X as go,Y as po,$ as X,a0 as cr,a1 as Il,a2 as We,a3 as wa,a4 as Ft,a5 as Ht,a6 as mo,a7 as ne,a8 as Pl,a9 as Ae,aa as Ll,ab as Rl,ac as Aa,ad as kl,ae as Ol,af as El,ag as yo,ah as le,ai as Gl,aj as Vl,ak as Nl,al as zl,am as Bl,an as se,ao as Fl,n as Hl,ap as Wl,aq as Zl,ar as So,as as Ul,at as hr,au as Ta,av as Xl,aw as F,ax as tt,ay as ee,az as Q,aA as Y,aB as Ce,aC as $l,k as j,aD as oe,aE as Ie,aF as J,aG as pe,aH as bo,aI as _o,aJ as fr,aK as xo,aL as wo,aM as Le,aN as De,aO as Re,aP as ke,S as Ao,aQ as xe,aR as Yl,aS as $e,aT as jl,aU as Jl,aV as ql,aW as Kl,aX as Ql,aY as eu,aZ as tu,a_ as ue,d as ru,a$ as au,b0 as nu,e as iu,b1 as ou,b2 as su,b3 as lu,b4 as uu,b5 as vu,o as cu,b6 as hu,b7 as fu,b8 as To,b9 as gu,r as du,ba as pu,bb as mu,bc as yu,bd as Su,be as bu,h as _u,bf as xu,bg as wu,bh as Au,bi as Tu,bj as Mu,bk as Cu,bl as Du,bm as Mo,u as ge,bn as Iu,bo as Pu,bp as Lu,bq as Ru,br as gr,bs as Se,bt as Qa,bu as ku,bv as Ou,bw as Ma,bx as rt,by as Co,bz as at,bA as Ze,bB as te,bC as en,bD as Eu,bE as Do,bF as Kt,bG as Oe,bH as dt,bI as Io,bJ as tn,bK as be,bL as rn,bM as St,bN as bt,bO as jr,bP as Jr,bQ as Gu,bR as Po,bS as an,bT as Vu,bU as Nu,bV as dr,bW as nn,bX as zu,bY as qr,bZ as Lo,b_ as Bu,b$ as Fu,j as Ue,c0 as B,c1 as we,c2 as Hu,c3 as Wu,c4 as Zu,c5 as Uu,c6 as Xu,c7 as $u,c8 as Yu,c9 as Ro,ca as ju,cb as ko,cc as Oo,cd as Xe,ce as Eo,cf as Ju,cg as qu,ch as Ca,ci as Go,cj as Ku,ck as _t,cl as Qu,cm as ev,cn as _r,co as tv,cp as rv,cq as av,cr as nv,cs as pr,ct as Kr,cu as on,cv as Qt,cw as iv,cx as ov,cy as me,cz as Da,cA as Ia,cB as W,cC as sv,cD as Qr,cE as sn,cF as Nt,cG as lv,cH as et,cI as uv,cJ as vv,cK as Vo,cL as cv,cM as No,cN as Pa,cO as hv,cP as fv,cQ as ea,cR as zo,cS as Bo,cT as gv,cU as dv,cV as er,cW as Rt,cX as pv,cY as mv,cZ as La,c_ as yv,c$ as Fo,d0 as Sv,d1 as ln,d2 as bv,d3 as _v,d4 as mr,d5 as tr,d6 as Ho,d7 as ta,d8 as xv,d9 as wv,da as Av,db as Tv,dc as Mv,dd as Wo,de as Cv,df as re,dg as Dv,dh as un,di as vn,dj as Iv,dk as Pv,dl as xr,dm as cn,dn as Lv,dp as Rv,dq as kv,g as ra,dr as Ot,ds as Ov,dt as Ev,du as Zo,dv as Gv,dw as Vv,dx as Nv,dy as zv,dz as Bv,dA as Fv,dB as mt,dC as rr,dD as Uo,dE as Ra,dF as Hv,dG as ka,dH as wr,dI as hn,dJ as Wv,a as Zv,b as Uv,i as Xv}from"./install-caa0498b.js";function $v(a,t,e,r,n,i,o,s){var l=new ie({style:{text:a,font:t,align:e,verticalAlign:r,padding:n,rich:i,overflow:o?"truncate":null,lineHeight:s}});return l.getBoundingRect()}var Yv=1e-8;function fn(a,t){return Math.abs(a-t)<Yv}function gn(a,t,e){var r=0,n=a[0];if(!n)return!1;for(var i=1;i<a.length;i++){var o=a[i];r+=Ka(n[0],n[1],o[0],o[1],t,e),n=o}var s=a[0];return(!fn(n[0],s[0])||!fn(n[1],s[1]))&&(r+=Ka(n[0],n[1],s[0],s[1],t,e)),r!==0}var jv=[];function Ar(a,t){for(var e=0;e<a.length;e++)ye(a[e],a[e],t)}function dn(a,t,e,r){for(var n=0;n<a.length;n++){var i=a[n];r&&(i=r.project(i)),i&&isFinite(i[0])&&isFinite(i[1])&&(vo(t,t,i),co(e,e,i))}}function Jv(a){for(var t=0,e=0,r=0,n=a.length,i=a[n-1][0],o=a[n-1][1],s=0;s<n;s++){var l=a[s][0],u=a[s][1],v=i*u-l*o;t+=v,e+=(i+l)*v,r+=(o+u)*v,i=l,o=u}return t?[e/t/3,r/t/3,t]:[a[0][0]||0,a[0][1]||0]}var Xo=function(){function a(t){this.name=t}return a.prototype.setCenter=function(t){this._center=t},a.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},a}(),pn=function(){function a(t,e){this.type="polygon",this.exterior=t,this.interiors=e}return a}(),mn=function(){function a(t){this.type="linestring",this.points=t}return a}(),$o=function(a){G(t,a);function t(e,r,n){var i=a.call(this,e)||this;return i.type="geoJSON",i.geometries=r,i._center=n&&[n[0],n[1]],i}return t.prototype.calcCenter=function(){for(var e=this.geometries,r,n=0,i=0;i<e.length;i++){var o=e[i],s=o.exterior,l=s&&s.length;l>n&&(r=o,n=l)}if(r)return Jv(r.exterior);var u=this.getBoundingRect();return[u.x+u.width/2,u.y+u.height/2]},t.prototype.getBoundingRect=function(e){var r=this._rect;if(r&&!e)return r;var n=[1/0,1/0],i=[-1/0,-1/0],o=this.geometries;return D(o,function(s){s.type==="polygon"?dn(s.exterior,n,i,e):D(s.points,function(l){dn(l,n,i,e)})}),isFinite(n[0])&&isFinite(n[1])&&isFinite(i[0])&&isFinite(i[1])||(n[0]=n[1]=i[0]=i[1]=0),r=new ce(n[0],n[1],i[0]-n[0],i[1]-n[1]),e||(this._rect=r),r},t.prototype.contain=function(e){var r=this.getBoundingRect(),n=this.geometries;if(!r.contain(e[0],e[1]))return!1;e:for(var i=0,o=n.length;i<o;i++){var s=n[i];if(s.type==="polygon"){var l=s.exterior,u=s.interiors;if(gn(l,e[0],e[1])){for(var v=0;v<(u?u.length:0);v++)if(gn(u[v],e[0],e[1]))continue e;return!0}}}return!1},t.prototype.transformTo=function(e,r,n,i){var o=this.getBoundingRect(),s=o.width/o.height;n?i||(i=n/s):n=s*i;for(var l=new ce(e,r,n,i),u=o.calculateTransform(l),v=this.geometries,c=0;c<v.length;c++){var f=v[c];f.type==="polygon"?(Ar(f.exterior,u),D(f.interiors,function(h){Ar(h,u)})):D(f.points,function(h){Ar(h,u)})}o=this._rect,o.copy(l),this._center=[o.x+o.width/2,o.y+o.height/2]},t.prototype.cloneShallow=function(e){e==null&&(e=this.name);var r=new t(e,this.geometries,this._center);return r._rect=this._rect,r.transformTo=null,r},t}(Xo),qv=function(a){G(t,a);function t(e,r){var n=a.call(this,e)||this;return n.type="geoSVG",n._elOnlyForCalculate=r,n}return t.prototype.calcCenter=function(){for(var e=this._elOnlyForCalculate,r=e.getBoundingRect(),n=[r.x+r.width/2,r.y+r.height/2],i=uo(jv),o=e;o&&!o.isGeoSVGGraphicRoot;)Gt(i,o.getLocalTransform(),i),o=o.parent;return Sa(i,i),ye(n,n,i),n},t}(Xo);function Kv(a){if(!a.UTF8Encoding)return a;var t=a,e=t.UTF8Scale;e==null&&(e=1024);var r=t.features;return D(r,function(n){var i=n.geometry,o=i.encodeOffsets,s=i.coordinates;if(o)switch(i.type){case"LineString":i.coordinates=Yo(s,o,e);break;case"Polygon":Tr(s,o,e);break;case"MultiLineString":Tr(s,o,e);break;case"MultiPolygon":D(s,function(l,u){return Tr(l,o[u],e)})}}),t.UTF8Encoding=!1,t}function Tr(a,t,e){for(var r=0;r<a.length;r++)a[r]=Yo(a[r],t[r],e)}function Yo(a,t,e){for(var r=[],n=t[0],i=t[1],o=0;o<a.length;o+=2){var s=a.charCodeAt(o)-64,l=a.charCodeAt(o+1)-64;s=s>>1^-(s&1),l=l>>1^-(l&1),s+=n,l+=i,n=s,i=l,r.push([s/e,l/e])}return r}function aa(a,t){return a=Kv(a),H(yt(a.features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(e){var r=e.properties,n=e.geometry,i=[];switch(n.type){case"Polygon":var o=n.coordinates;i.push(new pn(o[0],o.slice(1)));break;case"MultiPolygon":D(n.coordinates,function(l){l[0]&&i.push(new pn(l[0],l.slice(1)))});break;case"LineString":i.push(new mn([n.coordinates]));break;case"MultiLineString":i.push(new mn(n.coordinates))}var s=new $o(r[t||"name"],i,r.cp);return s.properties=r,s})}const Qv=Object.freeze(Object.defineProperty({__proto__:null,MAX_SAFE_INTEGER:pl,asc:gt,getPercentWithPrecision:ml,getPixelPrecision:ba,getPrecision:yl,getPrecisionSafe:Sl,isNumeric:bl,isRadianAroundZero:Vt,linearMap:q,nice:_l,numericToNumber:xl,parseDate:ho,quantile:wl,quantity:Al,quantityExponent:Tl,reformIntervals:Ml,remRadian:_a,round:de},Symbol.toStringTag,{value:"Module"})),ec=Object.freeze(Object.defineProperty({__proto__:null,format:fo,parse:ho},Symbol.toStringTag,{value:"Module"})),tc=Object.freeze(Object.defineProperty({__proto__:null,Arc:Cl,BezierCurve:Dl,BoundingRect:ce,Circle:xa,CompoundPath:go,Ellipse:po,Group:X,Image:cr,IncrementalDisplayable:Il,Line:We,LinearGradient:wa,Polygon:Ft,Polyline:Ht,RadialGradient:mo,Rect:ne,Ring:Pl,Sector:Ae,Text:ie,clipPointsByRect:Ll,clipRectByRect:Rl,createIcon:Aa,extendPath:kl,extendShape:Ol,getShapeClass:El,getTransform:yo,initProps:le,makeImage:Gl,makePath:Vl,mergePath:Nl,registerShape:zl,resizePath:Bl,updateProps:se},Symbol.toStringTag,{value:"Module"})),rc=Object.freeze(Object.defineProperty({__proto__:null,addCommas:Fl,capitalFirst:Hl,encodeHTML:Wl,formatTime:Zl,formatTpl:So,getTextRect:$v,getTooltipMarker:Ul,normalizeCssArray:hr,toCamelCase:Ta,truncateText:Xl},Symbol.toStringTag,{value:"Module"})),ac=Object.freeze(Object.defineProperty({__proto__:null,bind:F,clone:tt,curry:ee,defaults:Q,each:D,extend:Y,filter:yt,indexOf:Ce,inherits:$l,isArray:j,isFunction:oe,isObject:Ie,isString:J,map:H,merge:pe,reduce:bo},Symbol.toStringTag,{value:"Module"}));var zt=Le();function nc(a){return a.type==="category"?oc(a):lc(a)}function ic(a,t){return a.type==="category"?sc(a,t):{ticks:H(a.scale.getTicks(),function(e){return e.value})}}function oc(a){var t=a.getLabelModel(),e=jo(a,t);return!t.get("show")||a.scale.isBlank()?{labels:[],labelCategoryInterval:e.labelCategoryInterval}:e}function jo(a,t){var e=Jo(a,"labels"),r=_o(t),n=qo(e,r);if(n)return n;var i,o;return oe(r)?i=es(a,r):(o=r==="auto"?uc(a):r,i=Qo(a,o)),Ko(e,r,{labels:i,labelCategoryInterval:o})}function sc(a,t){var e=Jo(a,"ticks"),r=_o(t),n=qo(e,r);if(n)return n;var i,o;if((!t.get("show")||a.scale.isBlank())&&(i=[]),oe(r))i=es(a,r,!0);else if(r==="auto"){var s=jo(a,a.getLabelModel());o=s.labelCategoryInterval,i=H(s.labels,function(l){return l.tickValue})}else o=r,i=Qo(a,o,!0);return Ko(e,r,{ticks:i,tickCategoryInterval:o})}function lc(a){var t=a.scale.getTicks(),e=fr(a);return{labels:H(t,function(r,n){return{level:r.level,formattedLabel:e(r,n),rawLabel:a.scale.getLabel(r),tickValue:r.value}})}}function Jo(a,t){return zt(a)[t]||(zt(a)[t]=[])}function qo(a,t){for(var e=0;e<a.length;e++)if(a[e].key===t)return a[e].value}function Ko(a,t,e){return a.push({key:t,value:e}),e}function uc(a){var t=zt(a).autoInterval;return t??(zt(a).autoInterval=a.calculateCategoryInterval())}function vc(a){var t=cc(a),e=fr(a),r=(t.axisRotate-t.labelRotate)/180*Math.PI,n=a.scale,i=n.getExtent(),o=n.count();if(i[1]-i[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var l=i[0],u=a.dataToCoord(l+1)-a.dataToCoord(l),v=Math.abs(u*Math.cos(r)),c=Math.abs(u*Math.sin(r)),f=0,h=0;l<=i[1];l+=s){var g=0,d=0,p=xo(e({value:l}),t.font,"center","top");g=p.width*1.3,d=p.height*1.3,f=Math.max(f,g,7),h=Math.max(h,d,7)}var m=f/v,y=h/c;isNaN(m)&&(m=1/0),isNaN(y)&&(y=1/0);var S=Math.max(0,Math.floor(Math.min(m,y))),b=zt(a.model),x=a.getExtent(),_=b.lastAutoInterval,w=b.lastTickCount;return _!=null&&w!=null&&Math.abs(_-S)<=1&&Math.abs(w-o)<=1&&_>S&&b.axisExtent0===x[0]&&b.axisExtent1===x[1]?S=_:(b.lastTickCount=o,b.lastAutoInterval=S,b.axisExtent0=x[0],b.axisExtent1=x[1]),S}function cc(a){var t=a.getLabelModel();return{axisRotate:a.getRotate?a.getRotate():a.isHorizontal&&!a.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function Qo(a,t,e){var r=fr(a),n=a.scale,i=n.getExtent(),o=a.getLabelModel(),s=[],l=Math.max((t||0)+1,1),u=i[0],v=n.count();u!==0&&l>1&&v/l>2&&(u=Math.round(Math.ceil(u/l)*l));var c=wo(a),f=o.get("showMinLabel")||c,h=o.get("showMaxLabel")||c;f&&u!==i[0]&&d(i[0]);for(var g=u;g<=i[1];g+=l)d(g);h&&g-l!==i[1]&&d(i[1]);function d(p){var m={value:p};s.push(e?p:{formattedLabel:r(m),rawLabel:n.getLabel(m),tickValue:p})}return s}function es(a,t,e){var r=a.scale,n=fr(a),i=[];return D(r.getTicks(),function(o){var s=r.getLabel(o),l=o.value;t(o.value,s)&&i.push(e?l:{formattedLabel:n(o),rawLabel:s,tickValue:l})}),i}var yn=[0,1],hc=function(){function a(t,e,r){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=r||[0,0]}return a.prototype.contain=function(t){var e=this._extent,r=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]);return t>=r&&t<=n},a.prototype.containData=function(t){return this.scale.contain(t)},a.prototype.getExtent=function(){return this._extent.slice()},a.prototype.getPixelPrecision=function(t){return ba(t||this.scale.getExtent(),this._extent)},a.prototype.setExtent=function(t,e){var r=this._extent;r[0]=t,r[1]=e},a.prototype.dataToCoord=function(t,e){var r=this._extent,n=this.scale;return t=n.normalize(t),this.onBand&&n.type==="ordinal"&&(r=r.slice(),Sn(r,n.count())),q(t,yn,r,e)},a.prototype.coordToData=function(t,e){var r=this._extent,n=this.scale;this.onBand&&n.type==="ordinal"&&(r=r.slice(),Sn(r,n.count()));var i=q(t,r,yn,e);return this.scale.scale(i)},a.prototype.pointToData=function(t,e){},a.prototype.getTicksCoords=function(t){t=t||{};var e=t.tickModel||this.getTickModel(),r=ic(this,e),n=r.ticks,i=H(n,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=e.get("alignWithLabel");return fc(this,i,o,t.clamp),i},a.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),e=t.get("splitNumber");e>0&&e<100||(e=5);var r=this.scale.getMinorTicks(e),n=H(r,function(i){return H(i,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return n},a.prototype.getViewLabels=function(){return nc(this).labels},a.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},a.prototype.getTickModel=function(){return this.model.getModel("axisTick")},a.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),r=e[1]-e[0]+(this.onBand?1:0);r===0&&(r=1);var n=Math.abs(t[1]-t[0]);return Math.abs(n)/r},a.prototype.calculateCategoryInterval=function(){return vc(this)},a}();function Sn(a,t){var e=a[1]-a[0],r=t,n=e/r/2;a[0]+=n,a[1]-=n}function fc(a,t,e,r){var n=t.length;if(!a.onBand||e||!n)return;var i=a.getExtent(),o,s;if(n===1)t[0].coord=i[0],o=t[1]={coord:i[0]};else{var l=t[n-1].tickValue-t[0].tickValue,u=(t[n-1].coord-t[0].coord)/l;D(t,function(h){h.coord-=u/2});var v=a.scale.getExtent();s=1+v[1]-t[n-1].tickValue,o={coord:t[n-1].coord+u*s},t.push(o)}var c=i[0]>i[1];f(t[0].coord,i[0])&&(r?t[0].coord=i[0]:t.shift()),r&&f(i[0],t[0].coord)&&t.unshift({coord:i[0]}),f(i[1],o.coord)&&(r?o.coord=i[1]:t.pop()),r&&f(o.coord,i[1])&&t.push({coord:i[1]});function f(h,g){return h=de(h),g=de(g),c?h>g:h<g}}const ts=hc,bn=Object.freeze(Object.defineProperty({__proto__:null,Axis:ts,ChartView:De,ComponentModel:Re,ComponentView:ke,List:Ao,Model:xe,PRIORITY:Yl,SeriesModel:$e,color:jl,connect:Jl,dataTool:ql,dependencies:Kl,disConnect:Ql,disconnect:eu,dispose:tu,env:ue,extendChartView:ru,extendComponentModel:au,extendComponentView:nu,extendSeriesModel:iu,format:rc,getCoordinateSystemDimensions:ou,getInstanceByDom:su,getInstanceById:lu,getMap:uu,graphic:tc,helper:vu,init:cu,innerDrawElementOnCanvas:hu,matrix:fu,number:Qv,parseGeoJSON:aa,parseGeoJson:aa,registerAction:To,registerCoordinateSystem:gu,registerLayout:du,registerLoading:pu,registerLocale:mu,registerMap:yu,registerPostInit:Su,registerPostUpdate:bu,registerPreprocessor:_u,registerProcessor:xu,registerTheme:wu,registerTransform:Au,registerUpdateLifecycle:Tu,registerVisual:Mu,setCanvasCreator:Cu,setPlatformAPI:Du,throttle:Mo,time:ec,use:ge,util:ac,vector:Iu,version:Pu,zrUtil:Lu,zrender:Ru},Symbol.toStringTag,{value:"Module"}));var gc=function(a){G(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e){return gr(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var r=new X,n=Se("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);r.add(n),n.setStyle(e.lineStyle);var i=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s=i==="none"?"circle":i,l=e.itemHeight*.8,u=Se(s,(e.itemWidth-l)/2,(e.itemHeight-l)/2,l,l,e.itemStyle.fill);r.add(u),u.setStyle(e.itemStyle);var v=e.iconRotate==="inherit"?o:e.iconRotate||0;return u.rotation=v*Math.PI/180,u.setOrigin([e.itemWidth/2,e.itemHeight/2]),s.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),r},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}($e);const dc=gc;function Oa(a,t){var e=a.mapDimensionsAll("defaultedLabel"),r=e.length;if(r===1){var n=Qa(a,t,e[0]);return n!=null?n+"":null}else if(r){for(var i=[],o=0;o<e.length;o++)i.push(Qa(a,t,e[o]));return i.join(" ")}}function rs(a,t){var e=a.mapDimensionsAll("defaultedLabel");if(!j(t))return t+"";for(var r=[],n=0;n<e.length;n++){var i=a.getDimensionIndex(e[n]);i>=0&&r.push(t[i])}return r.join(" ")}var pc=function(a){G(t,a);function t(e,r,n,i){var o=a.call(this)||this;return o.updateData(e,r,n,i),o}return t.prototype._createSymbol=function(e,r,n,i,o){this.removeAll();var s=Se(e,-1,-1,2,2,null,o);s.attr({z2:100,culling:!0,scaleX:i[0]/2,scaleY:i[1]/2}),s.drift=mc,this._symbolType=e,this.add(s)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){ku(this.childAt(0))},t.prototype.downplay=function(){Ou(this.childAt(0))},t.prototype.setZ=function(e,r){var n=this.childAt(0);n.zlevel=e,n.z=r},t.prototype.setDraggable=function(e,r){var n=this.childAt(0);n.draggable=e,n.cursor=!r&&e?"move":n.cursor},t.prototype.updateData=function(e,r,n,i){this.silent=!1;var o=e.getItemVisual(r,"symbol")||"circle",s=e.hostModel,l=t.getSymbolSize(e,r),u=o!==this._symbolType,v=i&&i.disableAnimation;if(u){var c=e.getItemVisual(r,"symbolKeepAspect");this._createSymbol(o,e,r,l,c)}else{var f=this.childAt(0);f.silent=!1;var h={scaleX:l[0]/2,scaleY:l[1]/2};v?f.attr(h):se(f,h,s,r),Ma(f)}if(this._updateCommon(e,r,l,n,i),u){var f=this.childAt(0);if(!v){var h={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:f.style.opacity}};f.scaleX=f.scaleY=0,f.style.opacity=0,le(f,h,s,r)}}v&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(e,r,n,i,o){var s=this.childAt(0),l=e.hostModel,u,v,c,f,h,g,d,p,m;if(i&&(u=i.emphasisItemStyle,v=i.blurItemStyle,c=i.selectItemStyle,f=i.focus,h=i.blurScope,d=i.labelStatesModels,p=i.hoverScale,m=i.cursorStyle,g=i.emphasisDisabled),!i||e.hasItemOption){var y=i&&i.itemModel?i.itemModel:e.getItemModel(r),S=y.getModel("emphasis");u=S.getModel("itemStyle").getItemStyle(),c=y.getModel(["select","itemStyle"]).getItemStyle(),v=y.getModel(["blur","itemStyle"]).getItemStyle(),f=S.get("focus"),h=S.get("blurScope"),g=S.get("disabled"),d=rt(y),p=S.getShallow("scale"),m=y.getShallow("cursor")}var b=e.getItemVisual(r,"symbolRotate");s.attr("rotation",(b||0)*Math.PI/180||0);var x=Co(e.getItemVisual(r,"symbolOffset"),n);x&&(s.x=x[0],s.y=x[1]),m&&s.attr("cursor",m);var _=e.getItemVisual(r,"style"),w=_.fill;if(s instanceof cr){var A=s.style;s.useStyle(Y({image:A.image,x:A.x,y:A.y,width:A.width,height:A.height},_))}else s.__isEmptyBrush?s.useStyle(Y({},_)):s.useStyle(_),s.style.decal=null,s.setColor(w,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var T=e.getItemVisual(r,"liftZ"),M=this._z2;T!=null?M==null&&(this._z2=s.z2,s.z2+=T):M!=null&&(s.z2=M,this._z2=null);var C=o&&o.useNameLabel;at(s,d,{labelFetcher:l,labelDataIndex:r,defaultText:I,inheritColor:w,defaultOpacity:_.opacity});function I(R){return C?e.getName(R):Oa(e,R)}this._sizeX=n[0]/2,this._sizeY=n[1]/2;var P=s.ensureState("emphasis");P.style=u,s.ensureState("select").style=c,s.ensureState("blur").style=v;var L=p==null||p===!0?Math.max(1.1,3/this._sizeY):isFinite(p)&&p>0?+p:1;P.scaleX=this._sizeX*L,P.scaleY=this._sizeY*L,this.setSymbolScale(1),Ze(this,f,h,g)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,r,n){var i=this.childAt(0),o=te(this).dataIndex,s=n&&n.animation;if(this.silent=i.silent=!0,n&&n.fadeLabel){var l=i.getTextContent();l&&en(l,{style:{opacity:0}},r,{dataIndex:o,removeOpt:s,cb:function(){i.removeTextContent()}})}else i.removeTextContent();en(i,{style:{opacity:0},scaleX:0,scaleY:0},r,{dataIndex:o,cb:e,removeOpt:s})},t.getSymbolSize=function(e,r){return Eu(e.getItemVisual(r,"symbolSize"))},t}(X);function mc(a,t){this.parent.drift(a,t)}const Ea=pc;function Mr(a,t,e,r){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(r.isIgnore&&r.isIgnore(e))&&!(r.clipShape&&!r.clipShape.contain(t[0],t[1]))&&a.getItemVisual(e,"symbol")!=="none"}function _n(a){return a!=null&&!Ie(a)&&(a={isIgnore:a}),a||{}}function xn(a){var t=a.hostModel,e=t.getModel("emphasis");return{emphasisItemStyle:e.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:e.get("focus"),blurScope:e.get("blurScope"),emphasisDisabled:e.get("disabled"),hoverScale:e.get("scale"),labelStatesModels:rt(t),cursorStyle:t.get("cursor")}}var yc=function(){function a(t){this.group=new X,this._SymbolCtor=t||Ea}return a.prototype.updateData=function(t,e){this._progressiveEls=null,e=_n(e);var r=this.group,n=t.hostModel,i=this._data,o=this._SymbolCtor,s=e.disableAnimation,l=xn(t),u={disableAnimation:s},v=e.getSymbolPoint||function(c){return t.getItemLayout(c)};i||r.removeAll(),t.diff(i).add(function(c){var f=v(c);if(Mr(t,f,c,e)){var h=new o(t,c,l,u);h.setPosition(f),t.setItemGraphicEl(c,h),r.add(h)}}).update(function(c,f){var h=i.getItemGraphicEl(f),g=v(c);if(!Mr(t,g,c,e)){r.remove(h);return}var d=t.getItemVisual(c,"symbol")||"circle",p=h&&h.getSymbolType&&h.getSymbolType();if(!h||p&&p!==d)r.remove(h),h=new o(t,c,l,u),h.setPosition(g);else{h.updateData(t,c,l,u);var m={x:g[0],y:g[1]};s?h.attr(m):se(h,m,n)}r.add(h),t.setItemGraphicEl(c,h)}).remove(function(c){var f=i.getItemGraphicEl(c);f&&f.fadeOut(function(){r.remove(f)},n)}).execute(),this._getSymbolPoint=v,this._data=t},a.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl(function(r,n){var i=t._getSymbolPoint(n);r.setPosition(i),r.markRedraw()})},a.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=xn(t),this._data=null,this.group.removeAll()},a.prototype.incrementalUpdate=function(t,e,r){this._progressiveEls=[],r=_n(r);function n(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var i=t.start;i<t.end;i++){var o=e.getItemLayout(i);if(Mr(e,o,i,r)){var s=new this._SymbolCtor(e,i,this._seriesScope);s.traverse(n),s.setPosition(o),this.group.add(s),e.setItemGraphicEl(i,s),this._progressiveEls.push(s)}}},a.prototype.eachRendered=function(t){Do(this._progressiveEls||this.group,t)},a.prototype.remove=function(t){var e=this.group,r=this._data;r&&t?r.eachItemGraphicEl(function(n){n.fadeOut(function(){e.remove(n)},r.hostModel)}):e.removeAll()},a}();const as=yc;function ns(a,t,e){var r=a.getBaseAxis(),n=a.getOtherAxis(r),i=Sc(n,e),o=r.dim,s=n.dim,l=t.mapDimension(s),u=t.mapDimension(o),v=s==="x"||s==="radius"?1:0,c=H(a.dimensions,function(g){return t.mapDimension(g)}),f=!1,h=t.getCalculationInfo("stackResultDimension");return Kt(t,c[0])&&(f=!0,c[0]=h),Kt(t,c[1])&&(f=!0,c[1]=h),{dataDimsForPoint:c,valueStart:i,valueAxisDim:s,baseAxisDim:o,stacked:!!f,valueDim:l,baseDim:u,baseDataOffset:v,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function Sc(a,t){var e=0,r=a.scale.getExtent();return t==="start"?e=r[0]:t==="end"?e=r[1]:Oe(t)&&!isNaN(t)?e=t:r[0]>0?e=r[0]:r[1]<0&&(e=r[1]),e}function is(a,t,e,r){var n=NaN;a.stacked&&(n=e.get(e.getCalculationInfo("stackedOverDimension"),r)),isNaN(n)&&(n=a.valueStart);var i=a.baseDataOffset,o=[];return o[i]=e.get(a.baseDim,r),o[1-i]=n,t.dataToPoint(o)}function bc(a,t){var e=[];return t.diff(a).add(function(r){e.push({cmd:"+",idx:r})}).update(function(r,n){e.push({cmd:"=",idx:n,idx1:r})}).remove(function(r){e.push({cmd:"-",idx:r})}).execute(),e}function _c(a,t,e,r,n,i,o,s){for(var l=bc(a,t),u=[],v=[],c=[],f=[],h=[],g=[],d=[],p=ns(n,t,o),m=a.getLayout("points")||[],y=t.getLayout("points")||[],S=0;S<l.length;S++){var b=l[S],x=!0,_=void 0,w=void 0;switch(b.cmd){case"=":_=b.idx*2,w=b.idx1*2;var A=m[_],T=m[_+1],M=y[w],C=y[w+1];(isNaN(A)||isNaN(T))&&(A=M,T=C),u.push(A,T),v.push(M,C),c.push(e[_],e[_+1]),f.push(r[w],r[w+1]),d.push(t.getRawIndex(b.idx1));break;case"+":var I=b.idx,P=p.dataDimsForPoint,L=n.dataToPoint([t.get(P[0],I),t.get(P[1],I)]);w=I*2,u.push(L[0],L[1]),v.push(y[w],y[w+1]);var R=is(p,n,t,I);c.push(R[0],R[1]),f.push(r[w],r[w+1]),d.push(t.getRawIndex(I));break;case"-":x=!1}x&&(h.push(b),g.push(g.length))}g.sort(function(ae,K){return d[ae]-d[K]});for(var k=u.length,E=dt(k),O=dt(k),V=dt(k),N=dt(k),z=[],S=0;S<g.length;S++){var $=g[S],U=S*2,Z=$*2;E[U]=u[Z],E[U+1]=u[Z+1],O[U]=v[Z],O[U+1]=v[Z+1],V[U]=c[Z],V[U+1]=c[Z+1],N[U]=f[Z],N[U+1]=f[Z+1],z[S]=h[$]}return{current:E,next:O,stackedOnCurrent:V,stackedOnNext:N,status:z}}var Ge=Math.min,Ve=Math.max;function Ke(a,t){return isNaN(a)||isNaN(t)}function na(a,t,e,r,n,i,o,s,l){for(var u,v,c,f,h,g,d=e,p=0;p<r;p++){var m=t[d*2],y=t[d*2+1];if(d>=n||d<0)break;if(Ke(m,y)){if(l){d+=i;continue}break}if(d===e)a[i>0?"moveTo":"lineTo"](m,y),c=m,f=y;else{var S=m-u,b=y-v;if(S*S+b*b<.5){d+=i;continue}if(o>0){for(var x=d+i,_=t[x*2],w=t[x*2+1];_===m&&w===y&&p<r;)p++,x+=i,d+=i,_=t[x*2],w=t[x*2+1],m=t[d*2],y=t[d*2+1],S=m-u,b=y-v;var A=p+1;if(l)for(;Ke(_,w)&&A<r;)A++,x+=i,_=t[x*2],w=t[x*2+1];var T=.5,M=0,C=0,I=void 0,P=void 0;if(A>=r||Ke(_,w))h=m,g=y;else{M=_-u,C=w-v;var L=m-u,R=_-m,k=y-v,E=w-y,O=void 0,V=void 0;if(s==="x"){O=Math.abs(L),V=Math.abs(R);var N=M>0?1:-1;h=m-N*O*o,g=y,I=m+N*V*o,P=y}else if(s==="y"){O=Math.abs(k),V=Math.abs(E);var z=C>0?1:-1;h=m,g=y-z*O*o,I=m,P=y+z*V*o}else O=Math.sqrt(L*L+k*k),V=Math.sqrt(R*R+E*E),T=V/(V+O),h=m-M*o*(1-T),g=y-C*o*(1-T),I=m+M*o*T,P=y+C*o*T,I=Ge(I,Ve(_,m)),P=Ge(P,Ve(w,y)),I=Ve(I,Ge(_,m)),P=Ve(P,Ge(w,y)),M=I-m,C=P-y,h=m-M*O/V,g=y-C*O/V,h=Ge(h,Ve(u,m)),g=Ge(g,Ve(v,y)),h=Ve(h,Ge(u,m)),g=Ve(g,Ge(v,y)),M=m-h,C=y-g,I=m+M*V/O,P=y+C*V/O}a.bezierCurveTo(c,f,h,g,m,y),c=I,f=P}else a.lineTo(m,y)}u=m,v=y,d+=i}return p}var os=function(){function a(){this.smooth=0,this.smoothConstraint=!0}return a}(),xc=function(a){G(t,a);function t(e){var r=a.call(this,e)||this;return r.type="ec-polyline",r}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new os},t.prototype.buildPath=function(e,r){var n=r.points,i=0,o=n.length/2;if(r.connectNulls){for(;o>0&&Ke(n[o*2-2],n[o*2-1]);o--);for(;i<o&&Ke(n[i*2],n[i*2+1]);i++);}for(;i<o;)i+=na(e,n,i,o,o,1,r.smooth,r.smoothMonotone,r.connectNulls)+1},t.prototype.getPointOn=function(e,r){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var n=this.path,i=n.data,o=Io.CMD,s,l,u=r==="x",v=[],c=0;c<i.length;){var f=i[c++],h=void 0,g=void 0,d=void 0,p=void 0,m=void 0,y=void 0,S=void 0;switch(f){case o.M:s=i[c++],l=i[c++];break;case o.L:if(h=i[c++],g=i[c++],S=u?(e-s)/(h-s):(e-l)/(g-l),S<=1&&S>=0){var b=u?(g-l)*S+l:(h-s)*S+s;return u?[e,b]:[b,e]}s=h,l=g;break;case o.C:h=i[c++],g=i[c++],d=i[c++],p=i[c++],m=i[c++],y=i[c++];var x=u?tn(s,h,d,m,e,v):tn(l,g,p,y,e,v);if(x>0)for(var _=0;_<x;_++){var w=v[_];if(w<=1&&w>=0){var b=u?rn(l,g,p,y,w):rn(s,h,d,m,w);return u?[e,b]:[b,e]}}s=m,l=y;break}}},t}(be),wc=function(a){G(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t}(os),Ac=function(a){G(t,a);function t(e){var r=a.call(this,e)||this;return r.type="ec-polygon",r}return t.prototype.getDefaultShape=function(){return new wc},t.prototype.buildPath=function(e,r){var n=r.points,i=r.stackedOnPoints,o=0,s=n.length/2,l=r.smoothMonotone;if(r.connectNulls){for(;s>0&&Ke(n[s*2-2],n[s*2-1]);s--);for(;o<s&&Ke(n[o*2],n[o*2+1]);o++);}for(;o<s;){var u=na(e,n,o,s,s,1,r.smooth,l,r.connectNulls);na(e,i,o+u-1,u,s,-1,r.stackedOnSmooth,l,r.connectNulls),o+=u+1,e.closePath()}},t}(be);function ss(a,t,e,r,n){var i=a.getArea(),o=i.x,s=i.y,l=i.width,u=i.height,v=e.get(["lineStyle","width"])||2;o-=v/2,s-=v/2,l+=v,u+=v,o=Math.floor(o),l=Math.round(l);var c=new ne({shape:{x:o,y:s,width:l,height:u}});if(t){var f=a.getBaseAxis(),h=f.isHorizontal(),g=f.inverse;h?(g&&(c.shape.x+=l),c.shape.width=0):(g||(c.shape.y+=u),c.shape.height=0);var d=oe(n)?function(p){n(p,c)}:null;le(c,{shape:{width:l,height:u,x:o,y:s}},e,null,r,d)}return c}function ls(a,t,e){var r=a.getArea(),n=de(r.r0,1),i=de(r.r,1),o=new Ae({shape:{cx:de(a.cx,1),cy:de(a.cy,1),r0:n,r:i,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});if(t){var s=a.getBaseAxis().dim==="angle";s?o.shape.endAngle=r.startAngle:o.shape.r=n,le(o,{shape:{endAngle:r.endAngle,r:i}},e)}return o}function Tc(a,t,e,r,n){if(a){if(a.type==="polar")return ls(a,t,e);if(a.type==="cartesian2d")return ss(a,t,e,r,n)}else return null;return null}function Ga(a,t){return a.type===t}function wn(a,t){if(a.length===t.length){for(var e=0;e<a.length;e++)if(a[e]!==t[e])return;return!0}}function An(a){for(var t=1/0,e=1/0,r=-1/0,n=-1/0,i=0;i<a.length;){var o=a[i++],s=a[i++];isNaN(o)||(t=Math.min(o,t),r=Math.max(o,r)),isNaN(s)||(e=Math.min(s,e),n=Math.max(s,n))}return[[t,e],[r,n]]}function Tn(a,t){var e=An(a),r=e[0],n=e[1],i=An(t),o=i[0],s=i[1];return Math.max(Math.abs(r[0]-o[0]),Math.abs(r[1]-o[1]),Math.abs(n[0]-s[0]),Math.abs(n[1]-s[1]))}function Mn(a){return Oe(a)?a:a?.5:0}function Mc(a,t,e){if(!e.valueDim)return[];for(var r=t.count(),n=dt(r*2),i=0;i<r;i++){var o=is(e,a,t,i);n[i*2]=o[0],n[i*2+1]=o[1]}return n}function Ne(a,t,e,r){var n=t.getBaseAxis(),i=n.dim==="x"||n.dim==="radius"?0:1,o=[],s=0,l=[],u=[],v=[],c=[];if(r){for(s=0;s<a.length;s+=2)!isNaN(a[s])&&!isNaN(a[s+1])&&c.push(a[s],a[s+1]);a=c}for(s=0;s<a.length-2;s+=2)switch(v[0]=a[s+2],v[1]=a[s+3],u[0]=a[s],u[1]=a[s+1],o.push(u[0],u[1]),e){case"end":l[i]=v[i],l[1-i]=u[1-i],o.push(l[0],l[1]);break;case"middle":var f=(u[i]+v[i])/2,h=[];l[i]=h[i]=f,l[1-i]=u[1-i],h[1-i]=v[1-i],o.push(l[0],l[1]),o.push(h[0],h[1]);break;default:l[i]=u[i],l[1-i]=v[1-i],o.push(l[0],l[1])}return o.push(a[s++],a[s++]),o}function Cc(a,t){var e=[],r=a.length,n,i;function o(v,c,f){var h=v.coord,g=(f-h)/(c.coord-h),d=Vu(g,[v.color,c.color]);return{coord:f,color:d}}for(var s=0;s<r;s++){var l=a[s],u=l.coord;if(u<0)n=l;else if(u>t){i?e.push(o(i,l,t)):n&&e.push(o(n,l,0),o(n,l,t));break}else n&&(e.push(o(n,l,0)),n=null),e.push(l),i=l}return e}function Dc(a,t,e){var r=a.getVisual("visualMeta");if(!(!r||!r.length||!a.count())&&t.type==="cartesian2d"){for(var n,i,o=r.length-1;o>=0;o--){var s=a.getDimensionInfo(r[o].dimension);if(n=s&&s.coordDim,n==="x"||n==="y"){i=r[o];break}}if(i){var l=t.getAxis(n),u=H(i.stops,function(S){return{coord:l.toGlobalCoord(l.dataToCoord(S.value)),color:S.color}}),v=u.length,c=i.outerColors.slice();v&&u[0].coord>u[v-1].coord&&(u.reverse(),c.reverse());var f=Cc(u,n==="x"?e.getWidth():e.getHeight()),h=f.length;if(!h&&v)return u[0].coord<0?c[1]?c[1]:u[v-1].color:c[0]?c[0]:u[0].color;var g=10,d=f[0].coord-g,p=f[h-1].coord+g,m=p-d;if(m<.001)return"transparent";D(f,function(S){S.offset=(S.coord-d)/m}),f.push({offset:h?f[h-1].offset:.5,color:c[1]||"transparent"}),f.unshift({offset:h?f[0].offset:.5,color:c[0]||"transparent"});var y=new wa(0,0,0,0,f,!0);return y[n]=d,y[n+"2"]=p,y}}}function Ic(a,t,e){var r=a.get("showAllSymbol"),n=r==="auto";if(!(r&&!n)){var i=e.getAxesByScale("ordinal")[0];if(i&&!(n&&Pc(i,t))){var o=t.mapDimension(i.dim),s={};return D(i.getViewLabels(),function(l){var u=i.scale.getRawOrdinalNumber(l.tickValue);s[u]=1}),function(l){return!s.hasOwnProperty(t.get(o,l))}}}}function Pc(a,t){var e=a.getExtent(),r=Math.abs(e[1]-e[0])/a.scale.count();isNaN(r)&&(r=0);for(var n=t.count(),i=Math.max(1,Math.round(n/5)),o=0;o<n;o+=i)if(Ea.getSymbolSize(t,o)[a.isHorizontal()?1:0]*1.5>r)return!1;return!0}function Lc(a,t){return isNaN(a)||isNaN(t)}function Rc(a){for(var t=a.length/2;t>0&&Lc(a[t*2-2],a[t*2-1]);t--);return t-1}function Cn(a,t){return[a[t*2],a[t*2+1]]}function kc(a,t,e){for(var r=a.length/2,n=e==="x"?0:1,i,o,s=0,l=-1,u=0;u<r;u++)if(o=a[u*2+n],!(isNaN(o)||isNaN(a[u*2+1-n]))){if(u===0){i=o;continue}if(i<=t&&o>=t||i>=t&&o<=t){l=u;break}s=u,i=o}return{range:[s,l],t:(t-i)/(o-i)}}function us(a){if(a.get(["endLabel","show"]))return!0;for(var t=0;t<an.length;t++)if(a.get([an[t],"endLabel","show"]))return!0;return!1}function Cr(a,t,e,r){if(Ga(t,"cartesian2d")){var n=r.getModel("endLabel"),i=n.get("valueAnimation"),o=r.getData(),s={lastFrameIndex:0},l=us(r)?function(h,g){a._endLabelOnDuring(h,g,o,s,i,n,t)}:null,u=t.getBaseAxis().isHorizontal(),v=ss(t,e,r,function(){var h=a._endLabel;h&&e&&s.originalX!=null&&h.attr({x:s.originalX,y:s.originalY})},l);if(!r.get("clip",!0)){var c=v.shape,f=Math.max(c.width,c.height);u?(c.y-=f,c.height+=f*2):(c.x-=f,c.width+=f*2)}return l&&l(1,v),v}else return ls(t,e,r)}function Oc(a,t){var e=t.getBaseAxis(),r=e.isHorizontal(),n=e.inverse,i=r?n?"right":"left":"center",o=r?"middle":n?"top":"bottom";return{normal:{align:a.get("align")||i,verticalAlign:a.get("verticalAlign")||o}}}var Ec=function(a){G(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.init=function(){var e=new X,r=new as;this.group.add(r.group),this._symbolDraw=r,this._lineGroup=e},t.prototype.render=function(e,r,n){var i=this,o=e.coordinateSystem,s=this.group,l=e.getData(),u=e.getModel("lineStyle"),v=e.getModel("areaStyle"),c=l.getLayout("points")||[],f=o.type==="polar",h=this._coordSys,g=this._symbolDraw,d=this._polyline,p=this._polygon,m=this._lineGroup,y=!r.ssr&&e.isAnimationEnabled(),S=!v.isEmpty(),b=v.get("origin"),x=ns(o,l,b),_=S&&Mc(o,l,x),w=e.get("showSymbol"),A=e.get("connectNulls"),T=w&&!f&&Ic(e,l,o),M=this._data;M&&M.eachItemGraphicEl(function(K,Ee){K.__temp&&(s.remove(K),M.setItemGraphicEl(Ee,null))}),w||g.remove(),s.add(m);var C=f?!1:e.get("step"),I;o&&o.getArea&&e.get("clip",!0)&&(I=o.getArea(),I.width!=null?(I.x-=.1,I.y-=.1,I.width+=.2,I.height+=.2):I.r0&&(I.r0-=.5,I.r+=.5)),this._clipShapeForSymbol=I;var P=Dc(l,o,n)||l.getVisual("style")[l.getVisual("drawType")];if(!(d&&h.type===o.type&&C===this._step))w&&g.updateData(l,{isIgnore:T,clipShape:I,disableAnimation:!0,getSymbolPoint:function(K){return[c[K*2],c[K*2+1]]}}),y&&this._initSymbolLabelAnimation(l,o,I),C&&(c=Ne(c,o,C,A),_&&(_=Ne(_,o,C,A))),d=this._newPolyline(c),S?p=this._newPolygon(c,_):p&&(m.remove(p),p=this._polygon=null),f||this._initOrUpdateEndLabel(e,o,St(P)),m.setClipPath(Cr(this,o,!0,e));else{S&&!p?p=this._newPolygon(c,_):p&&!S&&(m.remove(p),p=this._polygon=null),f||this._initOrUpdateEndLabel(e,o,St(P));var L=m.getClipPath();if(L){var R=Cr(this,o,!1,e);le(L,{shape:R.shape},e)}else m.setClipPath(Cr(this,o,!0,e));w&&g.updateData(l,{isIgnore:T,clipShape:I,disableAnimation:!0,getSymbolPoint:function(K){return[c[K*2],c[K*2+1]]}}),(!wn(this._stackedOnPoints,_)||!wn(this._points,c))&&(y?this._doUpdateAnimation(l,_,o,n,C,b,A):(C&&(c=Ne(c,o,C,A),_&&(_=Ne(_,o,C,A))),d.setShape({points:c}),p&&p.setShape({points:c,stackedOnPoints:_})))}var k=e.getModel("emphasis"),E=k.get("focus"),O=k.get("blurScope"),V=k.get("disabled");if(d.useStyle(Q(u.getLineStyle(),{fill:"none",stroke:P,lineJoin:"bevel"})),bt(d,e,"lineStyle"),d.style.lineWidth>0&&e.get(["emphasis","lineStyle","width"])==="bolder"){var N=d.getState("emphasis").style;N.lineWidth=+d.style.lineWidth+1}te(d).seriesIndex=e.seriesIndex,Ze(d,E,O,V);var z=Mn(e.get("smooth")),$=e.get("smoothMonotone");if(d.setShape({smooth:z,smoothMonotone:$,connectNulls:A}),p){var U=l.getCalculationInfo("stackedOnSeries"),Z=0;p.useStyle(Q(v.getAreaStyle(),{fill:P,opacity:.7,lineJoin:"bevel",decal:l.getVisual("style").decal})),U&&(Z=Mn(U.get("smooth"))),p.setShape({smooth:z,stackedOnSmooth:Z,smoothMonotone:$,connectNulls:A}),bt(p,e,"areaStyle"),te(p).seriesIndex=e.seriesIndex,Ze(p,E,O,V)}var ae=function(K){i._changePolyState(K)};l.eachItemGraphicEl(function(K){K&&(K.onHoverStateChange=ae)}),this._polyline.onHoverStateChange=ae,this._data=l,this._coordSys=o,this._stackedOnPoints=_,this._points=c,this._step=C,this._valueOrigin=b,e.get("triggerLineEvent")&&(this.packEventData(e,d),p&&this.packEventData(e,p))},t.prototype.packEventData=function(e,r){te(r).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,r,n,i){var o=e.getData(),s=jr(o,i);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var l=o.getLayout("points"),u=o.getItemGraphicEl(s);if(!u){var v=l[s*2],c=l[s*2+1];if(isNaN(v)||isNaN(c)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(v,c))return;var f=e.get("zlevel")||0,h=e.get("z")||0;u=new Ea(o,s),u.x=v,u.y=c,u.setZ(f,h);var g=u.getSymbolPath().getTextContent();g&&(g.zlevel=f,g.z=h,g.z2=this._polyline.z2+1),u.__temp=!0,o.setItemGraphicEl(s,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else De.prototype.highlight.call(this,e,r,n,i)},t.prototype.downplay=function(e,r,n,i){var o=e.getData(),s=jr(o,i);if(this._changePolyState("normal"),s!=null&&s>=0){var l=o.getItemGraphicEl(s);l&&(l.__temp?(o.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else De.prototype.downplay.call(this,e,r,n,i)},t.prototype._changePolyState=function(e){var r=this._polygon;Jr(this._polyline,e),r&&Jr(r,e)},t.prototype._newPolyline=function(e){var r=this._polyline;return r&&this._lineGroup.remove(r),r=new xc({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(r),this._polyline=r,r},t.prototype._newPolygon=function(e,r){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new Ac({shape:{points:e,stackedOnPoints:r},segmentIgnoreThreshold:2}),this._lineGroup.add(n),this._polygon=n,n},t.prototype._initSymbolLabelAnimation=function(e,r,n){var i,o,s=r.getBaseAxis(),l=s.inverse;r.type==="cartesian2d"?(i=s.isHorizontal(),o=!1):r.type==="polar"&&(i=s.dim==="angle",o=!0);var u=e.hostModel,v=u.get("animationDuration");oe(v)&&(v=v(null));var c=u.get("animationDelay")||0,f=oe(c)?c(null):c;e.eachItemGraphicEl(function(h,g){var d=h;if(d){var p=[h.x,h.y],m=void 0,y=void 0,S=void 0;if(n)if(o){var b=n,x=r.pointToCoord(p);i?(m=b.startAngle,y=b.endAngle,S=-x[1]/180*Math.PI):(m=b.r0,y=b.r,S=x[0])}else{var _=n;i?(m=_.x,y=_.x+_.width,S=h.x):(m=_.y+_.height,y=_.y,S=h.y)}var w=y===m?0:(S-m)/(y-m);l&&(w=1-w);var A=oe(c)?c(g):v*w+f,T=d.getSymbolPath(),M=T.getTextContent();d.attr({scaleX:0,scaleY:0}),d.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:A}),M&&M.animateFrom({style:{opacity:0}},{duration:300,delay:A}),T.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(e,r,n){var i=e.getModel("endLabel");if(us(e)){var o=e.getData(),s=this._polyline,l=o.getLayout("points");if(!l){s.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new ie({z2:200}),u.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var v=Rc(l);v>=0&&(at(s,rt(e,"endLabel"),{inheritColor:n,labelFetcher:e,labelDataIndex:v,defaultText:function(c,f,h){return h!=null?rs(o,h):Oa(o,c)},enableTextSetter:!0},Oc(i,r)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,r,n,i,o,s,l){var u=this._endLabel,v=this._polyline;if(u){e<1&&i.originalX==null&&(i.originalX=u.x,i.originalY=u.y);var c=n.getLayout("points"),f=n.hostModel,h=f.get("connectNulls"),g=s.get("precision"),d=s.get("distance")||0,p=l.getBaseAxis(),m=p.isHorizontal(),y=p.inverse,S=r.shape,b=y?m?S.x:S.y+S.height:m?S.x+S.width:S.y,x=(m?d:0)*(y?-1:1),_=(m?0:-d)*(y?-1:1),w=m?"x":"y",A=kc(c,b,w),T=A.range,M=T[1]-T[0],C=void 0;if(M>=1){if(M>1&&!h){var I=Cn(c,T[0]);u.attr({x:I[0]+x,y:I[1]+_}),o&&(C=f.getRawValue(T[0]))}else{var I=v.getPointOn(b,w);I&&u.attr({x:I[0]+x,y:I[1]+_});var P=f.getRawValue(T[0]),L=f.getRawValue(T[1]);o&&(C=Gu(n,g,P,L,A.t))}i.lastFrameIndex=T[0]}else{var R=e===1||i.lastFrameIndex>0?T[0]:0,I=Cn(c,R);o&&(C=f.getRawValue(R)),u.attr({x:I[0]+x,y:I[1]+_})}o&&Po(u).setLabelText(C)}},t.prototype._doUpdateAnimation=function(e,r,n,i,o,s,l){var u=this._polyline,v=this._polygon,c=e.hostModel,f=_c(this._data,e,this._stackedOnPoints,r,this._coordSys,n,this._valueOrigin),h=f.current,g=f.stackedOnCurrent,d=f.next,p=f.stackedOnNext;if(o&&(h=Ne(f.current,n,o,l),g=Ne(f.stackedOnCurrent,n,o,l),d=Ne(f.next,n,o,l),p=Ne(f.stackedOnNext,n,o,l)),Tn(h,d)>3e3||v&&Tn(g,p)>3e3){u.stopAnimation(),u.setShape({points:d}),v&&(v.stopAnimation(),v.setShape({points:d,stackedOnPoints:p}));return}u.shape.__points=f.current,u.shape.points=h;var m={shape:{points:d}};f.current!==h&&(m.shape.__points=f.next),u.stopAnimation(),se(u,m,c),v&&(v.setShape({points:h,stackedOnPoints:g}),v.stopAnimation(),se(v,{shape:{stackedOnPoints:p}},c),u.shape.points!==v.shape.points&&(v.shape.points=u.shape.points));for(var y=[],S=f.status,b=0;b<S.length;b++){var x=S[b].cmd;if(x==="="){var _=e.getItemGraphicEl(S[b].idx1);_&&y.push({el:_,ptIdx:b})}}u.animators&&u.animators.length&&u.animators[0].during(function(){v&&v.dirtyShape();for(var w=u.shape.__points,A=0;A<y.length;A++){var T=y[A].el,M=y[A].ptIdx*2;T.x=w[M],T.y=w[M+1],T.markRedraw()}})},t.prototype.remove=function(e){var r=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(i,o){i.__temp&&(r.remove(i),n.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(De);const Gc=Ec;function Va(a,t){return{seriesType:a,plan:Nu(),reset:function(e){var r=e.getData(),n=e.coordinateSystem,i=e.pipelineContext,o=t||i.large;if(n){var s=H(n.dimensions,function(h){return r.mapDimension(h)}).slice(0,2),l=s.length,u=r.getCalculationInfo("stackResultDimension");Kt(r,s[0])&&(s[0]=u),Kt(r,s[1])&&(s[1]=u);var v=r.getStore(),c=r.getDimensionIndex(s[0]),f=r.getDimensionIndex(s[1]);return l&&{progress:function(h,g){for(var d=h.end-h.start,p=o&&dt(d*l),m=[],y=[],S=h.start,b=0;S<h.end;S++){var x=void 0;if(l===1){var _=v.get(c,S);x=n.dataToPoint(_,null,y)}else m[0]=v.get(c,S),m[1]=v.get(f,S),x=n.dataToPoint(m,null,y);o?(p[b++]=x[0],p[b++]=x[1]):g.setItemLayout(S,x.slice())}o&&g.setLayout("points",p)}}}}}}var Vc={average:function(a){for(var t=0,e=0,r=0;r<a.length;r++)isNaN(a[r])||(t+=a[r],e++);return e===0?NaN:t/e},sum:function(a){for(var t=0,e=0;e<a.length;e++)t+=a[e]||0;return t},max:function(a){for(var t=-1/0,e=0;e<a.length;e++)a[e]>t&&(t=a[e]);return isFinite(t)?t:NaN},min:function(a){for(var t=1/0,e=0;e<a.length;e++)a[e]<t&&(t=a[e]);return isFinite(t)?t:NaN},nearest:function(a){return a[0]}},Nc=function(a){return Math.round(a.length/2)};function vs(a){return{seriesType:a,reset:function(t,e,r){var n=t.getData(),i=t.get("sampling"),o=t.coordinateSystem,s=n.count();if(s>10&&o.type==="cartesian2d"&&i){var l=o.getBaseAxis(),u=o.getOtherAxis(l),v=l.getExtent(),c=r.getDevicePixelRatio(),f=Math.abs(v[1]-v[0])*(c||1),h=Math.round(s/f);if(isFinite(h)&&h>1){i==="lttb"&&t.setData(n.lttbDownSample(n.mapDimension(u.dim),1/h));var g=void 0;J(i)?g=Vc[i]:oe(i)&&(g=i),g&&t.setData(n.downSample(n.mapDimension(u.dim),1/h,g,Nc))}}}}}function zc(a){a.registerChartView(Gc),a.registerSeriesModel(dc),a.registerLayout(Va("line",!0)),a.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),r=t.getModel("lineStyle").getLineStyle();r&&!r.stroke&&(r.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",r)}}),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,vs("line"))}var cs=function(a){G(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,r){return gr(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,r,n){var i=this.coordinateSystem;if(i&&i.clampData){var o=i.clampData(e),s=i.dataToPoint(o);if(n)D(i.getAxes(),function(f,h){if(f.type==="category"&&r!=null){var g=f.getTicksCoords(),d=o[h],p=r[h]==="x1"||r[h]==="y1";if(p&&(d+=1),g.length<2)return;if(g.length===2){s[h]=f.toGlobalCoord(f.getExtent()[p?1:0]);return}for(var m=void 0,y=void 0,S=1,b=0;b<g.length;b++){var x=g[b].coord,_=b===g.length-1?g[b-1].tickValue+S:g[b].tickValue;if(_===d){y=x;break}else if(_<d)m=x;else if(m!=null&&_>d){y=(x+m)/2;break}b===1&&(S=_-g[0].tickValue)}y==null&&(m?m&&(y=g[g.length-1].coord):y=g[0].coord),s[h]=f.toGlobalCoord(y)}});else{var l=this.getData(),u=l.getLayout("offset"),v=l.getLayout("size"),c=i.getBaseAxis().isHorizontal()?0:1;s[c]+=u+v/2}return s}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}($e);$e.registerClass(cs);const Dn=cs;var Bc=function(a){G(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(){return gr(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),r=this.get("largeThreshold");return r>e&&(e=r),e},t.prototype.brushSelector=function(e,r,n){return n.rect(r.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=dr(Dn.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(Dn);const Fc=Bc;var Hc=function(){function a(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return a}(),Wc=function(a){G(t,a);function t(e){var r=a.call(this,e)||this;return r.type="sausage",r}return t.prototype.getDefaultShape=function(){return new Hc},t.prototype.buildPath=function(e,r){var n=r.cx,i=r.cy,o=Math.max(r.r0||0,0),s=Math.max(r.r,0),l=(s-o)*.5,u=o+l,v=r.startAngle,c=r.endAngle,f=r.clockwise,h=Math.PI*2,g=f?c-v<h:v-c<h;g||(v=c-(f?h:-h));var d=Math.cos(v),p=Math.sin(v),m=Math.cos(c),y=Math.sin(c);g?(e.moveTo(d*o+n,p*o+i),e.arc(d*u+n,p*u+i,l,-Math.PI+v,v,!f)):e.moveTo(d*s+n,p*s+i),e.arc(n,i,s,v,c,!f),e.arc(m*u+n,y*u+i,l,c-Math.PI*2,c-Math.PI,!f),o!==0&&e.arc(n,i,o,c,v,f)},t}(be);const ar=Wc;function Zc(a,t){t=t||{};var e=t.isRoundCap;return function(r,n,i){var o=n.position;if(!o||o instanceof Array)return nn(r,n,i);var s=a(o),l=n.distance!=null?n.distance:5,u=this.shape,v=u.cx,c=u.cy,f=u.r,h=u.r0,g=(f+h)/2,d=u.startAngle,p=u.endAngle,m=(d+p)/2,y=e?Math.abs(f-h)/2:0,S=Math.cos,b=Math.sin,x=v+f*S(d),_=c+f*b(d),w="left",A="top";switch(s){case"startArc":x=v+(h-l)*S(m),_=c+(h-l)*b(m),w="center",A="top";break;case"insideStartArc":x=v+(h+l)*S(m),_=c+(h+l)*b(m),w="center",A="bottom";break;case"startAngle":x=v+g*S(d)+Wt(d,l+y,!1),_=c+g*b(d)+Zt(d,l+y,!1),w="right",A="middle";break;case"insideStartAngle":x=v+g*S(d)+Wt(d,-l+y,!1),_=c+g*b(d)+Zt(d,-l+y,!1),w="left",A="middle";break;case"middle":x=v+g*S(m),_=c+g*b(m),w="center",A="middle";break;case"endArc":x=v+(f+l)*S(m),_=c+(f+l)*b(m),w="center",A="bottom";break;case"insideEndArc":x=v+(f-l)*S(m),_=c+(f-l)*b(m),w="center",A="top";break;case"endAngle":x=v+g*S(p)+Wt(p,l+y,!0),_=c+g*b(p)+Zt(p,l+y,!0),w="left",A="middle";break;case"insideEndAngle":x=v+g*S(p)+Wt(p,-l+y,!0),_=c+g*b(p)+Zt(p,-l+y,!0),w="right",A="middle";break;default:return nn(r,n,i)}return r=r||{},r.x=x,r.y=_,r.align=w,r.verticalAlign=A,r}}function Uc(a,t,e,r){if(Oe(r)){a.setTextConfig({rotation:r});return}else if(j(t)){a.setTextConfig({rotation:0});return}var n=a.shape,i=n.clockwise?n.startAngle:n.endAngle,o=n.clockwise?n.endAngle:n.startAngle,s=(i+o)/2,l,u=e(t);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=s;break;case"startAngle":case"insideStartAngle":l=i;break;case"endAngle":case"insideEndAngle":l=o;break;default:a.setTextConfig({rotation:0});return}var v=Math.PI*1.5-l;u==="middle"&&v>Math.PI/2&&v<Math.PI*1.5&&(v-=Math.PI),a.setTextConfig({rotation:v})}function Wt(a,t,e){return t*Math.sin(a)*(e?-1:1)}function Zt(a,t,e){return t*Math.cos(a)*(e?1:-1)}function kt(a,t,e){var r=a.get("borderRadius");if(r==null)return e?{cornerRadius:0}:null;j(r)||(r=[r,r,r,r]);var n=Math.abs(t.r||0-t.r0||0);return{cornerRadius:H(r,function(i){return zu(i,n)})}}var Dr=Math.max,Ir=Math.min;function Xc(a,t){var e=a.getArea&&a.getArea();if(Ga(a,"cartesian2d")){var r=a.getBaseAxis();if(r.type!=="category"||!r.onBand){var n=t.getLayout("bandWidth");r.isHorizontal()?(e.x-=n,e.width+=n*2):(e.y-=n,e.height+=n*2)}}return e}var $c=function(a){G(t,a);function t(){var e=a.call(this)||this;return e.type=t.type,e._isFirstFrame=!0,e}return t.prototype.render=function(e,r,n,i){this._model=e,this._removeOnRenderedListener(n),this._updateDrawMode(e);var o=e.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,r,n):this._renderNormal(e,r,n,i))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,r){this._progressiveEls=[],this._incrementalRenderLarge(e,r)},t.prototype.eachRendered=function(e){Do(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var r=e.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},t.prototype._renderNormal=function(e,r,n,i){var o=this.group,s=e.getData(),l=this._data,u=e.coordinateSystem,v=u.getBaseAxis(),c;u.type==="cartesian2d"?c=v.isHorizontal():u.type==="polar"&&(c=v.dim==="angle");var f=e.isAnimationEnabled()?e:null,h=Yc(e,u);h&&this._enableRealtimeSort(h,s,n);var g=e.get("clip",!0)||h,d=Xc(u,s);o.removeClipPath();var p=e.get("roundCap",!0),m=e.get("showBackground",!0),y=e.getModel("backgroundStyle"),S=y.get("borderRadius")||0,b=[],x=this._backgroundEls,_=i&&i.isInitSort,w=i&&i.type==="changeAxisOrder";function A(C){var I=Ut[u.type](s,C),P=th(u,c,I);return P.useStyle(y.getItemStyle()),u.type==="cartesian2d"?P.setShape("r",S):P.setShape("cornerRadius",S),b[C]=P,P}s.diff(l).add(function(C){var I=s.getItemModel(C),P=Ut[u.type](s,C,I);if(m&&A(C),!(!s.hasValue(C)||!kn[u.type](P))){var L=!1;g&&(L=In[u.type](d,P));var R=Pn[u.type](e,s,C,P,c,f,v.model,!1,p);h&&(R.forceLabelAnimation=!0),On(R,s,C,I,P,e,c,u.type==="polar"),_?R.attr({shape:P}):h?Ln(h,f,R,P,C,c,!1,!1):le(R,{shape:P},e,C),s.setItemGraphicEl(C,R),o.add(R),R.ignore=L}}).update(function(C,I){var P=s.getItemModel(C),L=Ut[u.type](s,C,P);if(m){var R=void 0;x.length===0?R=A(I):(R=x[I],R.useStyle(y.getItemStyle()),u.type==="cartesian2d"?R.setShape("r",S):R.setShape("cornerRadius",S),b[C]=R);var k=Ut[u.type](s,C),E=fs(c,k,u);se(R,{shape:E},f,C)}var O=l.getItemGraphicEl(I);if(!s.hasValue(C)||!kn[u.type](L)){o.remove(O);return}var V=!1;if(g&&(V=In[u.type](d,L),V&&o.remove(O)),O?Ma(O):O=Pn[u.type](e,s,C,L,c,f,v.model,!!O,p),h&&(O.forceLabelAnimation=!0),w){var N=O.getTextContent();if(N){var z=Po(N);z.prevValue!=null&&(z.prevValue=z.value)}}else On(O,s,C,P,L,e,c,u.type==="polar");_?O.attr({shape:L}):h?Ln(h,f,O,L,C,c,!0,w):se(O,{shape:L},e,C,null),s.setItemGraphicEl(C,O),O.ignore=V,o.add(O)}).remove(function(C){var I=l.getItemGraphicEl(C);I&&qr(I,e,C)}).execute();var T=this._backgroundGroup||(this._backgroundGroup=new X);T.removeAll();for(var M=0;M<b.length;++M)T.add(b[M]);o.add(T),this._backgroundEls=b,this._data=s},t.prototype._renderLarge=function(e,r,n){this._clear(),Gn(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,r){this._removeBackground(),Gn(r,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var r=e.get("clip",!0)&&Tc(e.coordinateSystem,!1,e),n=this.group;r?n.setClipPath(r):n.removeClipPath()},t.prototype._enableRealtimeSort=function(e,r,n){var i=this;if(r.count()){var o=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(r,e,n),this._isFirstFrame=!1;else{var s=function(l){var u=r.getItemGraphicEl(l),v=u&&u.shape;return v&&Math.abs(o.isHorizontal()?v.height:v.width)||0};this._onRendered=function(){i._updateSortWithinSameData(r,s,o,n)},n.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,r,n){var i=[];return e.each(e.mapDimension(r.dim),function(o,s){var l=n(s);l=l??NaN,i.push({dataIndex:s,mappedValue:l,ordinalNumber:o})}),i.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:H(i,function(o){return o.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,r,n){for(var i=n.scale,o=e.mapDimension(n.dim),s=Number.MAX_VALUE,l=0,u=i.getOrdinalMeta().categories.length;l<u;++l){var v=e.rawIndexOf(o,i.getRawOrdinalNumber(l)),c=v<0?Number.MIN_VALUE:r(e.indexOfRawIndex(v));if(c>s)return!0;s=c}return!1},t.prototype._isOrderDifferentInView=function(e,r){for(var n=r.scale,i=n.getExtent(),o=Math.max(0,i[0]),s=Math.min(i[1],n.getOrdinalMeta().categories.length-1);o<=s;++o)if(e.ordinalNumbers[o]!==n.getRawOrdinalNumber(o))return!0},t.prototype._updateSortWithinSameData=function(e,r,n,i){if(this._isOrderChangedWithinSameData(e,r,n)){var o=this._dataSort(e,n,r);this._isOrderDifferentInView(o,n)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",axisId:n.index,sortInfo:o}))}},t.prototype._dispatchInitSort=function(e,r,n){var i=r.baseAxis,o=this._dataSort(e,i,function(s){return e.get(e.mapDimension(r.otherAxis.dim),s)});n.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:o})},t.prototype.remove=function(e,r){this._clear(this._model),this._removeOnRenderedListener(r)},t.prototype.dispose=function(e,r){this._removeOnRenderedListener(r)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var r=this.group,n=this._data;e&&e.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl(function(i){qr(i,e,te(i).dataIndex)})):r.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(De),In={cartesian2d:function(a,t){var e=t.width<0?-1:1,r=t.height<0?-1:1;e<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height);var n=a.x+a.width,i=a.y+a.height,o=Dr(t.x,a.x),s=Ir(t.x+t.width,n),l=Dr(t.y,a.y),u=Ir(t.y+t.height,i),v=s<o,c=u<l;return t.x=v&&o>n?s:o,t.y=c&&l>i?u:l,t.width=v?0:s-o,t.height=c?0:u-l,e<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height),v||c},polar:function(a,t){var e=t.r0<=t.r?1:-1;if(e<0){var r=t.r;t.r=t.r0,t.r0=r}var n=Ir(t.r,a.r),i=Dr(t.r0,a.r0);t.r=n,t.r0=i;var o=n-i<0;if(e<0){var r=t.r;t.r=t.r0,t.r0=r}return o}},Pn={cartesian2d:function(a,t,e,r,n,i,o,s,l){var u=new ne({shape:Y({},r),z2:1});if(u.__dataIndex=e,u.name="item",i){var v=u.shape,c=n?"height":"width";v[c]=0}return u},polar:function(a,t,e,r,n,i,o,s,l){var u=!n&&l?ar:Ae,v=new u({shape:r,z2:1});v.name="item";var c=hs(n);if(v.calculateTextPosition=Zc(c,{isRoundCap:u===ar}),i){var f=v.shape,h=n?"r":"endAngle",g={};f[h]=n?r.r0:r.startAngle,g[h]=r[h],(s?se:le)(v,{shape:g},i)}return v}};function Yc(a,t){var e=a.get("realtimeSort",!0),r=t.getBaseAxis();if(e&&r.type==="category"&&t.type==="cartesian2d")return{baseAxis:r,otherAxis:t.getOtherAxis(r)}}function Ln(a,t,e,r,n,i,o,s){var l,u;i?(u={x:r.x,width:r.width},l={y:r.y,height:r.height}):(u={y:r.y,height:r.height},l={x:r.x,width:r.width}),s||(o?se:le)(e,{shape:l},t,n,null);var v=t?a.baseAxis.model:null;(o?se:le)(e,{shape:u},v,n)}function Rn(a,t){for(var e=0;e<t.length;e++)if(!isFinite(a[t[e]]))return!0;return!1}var jc=["x","y","width","height"],Jc=["cx","cy","r","startAngle","endAngle"],kn={cartesian2d:function(a){return!Rn(a,jc)},polar:function(a){return!Rn(a,Jc)}},Ut={cartesian2d:function(a,t,e){var r=a.getItemLayout(t),n=e?Kc(e,r):0,i=r.width>0?1:-1,o=r.height>0?1:-1;return{x:r.x+i*n/2,y:r.y+o*n/2,width:r.width-i*n,height:r.height-o*n}},polar:function(a,t,e){var r=a.getItemLayout(t);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function qc(a){return a.startAngle!=null&&a.endAngle!=null&&a.startAngle===a.endAngle}function hs(a){return function(t){var e=t?"Arc":"Angle";return function(r){switch(r){case"start":case"insideStart":case"end":case"insideEnd":return r+e;default:return r}}}(a)}function On(a,t,e,r,n,i,o,s){var l=t.getItemVisual(e,"style");if(s){if(!i.get("roundCap")){var v=a.shape,c=kt(r.getModel("itemStyle"),v,!0);Y(v,c),a.setShape(v)}}else{var u=r.get(["itemStyle","borderRadius"])||0;a.setShape("r",u)}a.useStyle(l);var f=r.getShallow("cursor");f&&a.attr("cursor",f);var h=s?o?n.r>=n.r0?"endArc":"startArc":n.endAngle>=n.startAngle?"endAngle":"startAngle":o?n.height>=0?"bottom":"top":n.width>=0?"right":"left",g=rt(r);at(a,g,{labelFetcher:i,labelDataIndex:e,defaultText:Oa(i.getData(),e),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:h});var d=a.getTextContent();if(s&&d){var p=r.get(["label","position"]);a.textConfig.inside=p==="middle"?!0:null,Uc(a,p==="outside"?h:p,hs(o),r.get(["label","rotate"]))}Lo(d,g,i.getRawValue(e),function(y){return rs(t,y)});var m=r.getModel(["emphasis"]);Ze(a,m.get("focus"),m.get("blurScope"),m.get("disabled")),bt(a,r),qc(n)&&(a.style.fill="none",a.style.stroke="none",D(a.states,function(y){y.style&&(y.style.fill=y.style.stroke="none")}))}function Kc(a,t){var e=a.get(["itemStyle","borderColor"]);if(!e||e==="none")return 0;var r=a.get(["itemStyle","borderWidth"])||0,n=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),i=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(r,n,i)}var Qc=function(){function a(){}return a}(),En=function(a){G(t,a);function t(e){var r=a.call(this,e)||this;return r.type="largeBar",r}return t.prototype.getDefaultShape=function(){return new Qc},t.prototype.buildPath=function(e,r){for(var n=r.points,i=this.baseDimIdx,o=1-this.baseDimIdx,s=[],l=[],u=this.barWidth,v=0;v<n.length;v+=3)l[i]=u,l[o]=n[v+2],s[i]=n[v+i],s[o]=n[v+o],e.rect(s[0],s[1],l[0],l[1])},t}(be);function Gn(a,t,e,r){var n=a.getData(),i=n.getLayout("valueAxisHorizontal")?1:0,o=n.getLayout("largeDataIndices"),s=n.getLayout("size"),l=a.getModel("backgroundStyle"),u=n.getLayout("largeBackgroundPoints");if(u){var v=new En({shape:{points:u},incremental:!!r,silent:!0,z2:0});v.baseDimIdx=i,v.largeDataIndices=o,v.barWidth=s,v.useStyle(l.getItemStyle()),t.add(v),e&&e.push(v)}var c=new En({shape:{points:n.getLayout("largePoints")},incremental:!!r,ignoreCoarsePointer:!0,z2:1});c.baseDimIdx=i,c.largeDataIndices=o,c.barWidth=s,t.add(c),c.useStyle(n.getVisual("style")),te(c).seriesIndex=a.seriesIndex,a.get("silent")||(c.on("mousedown",Vn),c.on("mousemove",Vn)),e&&e.push(c)}var Vn=Mo(function(a){var t=this,e=eh(t,a.offsetX,a.offsetY);te(t).dataIndex=e>=0?e:null},30,!1);function eh(a,t,e){for(var r=a.baseDimIdx,n=1-r,i=a.shape.points,o=a.largeDataIndices,s=[],l=[],u=a.barWidth,v=0,c=i.length/3;v<c;v++){var f=v*3;if(l[r]=u,l[n]=i[f+2],s[r]=i[f+r],s[n]=i[f+n],l[n]<0&&(s[n]+=l[n],l[n]=-l[n]),t>=s[0]&&t<=s[0]+l[0]&&e>=s[1]&&e<=s[1]+l[1])return o[v]}return-1}function fs(a,t,e){if(Ga(e,"cartesian2d")){var r=t,n=e.getArea();return{x:a?r.x:n.x,y:a?n.y:r.y,width:a?r.width:n.width,height:a?n.height:r.height}}else{var n=e.getArea(),i=t;return{cx:n.cx,cy:n.cy,r0:a?n.r0:i.r0,r:a?n.r:i.r,startAngle:a?i.startAngle:0,endAngle:a?i.endAngle:Math.PI*2}}}function th(a,t,e){var r=a.type==="polar"?Ae:ne;return new r({shape:fs(t,e,a),silent:!0,z2:0})}const rh=$c;function ah(a){a.registerChartView(rh),a.registerSeriesModel(Fc),a.registerLayout(a.PRIORITY.VISUAL.LAYOUT,ee(Bu,"bar")),a.registerLayout(a.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Fu("bar")),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,vs("bar")),a.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){var r=t.componentType||"series";e.eachComponent({mainType:r,query:t},function(n){t.sortInfo&&n.axis.setCategorySortInfo(t.sortInfo)})})}var Xt=Math.PI*2,Nn=Math.PI/180;function gs(a,t){return Ue(a.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function ds(a,t){var e=gs(a,t),r=a.get("center"),n=a.get("radius");j(n)||(n=[0,n]);var i=B(e.width,t.getWidth()),o=B(e.height,t.getHeight()),s=Math.min(i,o),l=B(n[0],s/2),u=B(n[1],s/2),v,c,f=a.coordinateSystem;if(f){var h=f.dataToPoint(r);v=h[0]||0,c=h[1]||0}else j(r)||(r=[r,r]),v=B(r[0],i)+e.x,c=B(r[1],o)+e.y;return{cx:v,cy:c,r0:l,r:u}}function nh(a,t,e){t.eachSeriesByType(a,function(r){var n=r.getData(),i=n.mapDimension("value"),o=gs(r,e),s=ds(r,e),l=s.cx,u=s.cy,v=s.r,c=s.r0,f=-r.get("startAngle")*Nn,h=r.get("minAngle")*Nn,g=0;n.each(i,function(M){!isNaN(M)&&g++});var d=n.getSum(i),p=Math.PI/(d||g)*2,m=r.get("clockwise"),y=r.get("roseType"),S=r.get("stillShowZeroSum"),b=n.getDataExtent(i);b[0]=0;var x=Xt,_=0,w=f,A=m?1:-1;if(n.setLayout({viewRect:o,r:v}),n.each(i,function(M,C){var I;if(isNaN(M)){n.setItemLayout(C,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:m,cx:l,cy:u,r0:c,r:y?NaN:v});return}y!=="area"?I=d===0&&S?p:M*p:I=Xt/g,I<h?(I=h,x-=h):_+=M;var P=w+A*I;n.setItemLayout(C,{angle:I,startAngle:w,endAngle:P,clockwise:m,cx:l,cy:u,r0:c,r:y?q(M,b,[c,v]):v}),w=P}),x<Xt&&g)if(x<=.001){var T=Xt/g;n.each(i,function(M,C){if(!isNaN(M)){var I=n.getItemLayout(C);I.angle=T,I.startAngle=f+A*C*T,I.endAngle=f+A*(C+1)*T}})}else p=x/_,w=f,n.each(i,function(M,C){if(!isNaN(M)){var I=n.getItemLayout(C),P=I.angle===h?h:M*p;I.startAngle=w,I.endAngle=w+A*P,w+=A*P}})})}function ih(a){return{seriesType:a,reset:function(t,e){var r=e.findComponents({mainType:"legend"});if(!(!r||!r.length)){var n=t.getData();n.filterSelf(function(i){for(var o=n.getName(i),s=0;s<r.length;s++)if(!r[s].isSelected(o))return!1;return!0})}}}}var oh=Math.PI/180;function zn(a,t,e,r,n,i,o,s,l,u){if(a.length<2)return;function v(d){for(var p=d.rB,m=p*p,y=0;y<d.list.length;y++){var S=d.list[y],b=Math.abs(S.label.y-e),x=r+S.len,_=x*x,w=Math.sqrt((1-Math.abs(b*b/m))*_),A=t+(w+S.len2)*n,T=A-S.label.x,M=S.targetTextWidth-T*n;ps(S,M,!0),S.label.x=A}}function c(d){for(var p={list:[],maxY:0},m={list:[],maxY:0},y=0;y<d.length;y++)if(d[y].labelAlignTo==="none"){var S=d[y],b=S.label.y>e?m:p,x=Math.abs(S.label.y-e);if(x>=b.maxY){var _=S.label.x-t-S.len2*n,w=r+S.len,A=Math.abs(_)<w?Math.sqrt(x*x/(1-_*_/w/w)):w;b.rB=A,b.maxY=x}b.list.push(S)}v(p),v(m)}for(var f=a.length,h=0;h<f;h++)if(a[h].position==="outer"&&a[h].labelAlignTo==="labelLine"){var g=a[h].label.x-u;a[h].linePoints[1][0]+=g,a[h].label.x=u}Zu(a,l,l+o)&&c(a)}function sh(a,t,e,r,n,i,o,s){for(var l=[],u=[],v=Number.MAX_VALUE,c=-Number.MAX_VALUE,f=0;f<a.length;f++){var h=a[f].label;Pr(a[f])||(h.x<t?(v=Math.min(v,h.x),l.push(a[f])):(c=Math.max(c,h.x),u.push(a[f])))}for(var f=0;f<a.length;f++){var g=a[f];if(!Pr(g)&&g.linePoints){if(g.labelStyleWidth!=null)continue;var h=g.label,d=g.linePoints,p=void 0;g.labelAlignTo==="edge"?h.x<t?p=d[2][0]-g.labelDistance-o-g.edgeDistance:p=o+n-g.edgeDistance-d[2][0]-g.labelDistance:g.labelAlignTo==="labelLine"?h.x<t?p=v-o-g.bleedMargin:p=o+n-c-g.bleedMargin:h.x<t?p=h.x-o-g.bleedMargin:p=o+n-h.x-g.bleedMargin,g.targetTextWidth=p,ps(g,p)}}zn(u,t,e,r,1,n,i,o,s,c),zn(l,t,e,r,-1,n,i,o,s,v);for(var f=0;f<a.length;f++){var g=a[f];if(!Pr(g)&&g.linePoints){var h=g.label,d=g.linePoints,m=g.labelAlignTo==="edge",y=h.style.padding,S=y?y[1]+y[3]:0,b=h.style.backgroundColor?0:S,x=g.rect.width+b,_=d[1][0]-d[2][0];m?h.x<t?d[2][0]=o+g.edgeDistance+x+g.labelDistance:d[2][0]=o+n-g.edgeDistance-x-g.labelDistance:(h.x<t?d[2][0]=h.x+g.labelDistance:d[2][0]=h.x-g.labelDistance,d[1][0]=d[2][0]+_),d[1][1]=d[2][1]=h.y}}}function ps(a,t,e){if(e===void 0&&(e=!1),a.labelStyleWidth==null){var r=a.label,n=r.style,i=a.rect,o=n.backgroundColor,s=n.padding,l=s?s[1]+s[3]:0,u=n.overflow,v=i.width+(o?0:l);if(t<v||e){var c=i.height;if(u&&u.match("break")){r.setStyle("backgroundColor",null),r.setStyle("width",t-l);var f=r.getBoundingRect();r.setStyle("width",Math.ceil(f.width)),r.setStyle("backgroundColor",o)}else{var h=t-l,g=t<v?h:e?h>a.unconstrainedWidth?null:h:null;r.setStyle("width",g)}var d=r.getBoundingRect();i.width=d.width;var p=(r.style.margin||0)+2.1;i.height=d.height+p,i.y-=(i.height-c)/2}}}function Pr(a){return a.position==="center"}function lh(a){var t=a.getData(),e=[],r,n,i=!1,o=(a.get("minShowLabelAngle")||0)*oh,s=t.getLayout("viewRect"),l=t.getLayout("r"),u=s.width,v=s.x,c=s.y,f=s.height;function h(_){_.ignore=!0}function g(_){if(!_.ignore)return!0;for(var w in _.states)if(_.states[w].ignore===!1)return!0;return!1}t.each(function(_){var w=t.getItemGraphicEl(_),A=w.shape,T=w.getTextContent(),M=w.getTextGuideLine(),C=t.getItemModel(_),I=C.getModel("label"),P=I.get("position")||C.get(["emphasis","label","position"]),L=I.get("distanceToLabelLine"),R=I.get("alignTo"),k=B(I.get("edgeDistance"),u),E=I.get("bleedMargin"),O=C.getModel("labelLine"),V=O.get("length");V=B(V,u);var N=O.get("length2");if(N=B(N,u),Math.abs(A.endAngle-A.startAngle)<o){D(T.states,h),T.ignore=!0,M&&(D(M.states,h),M.ignore=!0);return}if(g(T)){var z=(A.startAngle+A.endAngle)/2,$=Math.cos(z),U=Math.sin(z),Z,ae,K,Ee;r=A.cx,n=A.cy;var Te=P==="inside"||P==="inner";if(P==="center")Z=A.cx,ae=A.cy,Ee="center";else{var nt=(Te?(A.r+A.r0)/2*$:A.r*$)+r,it=(Te?(A.r+A.r0)/2*U:A.r*U)+n;if(Z=nt+$*3,ae=it+U*3,!Te){var xt=nt+$*(V+l-A.r),Xa=it+U*(V+l-A.r),$a=xt+($<0?-1:1)*N,Ya=Xa;R==="edge"?Z=$<0?v+k:v+u-k:Z=$a+($<0?-L:L),ae=Ya,K=[[nt,it],[xt,Xa],[$a,Ya]]}Ee=Te?"center":R==="edge"?$>0?"right":"left":$>0?"left":"right"}var wt=Math.PI,ot=0,At=I.get("rotate");if(Oe(At))ot=At*(wt/180);else if(P==="center")ot=0;else if(At==="radial"||At===!0){var ol=$<0?-z+wt:-z;ot=ol}else if(At==="tangential"&&P!=="outside"&&P!=="outer"){var st=Math.atan2($,U);st<0&&(st=wt*2+st);var sl=U>0;sl&&(st=wt+st),ot=st-wt}if(i=!!ot,T.x=Z,T.y=ae,T.rotation=ot,T.setStyle({verticalAlign:"middle"}),Te){T.setStyle({align:Ee});var br=T.states.select;br&&(br.x+=T.x,br.y+=T.y)}else{var Tt=T.getBoundingRect().clone();Tt.applyTransform(T.getComputedTransform());var ja=(T.style.margin||0)+2.1;Tt.y-=ja/2,Tt.height+=ja,e.push({label:T,labelLine:M,position:P,len:V,len2:N,minTurnAngle:O.get("minTurnAngle"),maxSurfaceAngle:O.get("maxSurfaceAngle"),surfaceNormal:new we($,U),linePoints:K,textAlign:Ee,labelDistance:L,labelAlignTo:R,edgeDistance:k,bleedMargin:E,rect:Tt,unconstrainedWidth:Tt.width,labelStyleWidth:T.style.width})}w.setTextConfig({inside:Te})}}),!i&&a.get("avoidLabelOverlap")&&sh(e,r,n,l,u,f,v,c);for(var d=0;d<e.length;d++){var p=e[d],m=p.label,y=p.labelLine,S=isNaN(m.x)||isNaN(m.y);if(m){m.setStyle({align:p.textAlign}),S&&(D(m.states,h),m.ignore=!0);var b=m.states.select;b&&(b.x+=m.x,b.y+=m.y)}if(y){var x=p.linePoints;S||!x?(D(y.states,h),y.ignore=!0):(Hu(x,p.minTurnAngle),Wu(x,p.surfaceNormal,p.maxSurfaceAngle),y.setShape({points:x}),m.__hostTarget.textGuideLineConfig={anchor:new we(x[0][0],x[0][1])})}}}var uh=function(a){G(t,a);function t(e,r,n){var i=a.call(this)||this;i.z2=2;var o=new ie;return i.setTextContent(o),i.updateData(e,r,n,!0),i}return t.prototype.updateData=function(e,r,n,i){var o=this,s=e.hostModel,l=e.getItemModel(r),u=l.getModel("emphasis"),v=e.getItemLayout(r),c=Y(kt(l.getModel("itemStyle"),v,!0),v);if(isNaN(c.startAngle)){o.setShape(c);return}if(i){o.setShape(c);var f=s.getShallow("animationType");s.ecModel.ssr?(le(o,{scaleX:0,scaleY:0},s,{dataIndex:r,isFrom:!0}),o.originX=c.cx,o.originY=c.cy):f==="scale"?(o.shape.r=v.r0,le(o,{shape:{r:v.r}},s,r)):n!=null?(o.setShape({startAngle:n,endAngle:n}),le(o,{shape:{startAngle:v.startAngle,endAngle:v.endAngle}},s,r)):(o.shape.endAngle=v.startAngle,se(o,{shape:{endAngle:v.endAngle}},s,r))}else Ma(o),se(o,{shape:c},s,r);o.useStyle(e.getItemVisual(r,"style")),bt(o,l);var h=(v.startAngle+v.endAngle)/2,g=s.get("selectedOffset"),d=Math.cos(h)*g,p=Math.sin(h)*g,m=l.getShallow("cursor");m&&o.attr("cursor",m),this._updateLabel(s,e,r),o.ensureState("emphasis").shape=Y({r:v.r+(u.get("scale")&&u.get("scaleSize")||0)},kt(u.getModel("itemStyle"),v)),Y(o.ensureState("select"),{x:d,y:p,shape:kt(l.getModel(["select","itemStyle"]),v)}),Y(o.ensureState("blur"),{shape:kt(l.getModel(["blur","itemStyle"]),v)});var y=o.getTextGuideLine(),S=o.getTextContent();y&&Y(y.ensureState("select"),{x:d,y:p}),Y(S.ensureState("select"),{x:d,y:p}),Ze(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(e,r,n){var i=this,o=r.getItemModel(n),s=o.getModel("labelLine"),l=r.getItemVisual(n,"style"),u=l&&l.fill,v=l&&l.opacity;at(i,rt(o),{labelFetcher:r.hostModel,labelDataIndex:n,inheritColor:u,defaultOpacity:v,defaultText:e.getFormattedLabel(n,"normal")||r.getName(n)});var c=i.getTextContent();i.setTextConfig({position:null,rotation:null}),c.attr({z2:10});var f=e.get(["label","position"]);if(f!=="outside"&&f!=="outer")i.removeTextGuideLine();else{var h=this.getTextGuideLine();h||(h=new Ht,this.setTextGuideLine(h)),Uu(this,$u(o),{stroke:u,opacity:Xu(s.get(["lineStyle","opacity"]),v,1)})}},t}(Ae),vh=function(a){G(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return t.prototype.render=function(e,r,n,i){var o=e.getData(),s=this._data,l=this.group,u;if(!s&&o.count()>0){for(var v=o.getItemLayout(0),c=1;isNaN(v&&v.startAngle)&&c<o.count();++c)v=o.getItemLayout(c);v&&(u=v.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),o.count()===0&&e.get("showEmptyCircle")){var f=new Ae({shape:ds(e,n)});f.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=f,l.add(f)}o.diff(s).add(function(h){var g=new uh(o,h,u);o.setItemGraphicEl(h,g),l.add(g)}).update(function(h,g){var d=s.getItemGraphicEl(g);d.updateData(o,h,u),d.off("click"),l.add(d),o.setItemGraphicEl(h,d)}).remove(function(h){var g=s.getItemGraphicEl(h);qr(g,e,h)}).execute(),lh(e),e.get("animationTypeUpdate")!=="expansion"&&(this._data=o)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,r){var n=r.getData(),i=n.getItemLayout(0);if(i){var o=e[0]-i.cx,s=e[1]-i.cy,l=Math.sqrt(o*o+s*s);return l<=i.r&&l>=i.r0}},t.type="pie",t}(De);const ch=vh;function Na(a,t,e){t=j(t)&&{coordDimensions:t}||Y({encodeDefine:a.getEncode()},t);var r=a.getSource(),n=Yu(r,t).dimensions,i=new Ao(n,a);return i.initData(r,e),i}var hh=function(){function a(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return a.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},a.prototype.containName=function(t){var e=this._getRawData();return e.indexOfName(t)>=0},a.prototype.indexOfName=function(t){var e=this._getDataWithEncodedVisual();return e.indexOfName(t)},a.prototype.getItemVisual=function(t,e){var r=this._getDataWithEncodedVisual();return r.getItemVisual(t,e)},a}();const fh=hh;var gh=Le(),dh=function(a){G(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.init=function(e){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new fh(F(this.getData,this),F(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.mergeOption=function(){a.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return Na(this,{coordDimensions:["value"],encodeDefaulter:ee(Ro,this)})},t.prototype.getDataParams=function(e){var r=this.getData(),n=gh(r),i=n.seats;if(!i){var o=[];r.each(r.mapDimension("value"),function(l){o.push(l)}),i=n.seats=ju(o,r.hostModel.get("percentPrecision"))}var s=a.prototype.getDataParams.call(this,e);return s.percent=i[e]||0,s.$vars.push("percent"),s},t.prototype._defaultLabelLine=function(e){ko(e,"labelLine",["show"]);var r=e.labelLine,n=e.emphasis.labelLine;r.show=r.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}($e);const ph=dh;function mh(a){return{seriesType:a,reset:function(t,e){var r=t.getData();r.filterSelf(function(n){var i=r.mapDimension("value"),o=r.get(i,n);return!(Oe(o)&&!isNaN(o)&&o<0)})}}}function yh(a){a.registerChartView(ch),a.registerSeriesModel(ph),Oo("pie",a.registerAction),a.registerLayout(ee(nh,"pie")),a.registerProcessor(ih("pie")),a.registerProcessor(mh("pie"))}var Sh=function(a){G(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e,r){return gr(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var e=this.option.progressive;return e??(this.option.large?5e3:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return e??(this.option.large?1e4:this.get("progressiveThreshold"))},t.prototype.brushSelector=function(e,r,n){return n.point(r.getItemLayout(e))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}($e);const bh=Sh;var ms=4,_h=function(){function a(){}return a}(),xh=function(a){G(t,a);function t(e){var r=a.call(this,e)||this;return r._off=0,r.hoverDataIdx=-1,r}return t.prototype.getDefaultShape=function(){return new _h},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(e,r){var n=r.points,i=r.size,o=this.symbolProxy,s=o.shape,l=e.getContext?e.getContext():e,u=l&&i[0]<ms,v=this.softClipShape,c;if(u){this._ctx=l;return}for(this._ctx=null,c=this._off;c<n.length;){var f=n[c++],h=n[c++];isNaN(f)||isNaN(h)||v&&!v.contain(f,h)||(s.x=f-i[0]/2,s.y=h-i[1]/2,s.width=i[0],s.height=i[1],o.buildPath(e,s,!0))}this.incremental&&(this._off=c,this.notClear=!0)},t.prototype.afterBrush=function(){var e=this.shape,r=e.points,n=e.size,i=this._ctx,o=this.softClipShape,s;if(i){for(s=this._off;s<r.length;){var l=r[s++],u=r[s++];isNaN(l)||isNaN(u)||o&&!o.contain(l,u)||i.fillRect(l-n[0]/2,u-n[1]/2,n[0],n[1])}this.incremental&&(this._off=s,this.notClear=!0)}},t.prototype.findDataIndex=function(e,r){for(var n=this.shape,i=n.points,o=n.size,s=Math.max(o[0],4),l=Math.max(o[1],4),u=i.length/2-1;u>=0;u--){var v=u*2,c=i[v]-s/2,f=i[v+1]-l/2;if(e>=c&&r>=f&&e<=c+s&&r<=f+l)return u}return-1},t.prototype.contain=function(e,r){var n=this.transformCoordToLocal(e,r),i=this.getBoundingRect();if(e=n[0],r=n[1],i.contain(e,r)){var o=this.hoverDataIdx=this.findDataIndex(e,r);return o>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var r=this.shape,n=r.points,i=r.size,o=i[0],s=i[1],l=1/0,u=1/0,v=-1/0,c=-1/0,f=0;f<n.length;){var h=n[f++],g=n[f++];l=Math.min(h,l),v=Math.max(h,v),u=Math.min(g,u),c=Math.max(g,c)}e=this._rect=new ce(l-o/2,u-s/2,v-l+o,c-u+s)}return e},t}(be),wh=function(){function a(){this.group=new X}return a.prototype.updateData=function(t,e){this._clear();var r=this._create();r.setShape({points:t.getLayout("points")}),this._setCommon(r,t,e)},a.prototype.updateLayout=function(t){var e=t.getLayout("points");this.group.eachChild(function(r){if(r.startIndex!=null){var n=(r.endIndex-r.startIndex)*2,i=r.startIndex*4*2;e=new Float32Array(e.buffer,i,n)}r.setShape("points",e),r.reset()})},a.prototype.incrementalPrepareUpdate=function(t){this._clear()},a.prototype.incrementalUpdate=function(t,e,r){var n=this._newAdded[0],i=e.getLayout("points"),o=n&&n.shape.points;if(o&&o.length<2e4){var s=o.length,l=new Float32Array(s+i.length);l.set(o),l.set(i,s),n.endIndex=t.end,n.setShape({points:l})}else{this._newAdded=[];var u=this._create();u.startIndex=t.start,u.endIndex=t.end,u.incremental=!0,u.setShape({points:i}),this._setCommon(u,e,r)}},a.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},a.prototype._create=function(){var t=new xh({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},a.prototype._setCommon=function(t,e,r){var n=e.hostModel;r=r||{};var i=e.getVisual("symbolSize");t.setShape("size",i instanceof Array?i:[i,i]),t.softClipShape=r.clipShape||null,t.symbolProxy=Se(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var o=t.shape.size[0]<ms;t.useStyle(n.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"]));var s=e.getVisual("style"),l=s&&s.fill;l&&t.setColor(l);var u=te(t);u.seriesIndex=n.seriesIndex,t.on("mousemove",function(v){u.dataIndex=null;var c=t.hoverDataIdx;c>=0&&(u.dataIndex=c+(t.startIndex||0))})},a.prototype.remove=function(){this._clear()},a.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},a}();const Ah=wh;var Th=function(a){G(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,n){var i=e.getData(),o=this._updateSymbolDraw(i,e);o.updateData(i,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,r,n){var i=e.getData(),o=this._updateSymbolDraw(i,e);o.incrementalPrepareUpdate(i),this._finished=!1},t.prototype.incrementalRender=function(e,r,n){this._symbolDraw.incrementalUpdate(e,r.getData(),{clipShape:this._getClipShape(r)}),this._finished=e.end===r.getData().count()},t.prototype.updateTransform=function(e,r,n){var i=e.getData();if(this.group.dirty(),!this._finished||i.count()>1e4)return{update:!0};var o=Va("").reset(e,r,n);o.progress&&o.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout(i)},t.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},t.prototype._getClipShape=function(e){var r=e.coordinateSystem,n=r&&r.getArea&&r.getArea();return e.get("clip",!0)?n:null},t.prototype._updateSymbolDraw=function(e,r){var n=this._symbolDraw,i=r.pipelineContext,o=i.large;return(!n||o!==this._isLargeDraw)&&(n&&n.remove(),n=this._symbolDraw=o?new Ah:new as,this._isLargeDraw=o,this.group.removeAll()),this.group.add(n.group),n},t.prototype.remove=function(e,r){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(De);const Mh=Th;var Ch=function(a){G(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(Re);const Dh=Ch;var ia=function(a){G(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Xe).models[0]},t.type="cartesian2dAxis",t}(Re);Eo(ia,Ju);var ys={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},Ih=pe({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},ys),za=pe({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},ys),Ph=pe({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},za),Lh=Q({logBase:10},za);const Rh={category:Ih,value:za,time:Ph,log:Lh};var kh={value:1,category:1,time:1,log:1};function Bn(a,t,e,r){D(kh,function(n,i){var o=pe(pe({},Rh[i],!0),r,!0),s=function(l){G(u,l);function u(){var v=l!==null&&l.apply(this,arguments)||this;return v.type=t+"Axis."+i,v}return u.prototype.mergeDefaultAndTheme=function(v,c){var f=qu(this),h=f?Ca(v):{},g=c.getTheme();pe(v,g.get(i+"Axis")),pe(v,this.getDefaultOption()),v.type=Fn(v),f&&Go(v,h,f)},u.prototype.optionUpdated=function(){var v=this.option;v.type==="category"&&(this.__ordinalMeta=Ku.createByAxisModel(this))},u.prototype.getCategories=function(v){var c=this.option;if(c.type==="category")return v?c.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.type=t+"Axis."+i,u.defaultOption=o,u}(e);a.registerComponentModel(s)}),a.registerSubTypeDefaulter(t+"Axis",Fn)}function Fn(a){return a.type||(a.data?"category":"value")}var Oh=function(){function a(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return a.prototype.getAxis=function(t){return this._axes[t]},a.prototype.getAxes=function(){return H(this._dimList,function(t){return this._axes[t]},this)},a.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),yt(this.getAxes(),function(e){return e.scale.type===t})},a.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},a}();const Eh=Oh;var oa=["x","y"];function Hn(a){return a.type==="interval"||a.type==="time"}var Gh=function(a){G(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=oa,e}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,r=this.getAxis("y").scale;if(!(!Hn(e)||!Hn(r))){var n=e.getExtent(),i=r.getExtent(),o=this.dataToPoint([n[0],i[0]]),s=this.dataToPoint([n[1],i[1]]),l=n[1]-n[0],u=i[1]-i[0];if(!(!l||!u)){var v=(s[0]-o[0])/l,c=(s[1]-o[1])/u,f=o[0]-n[0]*v,h=o[1]-i[0]*c,g=this._transform=[v,0,0,c,f,h];this._invTransform=Sa([],g)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var r=this.getAxis("x"),n=this.getAxis("y");return r.contain(r.toLocalCoord(e[0]))&&n.contain(n.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.containZone=function(e,r){var n=this.dataToPoint(e),i=this.dataToPoint(r),o=this.getArea(),s=new ce(n[0],n[1],i[0]-n[0],i[1]-n[1]);return o.intersect(s)},t.prototype.dataToPoint=function(e,r,n){n=n||[];var i=e[0],o=e[1];if(this._transform&&i!=null&&isFinite(i)&&o!=null&&isFinite(o))return ye(n,e,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return n[0]=s.toGlobalCoord(s.dataToCoord(i,r)),n[1]=l.toGlobalCoord(l.dataToCoord(o,r)),n},t.prototype.clampData=function(e,r){var n=this.getAxis("x").scale,i=this.getAxis("y").scale,o=n.getExtent(),s=i.getExtent(),l=n.parse(e[0]),u=i.parse(e[1]);return r=r||[],r[0]=Math.min(Math.max(Math.min(o[0],o[1]),l),Math.max(o[0],o[1])),r[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),r},t.prototype.pointToData=function(e,r){var n=[];if(this._invTransform)return ye(n,e,this._invTransform);var i=this.getAxis("x"),o=this.getAxis("y");return n[0]=i.coordToData(i.toLocalCoord(e[0]),r),n[1]=o.coordToData(o.toLocalCoord(e[1]),r),n},t.prototype.getOtherAxis=function(e){return this.getAxis(e.dim==="x"?"y":"x")},t.prototype.getArea=function(){var e=this.getAxis("x").getGlobalExtent(),r=this.getAxis("y").getGlobalExtent(),n=Math.min(e[0],e[1]),i=Math.min(r[0],r[1]),o=Math.max(e[0],e[1])-n,s=Math.max(r[0],r[1])-i;return new ce(n,i,o,s)},t}(Eh),Vh=function(a){G(t,a);function t(e,r,n,i,o){var s=a.call(this,e,r,n)||this;return s.index=0,s.type=i||"value",s.position=o||"bottom",s}return t.prototype.isHorizontal=function(){var e=this.position;return e==="top"||e==="bottom"},t.prototype.getGlobalExtent=function(e){var r=this.getExtent();return r[0]=this.toGlobalCoord(r[0]),r[1]=this.toGlobalCoord(r[1]),e&&r[0]>r[1]&&r.reverse(),r},t.prototype.pointToData=function(e,r){return this.coordToData(this.toLocalCoord(e[this.dim==="x"?0:1]),r)},t.prototype.setCategorySortInfo=function(e){if(this.type!=="category")return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t}(ts);const Nh=Vh;function sa(a,t,e){e=e||{};var r=a.coordinateSystem,n=t.axis,i={},o=n.getAxesOnZeroOf()[0],s=n.position,l=o?"onZero":s,u=n.dim,v=r.getRect(),c=[v.x,v.x+v.width,v.y,v.y+v.height],f={left:0,right:1,top:0,bottom:1,onZero:2},h=t.get("offset")||0,g=u==="x"?[c[2]-h,c[3]+h]:[c[0]-h,c[1]+h];if(o){var d=o.toGlobalCoord(o.dataToCoord(0));g[f.onZero]=Math.max(Math.min(d,g[1]),g[0])}i.position=[u==="y"?g[f[l]]:c[0],u==="x"?g[f[l]]:c[3]],i.rotation=Math.PI/2*(u==="x"?0:1);var p={top:-1,bottom:1,left:-1,right:1};i.labelDirection=i.tickDirection=i.nameDirection=p[s],i.labelOffset=o?g[f[s]]-g[f.onZero]:0,t.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),_t(e.labelInside,t.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var m=t.get(["axisLabel","rotate"]);return i.labelRotate=l==="top"?-m:m,i.z2=1,i}function Wn(a){return a.get("coordinateSystem")==="cartesian2d"}function Zn(a){var t={xAxisModel:null,yAxisModel:null};return D(t,function(e,r){var n=r.replace(/Model$/,""),i=a.getReferringComponents(n,Xe).models[0];t[r]=i}),t}var Lr=Math.log;function zh(a,t,e){var r=Qu.prototype,n=r.getTicks.call(e),i=r.getTicks.call(e,!0),o=n.length-1,s=r.getInterval.call(e),l=ev(a,t),u=l.extent,v=l.fixMin,c=l.fixMax;if(a.type==="log"){var f=Lr(a.base);u=[Lr(u[0])/f,Lr(u[1])/f]}a.setExtent(u[0],u[1]),a.calcNiceExtent({splitNumber:o,fixMin:v,fixMax:c});var h=r.getExtent.call(a);v&&(u[0]=h[0]),c&&(u[1]=h[1]);var g=r.getInterval.call(a),d=u[0],p=u[1];if(v&&c)g=(p-d)/o;else if(v)for(p=u[0]+g*o;p<u[1]&&isFinite(p)&&isFinite(u[1]);)g=_r(g),p=u[0]+g*o;else if(c)for(d=u[1]-g*o;d>u[0]&&isFinite(d)&&isFinite(u[0]);)g=_r(g),d=u[1]-g*o;else{var m=a.getTicks().length-1;m>o&&(g=_r(g));var y=g*o;p=Math.ceil(u[1]/g)*g,d=de(p-y),d<0&&u[0]>=0?(d=0,p=de(y)):p>0&&u[1]<=0&&(p=0,d=-de(y))}var S=(n[0].value-i[0].value)/s,b=(n[o].value-i[o].value)/s;r.setExtent.call(a,d+g*S,p+g*b),r.setInterval.call(a,g),(S||b)&&r.setNiceExtent.call(a,d+g,p-g)}var Bh=function(){function a(t,e,r){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=oa,this._initCartesian(t,e,r),this.model=t}return a.prototype.getRect=function(){return this._rect},a.prototype.update=function(t,e){var r=this._axesMap;this._updateScale(t,this.model);function n(o){var s,l=pr(o),u=l.length;if(u){for(var v=[],c=u-1;c>=0;c--){var f=+l[c],h=o[f],g=h.model,d=h.scale;Kr(d)&&g.get("alignTicks")&&g.get("interval")==null?v.push(h):(on(d,g),Kr(d)&&(s=h))}v.length&&(s||(s=v.pop(),on(s.scale,s.model)),D(v,function(p){zh(p.scale,p.model,s.scale)}))}}n(r.x),n(r.y);var i={};D(r.x,function(o){Un(r,"y",o,i)}),D(r.y,function(o){Un(r,"x",o,i)}),this.resize(this.model,e)},a.prototype.resize=function(t,e,r){var n=t.getBoxLayoutParams(),i=!r&&t.get("containLabel"),o=Ue(n,{width:e.getWidth(),height:e.getHeight()});this._rect=o;var s=this._axesList;l(),i&&(D(s,function(u){if(!u.model.get(["axisLabel","inside"])){var v=tv(u);if(v){var c=u.isHorizontal()?"height":"width",f=u.model.get(["axisLabel","margin"]);o[c]-=v[c]+f,u.position==="top"?o.y+=v.height+f:u.position==="left"&&(o.x+=v.width+f)}}}),l()),D(this._coordsList,function(u){u.calcAffineTransform()});function l(){D(s,function(u){var v=u.isHorizontal(),c=v?[0,o.width]:[0,o.height],f=u.inverse?1:0;u.setExtent(c[f],c[1-f]),Fh(u,v?o.x:o.y)})}},a.prototype.getAxis=function(t,e){var r=this._axesMap[t];if(r!=null)return r[e||0]},a.prototype.getAxes=function(){return this._axesList.slice()},a.prototype.getCartesian=function(t,e){if(t!=null&&e!=null){var r="x"+t+"y"+e;return this._coordsMap[r]}Ie(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var n=0,i=this._coordsList;n<i.length;n++)if(i[n].getAxis("x").index===t||i[n].getAxis("y").index===e)return i[n]},a.prototype.getCartesians=function(){return this._coordsList.slice()},a.prototype.convertToPixel=function(t,e,r){var n=this._findConvertTarget(e);return n.cartesian?n.cartesian.dataToPoint(r):n.axis?n.axis.toGlobalCoord(n.axis.dataToCoord(r)):null},a.prototype.convertFromPixel=function(t,e,r){var n=this._findConvertTarget(e);return n.cartesian?n.cartesian.pointToData(r):n.axis?n.axis.coordToData(n.axis.toLocalCoord(r)):null},a.prototype._findConvertTarget=function(t){var e=t.seriesModel,r=t.xAxisModel||e&&e.getReferringComponents("xAxis",Xe).models[0],n=t.yAxisModel||e&&e.getReferringComponents("yAxis",Xe).models[0],i=t.gridModel,o=this._coordsList,s,l;if(e)s=e.coordinateSystem,Ce(o,s)<0&&(s=null);else if(r&&n)s=this.getCartesian(r.componentIndex,n.componentIndex);else if(r)l=this.getAxis("x",r.componentIndex);else if(n)l=this.getAxis("y",n.componentIndex);else if(i){var u=i.coordinateSystem;u===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},a.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},a.prototype._initCartesian=function(t,e,r){var n=this,i=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(e.eachComponent("xAxis",u("x"),this),e.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,D(s.x,function(v,c){D(s.y,function(f,h){var g="x"+c+"y"+h,d=new Gh(g);d.master=n,d.model=t,n._coordsMap[g]=d,n._coordsList.push(d),d.addAxis(v),d.addAxis(f)})});function u(v){return function(c,f){if(Rr(c,t)){var h=c.get("position");v==="x"?h!=="top"&&h!=="bottom"&&(h=o.bottom?"top":"bottom"):h!=="left"&&h!=="right"&&(h=o.left?"right":"left"),o[h]=!0;var g=new Nh(v,rv(c),[0,0],c.get("type"),h),d=g.type==="category";g.onBand=d&&c.get("boundaryGap"),g.inverse=c.get("inverse"),c.axis=g,g.model=c,g.grid=i,g.index=f,i._axesList.push(g),s[v][f]=g,l[v]++}}}},a.prototype._updateScale=function(t,e){D(this._axesList,function(n){if(n.scale.setExtent(1/0,-1/0),n.type==="category"){var i=n.model.get("categorySortInfo");n.scale.setSortInfo(i)}}),t.eachSeries(function(n){if(Wn(n)){var i=Zn(n),o=i.xAxisModel,s=i.yAxisModel;if(!Rr(o,e)||!Rr(s,e))return;var l=this.getCartesian(o.componentIndex,s.componentIndex),u=n.getData(),v=l.getAxis("x"),c=l.getAxis("y");r(u,v),r(u,c)}},this);function r(n,i){D(av(n,i.dim),function(o){i.scale.unionExtentFromData(n,o)})}},a.prototype.getTooltipAxes=function(t){var e=[],r=[];return D(this.getCartesians(),function(n){var i=t!=null&&t!=="auto"?n.getAxis(t):n.getBaseAxis(),o=n.getOtherAxis(i);Ce(e,i)<0&&e.push(i),Ce(r,o)<0&&r.push(o)}),{baseAxes:e,otherAxes:r}},a.create=function(t,e){var r=[];return t.eachComponent("grid",function(n,i){var o=new a(n,t,e);o.name="grid_"+i,o.resize(n,e,!0),n.coordinateSystem=o,r.push(o)}),t.eachSeries(function(n){if(Wn(n)){var i=Zn(n),o=i.xAxisModel,s=i.yAxisModel,l=o.getCoordSysModel(),u=l.coordinateSystem;n.coordinateSystem=u.getCartesian(o.componentIndex,s.componentIndex)}}),r},a.dimensions=oa,a}();function Rr(a,t){return a.getCoordSysModel()===t}function Un(a,t,e,r){e.getAxesOnZeroOf=function(){return i?[i]:[]};var n=a[t],i,o=e.model,s=o.get(["axisLine","onZero"]),l=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)Xn(n[l])&&(i=n[l]);else for(var u in n)if(n.hasOwnProperty(u)&&Xn(n[u])&&!r[v(n[u])]){i=n[u];break}i&&(r[v(i)]=!0);function v(c){return c.dim+"_"+c.index}}function Xn(a){return a&&a.type!=="category"&&a.type!=="time"&&nv(a)}function Fh(a,t){var e=a.getExtent(),r=e[0]+e[1];a.toGlobalCoord=a.dim==="x"?function(n){return n+t}:function(n){return r-n+t},a.toLocalCoord=a.dim==="x"?function(n){return n-t}:function(n){return r-n+t}}const Hh=Bh;var Fe=Math.PI,Qe=function(){function a(t,e){this.group=new X,this.opt=e,this.axisModel=t,Q(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var r=new X({x:e.position[0],y:e.position[1],rotation:e.rotation});r.updateTransform(),this._transformGroup=r}return a.prototype.hasBuilder=function(t){return!!$n[t]},a.prototype.add=function(t){$n[t](this.opt,this.axisModel,this.group,this._transformGroup)},a.prototype.getGroup=function(){return this.group},a.innerTextLayout=function(t,e,r){var n=_a(e-t),i,o;return Vt(n)?(o=r>0?"top":"bottom",i="center"):Vt(n-Fe)?(o=r>0?"bottom":"top",i="center"):(o="middle",n>0&&n<Fe?i=r>0?"right":"left":i=r>0?"left":"right"),{rotation:n,textAlign:i,textVerticalAlign:o}},a.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},a.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},a}(),$n={axisLine:function(a,t,e,r){var n=t.get(["axisLine","show"]);if(n==="auto"&&a.handleAutoShown&&(n=a.handleAutoShown("axisLine")),!!n){var i=t.axis.getExtent(),o=r.transform,s=[i[0],0],l=[i[1],0],u=s[0]>l[0];o&&(ye(s,s,o),ye(l,l,o));var v=Y({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),c=new We({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:v,strokeContainThreshold:a.strokeContainThreshold||5,silent:!0,z2:1});Qt(c.shape,c.style.lineWidth),c.anid="line",e.add(c);var f=t.get(["axisLine","symbol"]);if(f!=null){var h=t.get(["axisLine","symbolSize"]);J(f)&&(f=[f,f]),(J(h)||Oe(h))&&(h=[h,h]);var g=Co(t.get(["axisLine","symbolOffset"])||0,h),d=h[0],p=h[1];D([{rotate:a.rotation+Math.PI/2,offset:g[0],r:0},{rotate:a.rotation-Math.PI/2,offset:g[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(m,y){if(f[y]!=="none"&&f[y]!=null){var S=Se(f[y],-d/2,-p/2,d,p,v.stroke,!0),b=m.r+m.offset,x=u?l:s;S.attr({rotation:m.rotate,x:x[0]+b*Math.cos(a.rotation),y:x[1]-b*Math.sin(a.rotation),silent:!0,z2:11}),e.add(S)}})}}},axisTickLabel:function(a,t,e,r){var n=Uh(e,r,t,a),i=$h(e,r,t,a);if(Zh(t,i,n),Xh(e,r,t,a.tickDirection),t.get(["axisLabel","hideOverlap"])){var o=iv(H(i,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}}));ov(o)}},axisName:function(a,t,e,r){var n=_t(a.axisName,t.get("name"));if(n){var i=t.get("nameLocation"),o=a.nameDirection,s=t.getModel("nameTextStyle"),l=t.get("nameGap")||0,u=t.axis.getExtent(),v=u[0]>u[1]?-1:1,c=[i==="start"?u[0]-v*l:i==="end"?u[1]+v*l:(u[0]+u[1])/2,jn(i)?a.labelOffset+o*l:0],f,h=t.get("nameRotate");h!=null&&(h=h*Fe/180);var g;jn(i)?f=Qe.innerTextLayout(a.rotation,h??a.rotation,o):(f=Wh(a.rotation,i,h||0,u),g=a.axisNameAvailableWidth,g!=null&&(g=Math.abs(g/Math.sin(f.rotation)),!isFinite(g)&&(g=null)));var d=s.getFont(),p=t.get("nameTruncate",!0)||{},m=p.ellipsis,y=_t(a.nameTruncateMaxWidth,p.maxWidth,g),S=new ie({x:c[0],y:c[1],rotation:f.rotation,silent:Qe.isLabelSilent(t),style:me(s,{text:n,font:d,overflow:"truncate",width:y,ellipsis:m,fill:s.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:s.get("align")||f.textAlign,verticalAlign:s.get("verticalAlign")||f.textVerticalAlign}),z2:1});if(Da({el:S,componentModel:t,itemName:n}),S.__fullText=n,S.anid="name",t.get("triggerEvent")){var b=Qe.makeAxisEventDataBase(t);b.targetType="axisName",b.name=n,te(S).eventData=b}r.add(S),S.updateTransform(),e.add(S),S.decomposeTransform()}}};function Wh(a,t,e,r){var n=_a(e-a),i,o,s=r[0]>r[1],l=t==="start"&&!s||t!=="start"&&s;return Vt(n-Fe/2)?(o=l?"bottom":"top",i="center"):Vt(n-Fe*1.5)?(o=l?"top":"bottom",i="center"):(o="middle",n<Fe*1.5&&n>Fe/2?i=l?"left":"right":i=l?"right":"left"),{rotation:n,textAlign:i,textVerticalAlign:o}}function Zh(a,t,e){if(!wo(a.axis)){var r=a.get(["axisLabel","showMinLabel"]),n=a.get(["axisLabel","showMaxLabel"]);t=t||[],e=e||[];var i=t[0],o=t[1],s=t[t.length-1],l=t[t.length-2],u=e[0],v=e[1],c=e[e.length-1],f=e[e.length-2];r===!1?(he(i),he(u)):Yn(i,o)&&(r?(he(o),he(v)):(he(i),he(u))),n===!1?(he(s),he(c)):Yn(l,s)&&(n?(he(l),he(f)):(he(s),he(c)))}}function he(a){a&&(a.ignore=!0)}function Yn(a,t){var e=a&&a.getBoundingRect().clone(),r=t&&t.getBoundingRect().clone();if(!(!e||!r)){var n=uo([]);return Ia(n,n,-a.rotation),e.applyTransform(Gt([],n,a.getLocalTransform())),r.applyTransform(Gt([],n,t.getLocalTransform())),e.intersect(r)}}function jn(a){return a==="middle"||a==="center"}function Ss(a,t,e,r,n){for(var i=[],o=[],s=[],l=0;l<a.length;l++){var u=a[l].coord;o[0]=u,o[1]=0,s[0]=u,s[1]=e,t&&(ye(o,o,t),ye(s,s,t));var v=new We({shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:r,z2:2,autoBatch:!0,silent:!0});Qt(v.shape,v.style.lineWidth),v.anid=n+"_"+a[l].tickValue,i.push(v)}return i}function Uh(a,t,e,r){var n=e.axis,i=e.getModel("axisTick"),o=i.get("show");if(o==="auto"&&r.handleAutoShown&&(o=r.handleAutoShown("axisTick")),!(!o||n.scale.isBlank())){for(var s=i.getModel("lineStyle"),l=r.tickDirection*i.get("length"),u=n.getTicksCoords(),v=Ss(u,t.transform,l,Q(s.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}),"ticks"),c=0;c<v.length;c++)a.add(v[c]);return v}}function Xh(a,t,e,r){var n=e.axis,i=e.getModel("minorTick");if(!(!i.get("show")||n.scale.isBlank())){var o=n.getMinorTicksCoords();if(o.length)for(var s=i.getModel("lineStyle"),l=r*i.get("length"),u=Q(s.getLineStyle(),Q(e.getModel("axisTick").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})),v=0;v<o.length;v++)for(var c=Ss(o[v],t.transform,l,u,"minorticks_"+v),f=0;f<c.length;f++)a.add(c[f])}}function $h(a,t,e,r){var n=e.axis,i=_t(r.axisLabelShow,e.get(["axisLabel","show"]));if(!(!i||n.scale.isBlank())){var o=e.getModel("axisLabel"),s=o.get("margin"),l=n.getViewLabels(),u=(_t(r.labelRotate,o.get("rotate"))||0)*Fe/180,v=Qe.innerTextLayout(r.rotation,u,r.labelDirection),c=e.getCategories&&e.getCategories(!0),f=[],h=Qe.isLabelSilent(e),g=e.get("triggerEvent");return D(l,function(d,p){var m=n.scale.type==="ordinal"?n.scale.getRawOrdinalNumber(d.tickValue):d.tickValue,y=d.formattedLabel,S=d.rawLabel,b=o;if(c&&c[m]){var x=c[m];Ie(x)&&x.textStyle&&(b=new xe(x.textStyle,o,e.ecModel))}var _=b.getTextColor()||e.get(["axisLine","lineStyle","color"]),w=n.dataToCoord(m),A=new ie({x:w,y:r.labelOffset+r.labelDirection*s,rotation:v.rotation,silent:h,z2:10+(d.level||0),style:me(b,{text:y,align:b.getShallow("align",!0)||v.textAlign,verticalAlign:b.getShallow("verticalAlign",!0)||b.getShallow("baseline",!0)||v.textVerticalAlign,fill:oe(_)?_(n.type==="category"?S:n.type==="value"?m+"":m,p):_})});if(A.anid="label_"+m,g){var T=Qe.makeAxisEventDataBase(e);T.targetType="axisLabel",T.value=S,T.tickIndex=p,n.type==="category"&&(T.dataIndex=m),te(A).eventData=T}t.add(A),A.updateTransform(),f.push(A),a.add(A),A.decomposeTransform()}),f}}const bs=Qe;function Yh(a,t){var e={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return jh(e,a,t),e.seriesInvolved&&qh(e,a),e}function jh(a,t,e){var r=t.getComponent("tooltip"),n=t.getComponent("axisPointer"),i=n.get("link",!0)||[],o=[];D(e.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var l=Bt(s.model),u=a.coordSysAxesInfo[l]={};a.coordSysMap[l]=s;var v=s.model,c=v.getModel("tooltip",r);if(D(s.getAxes(),ee(d,!1,null)),s.getTooltipAxes&&r&&c.get("show")){var f=c.get("trigger")==="axis",h=c.get(["axisPointer","type"])==="cross",g=s.getTooltipAxes(c.get(["axisPointer","axis"]));(f||h)&&D(g.baseAxes,ee(d,h?"cross":!0,f)),h&&D(g.otherAxes,ee(d,"cross",!1))}function d(p,m,y){var S=y.model.getModel("axisPointer",n),b=S.get("show");if(!(!b||b==="auto"&&!p&&!la(S))){m==null&&(m=S.get("triggerTooltip")),S=p?Jh(y,c,n,t,p,m):S;var x=S.get("snap"),_=Bt(y.model),w=m||x||y.type==="category",A=a.axesInfo[_]={key:_,axis:y,coordSys:s,axisPointerModel:S,triggerTooltip:m,involveSeries:w,snap:x,useHandle:la(S),seriesModels:[],linkGroup:null};u[_]=A,a.seriesInvolved=a.seriesInvolved||w;var T=Kh(i,y);if(T!=null){var M=o[T]||(o[T]={axesInfo:{}});M.axesInfo[_]=A,M.mapper=i[T].mapper,A.linkGroup=M}}}})}function Jh(a,t,e,r,n,i){var o=t.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};D(s,function(f){l[f]=tt(o.get(f))}),l.snap=a.type!=="category"&&!!i,o.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),n==="cross"){var v=o.get(["label","show"]);if(u.show=v??!0,!i){var c=l.lineStyle=o.get("crossStyle");c&&Q(u,c.textStyle)}}return a.model.getModel("axisPointer",new xe(l,e,r))}function qh(a,t){t.eachSeries(function(e){var r=e.coordinateSystem,n=e.get(["tooltip","trigger"],!0),i=e.get(["tooltip","show"],!0);!r||n==="none"||n===!1||n==="item"||i===!1||e.get(["axisPointer","show"],!0)===!1||D(a.coordSysAxesInfo[Bt(r.model)],function(o){var s=o.axis;r.getAxis(s.dim)===s&&(o.seriesModels.push(e),o.seriesDataCount==null&&(o.seriesDataCount=0),o.seriesDataCount+=e.getData().count())})})}function Kh(a,t){for(var e=t.model,r=t.dim,n=0;n<a.length;n++){var i=a[n]||{};if(kr(i[r+"AxisId"],e.id)||kr(i[r+"AxisIndex"],e.componentIndex)||kr(i[r+"AxisName"],e.name))return n}}function kr(a,t){return a==="all"||j(a)&&Ce(a,t)>=0||a===t}function Qh(a){var t=Ba(a);if(t){var e=t.axisPointerModel,r=t.axis.scale,n=e.option,i=e.get("status"),o=e.get("value");o!=null&&(o=r.parse(o));var s=la(e);i==null&&(n.status=s?"show":"hide");var l=r.getExtent().slice();l[0]>l[1]&&l.reverse(),(o==null||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),n.value=o,s&&(n.status=t.axis.scale.isBlank()?"hide":"show")}}function Ba(a){var t=(a.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[Bt(a)]}function ef(a){var t=Ba(a);return t&&t.axisPointerModel}function la(a){return!!a.get(["handle","show"])}function Bt(a){return a.type+"||"+a.id}var Jn={},tf=function(a){G(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,n,i){this.axisPointerClass&&Qh(e),a.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,n,!0)},t.prototype.updateAxisPointer=function(e,r,n,i){this._doUpdateAxisPointerClass(e,n,!1)},t.prototype.remove=function(e,r){var n=this._axisPointer;n&&n.remove(r)},t.prototype.dispose=function(e,r){this._disposeAxisPointer(r),a.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(e,r,n){var i=t.getAxisPointerClass(this.axisPointerClass);if(i){var o=ef(e);o?(this._axisPointer||(this._axisPointer=new i)).render(e,o,r,n):this._disposeAxisPointer(r)}},t.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},t.registerAxisPointerClass=function(e,r){Jn[e]=r},t.getAxisPointerClass=function(e){return e&&Jn[e]},t.type="axis",t}(ke);const _s=tf;var ua=Le();function rf(a,t,e,r){var n=e.axis;if(!n.scale.isBlank()){var i=e.getModel("splitArea"),o=i.getModel("areaStyle"),s=o.get("color"),l=r.coordinateSystem.getRect(),u=n.getTicksCoords({tickModel:i,clamp:!0});if(u.length){var v=s.length,c=ua(a).splitAreaColors,f=W(),h=0;if(c)for(var g=0;g<u.length;g++){var d=c.get(u[g].tickValue);if(d!=null){h=(d+(v-1)*g)%v;break}}var p=n.toGlobalCoord(u[0].coord),m=o.getAreaStyle();s=j(s)?s:[s];for(var g=1;g<u.length;g++){var y=n.toGlobalCoord(u[g].coord),S=void 0,b=void 0,x=void 0,_=void 0;n.isHorizontal()?(S=p,b=l.y,x=y-S,_=l.height,p=S+x):(S=l.x,b=p,x=l.width,_=y-b,p=b+_);var w=u[g-1].tickValue;w!=null&&f.set(w,h),t.add(new ne({anid:w!=null?"area_"+w:null,shape:{x:S,y:b,width:x,height:_},style:Q({fill:s[h]},m),autoBatch:!0,silent:!0})),h=(h+1)%v}ua(a).splitAreaColors=f}}}function af(a){ua(a).splitAreaColors=null}var nf=["axisLine","axisTickLabel","axisName"],of=["splitArea","splitLine","minorSplitLine"],xs=function(a){G(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="CartesianAxisPointer",e}return t.prototype.render=function(e,r,n,i){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new X,this.group.add(this._axisGroup),!!e.get("show")){var s=e.getCoordSysModel(),l=sa(s,e),u=new bs(e,Y({handleAutoShown:function(c){for(var f=s.coordinateSystem.getCartesians(),h=0;h<f.length;h++)if(Kr(f[h].getOtherAxis(e.axis).scale))return!0;return!1}},l));D(nf,u.add,u),this._axisGroup.add(u.getGroup()),D(of,function(c){e.get([c,"show"])&&sf[c](this,this._axisGroup,e,s)},this);var v=i&&i.type==="changeAxisOrder"&&i.isInitSort;v||sv(o,this._axisGroup,e),a.prototype.render.call(this,e,r,n,i)}},t.prototype.remove=function(){af(this)},t.type="cartesianAxis",t}(_s),sf={splitLine:function(a,t,e,r){var n=e.axis;if(!n.scale.isBlank()){var i=e.getModel("splitLine"),o=i.getModel("lineStyle"),s=o.get("color");s=j(s)?s:[s];for(var l=r.coordinateSystem.getRect(),u=n.isHorizontal(),v=0,c=n.getTicksCoords({tickModel:i}),f=[],h=[],g=o.getLineStyle(),d=0;d<c.length;d++){var p=n.toGlobalCoord(c[d].coord);u?(f[0]=p,f[1]=l.y,h[0]=p,h[1]=l.y+l.height):(f[0]=l.x,f[1]=p,h[0]=l.x+l.width,h[1]=p);var m=v++%s.length,y=c[d].tickValue,S=new We({anid:y!=null?"line_"+c[d].tickValue:null,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:h[0],y2:h[1]},style:Q({stroke:s[m]},g),silent:!0});Qt(S.shape,g.lineWidth),t.add(S)}}},minorSplitLine:function(a,t,e,r){var n=e.axis,i=e.getModel("minorSplitLine"),o=i.getModel("lineStyle"),s=r.coordinateSystem.getRect(),l=n.isHorizontal(),u=n.getMinorTicksCoords();if(u.length)for(var v=[],c=[],f=o.getLineStyle(),h=0;h<u.length;h++)for(var g=0;g<u[h].length;g++){var d=n.toGlobalCoord(u[h][g].coord);l?(v[0]=d,v[1]=s.y,c[0]=d,c[1]=s.y+s.height):(v[0]=s.x,v[1]=d,c[0]=s.x+s.width,c[1]=d);var p=new We({anid:"minor_line_"+u[h][g].tickValue,autoBatch:!0,shape:{x1:v[0],y1:v[1],x2:c[0],y2:c[1]},style:f,silent:!0});Qt(p.shape,f.lineWidth),t.add(p)}},splitArea:function(a,t,e,r){rf(a,t,e,r)}},ws=function(a){G(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.type="xAxis",t}(xs),lf=function(a){G(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=ws.type,e}return t.type="yAxis",t}(xs),uf=function(a){G(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type="grid",e}return t.prototype.render=function(e,r){this.group.removeAll(),e.get("show")&&this.group.add(new ne({shape:e.coordinateSystem.getRect(),style:Q({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(ke),qn={offset:0};function As(a){a.registerComponentView(uf),a.registerComponentModel(Dh),a.registerCoordinateSystem("cartesian2d",Hh),Bn(a,"x",ia,qn),Bn(a,"y",ia,qn),a.registerComponentView(ws),a.registerComponentView(lf),a.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function vf(a){ge(As),a.registerSeriesModel(bh),a.registerChartView(Mh),a.registerLayout(Va("scatter"))}var Kn="\0_ec_interaction_mutex";function Qn(a,t){return!!cf(a)[t]}function cf(a){return a[Kn]||(a[Kn]={})}To({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Qr);var hf=function(a){G(t,a);function t(e){var r=a.call(this)||this;r._zr=e;var n=F(r._mousedownHandler,r),i=F(r._mousemoveHandler,r),o=F(r._mouseupHandler,r),s=F(r._mousewheelHandler,r),l=F(r._pinchHandler,r);return r.enable=function(u,v){this.disable(),this._opt=Q(tt(v)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),u==null&&(u=!0),(u===!0||u==="move"||u==="pan")&&(e.on("mousedown",n),e.on("mousemove",i),e.on("mouseup",o)),(u===!0||u==="scale"||u==="zoom")&&(e.on("mousewheel",s),e.on("pinch",l))},r.disable=function(){e.off("mousedown",n),e.off("mousemove",i),e.off("mouseup",o),e.off("mousewheel",s),e.off("pinch",l)},r}return t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(e){this.pointerChecker=e},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!sn(e)){for(var r=e.target;r;){if(r.draggable)return;r=r.__hostTarget||r.parent}var n=e.offsetX,i=e.offsetY;this.pointerChecker&&this.pointerChecker(e,n,i)&&(this._x=n,this._y=i,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){if(!(!this._dragging||!Jt("moveOnMouseMove",e,this._opt)||e.gestureEvent==="pinch"||Qn(this._zr,"globalPan"))){var r=e.offsetX,n=e.offsetY,i=this._x,o=this._y,s=r-i,l=n-o;this._x=r,this._y=n,this._opt.preventDefaultMouseMove&&Nt(e.event),Ts(this,"pan","moveOnMouseMove",e,{dx:s,dy:l,oldX:i,oldY:o,newX:r,newY:n,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){sn(e)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(e){var r=Jt("zoomOnMouseWheel",e,this._opt),n=Jt("moveOnMouseWheel",e,this._opt),i=e.wheelDelta,o=Math.abs(i),s=e.offsetX,l=e.offsetY;if(!(i===0||!r&&!n)){if(r){var u=o>3?1.4:o>1?1.2:1.1,v=i>0?u:1/u;Or(this,"zoom","zoomOnMouseWheel",e,{scale:v,originX:s,originY:l,isAvailableBehavior:null})}if(n){var c=Math.abs(i),f=(i>0?1:-1)*(c>3?.4:c>1?.15:.05);Or(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:f,originX:s,originY:l,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(e){if(!Qn(this._zr,"globalPan")){var r=e.pinchScale>1?1.1:1/1.1;Or(this,"zoom",null,e,{scale:r,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})}},t}(lv);function Or(a,t,e,r,n){a.pointerChecker&&a.pointerChecker(r,n.originX,n.originY)&&(Nt(r.event),Ts(a,t,e,r,n))}function Ts(a,t,e,r,n){n.isAvailableBehavior=F(Jt,null,e,r),a.trigger(t,n)}function Jt(a,t,e){var r=e[a];return!a||r&&(!J(r)||t.event[r+"Key"])}const Ms=hf;function ff(a,t,e){var r=a.target;r.x+=t,r.y+=e,r.dirty()}function gf(a,t,e,r){var n=a.target,i=a.zoomLimit,o=a.zoom=a.zoom||1;if(o*=t,i){var s=i.min||0,l=i.max||1/0;o=Math.max(Math.min(l,o),s)}var u=o/a.zoom;a.zoom=o,n.x-=(e-n.x)*(u-1),n.y-=(r-n.y)*(u-1),n.scaleX*=u,n.scaleY*=u,n.dirty()}var df={axisPointer:1,tooltip:1,brush:1};function pf(a,t,e){var r=t.getComponentByElement(a.topTarget),n=r&&r.coordinateSystem;return r&&r!==e&&!df.hasOwnProperty(r.mainType)&&n&&n.model!==e}function Cs(a){if(J(a)){var t=new DOMParser;a=t.parseFromString(a,"text/xml")}var e=a;for(e.nodeType===9&&(e=e.firstChild);e.nodeName.toLowerCase()!=="svg"||e.nodeType!==1;)e=e.nextSibling;return e}var Er,nr={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},ei=pr(nr),ir={"alignment-baseline":"textBaseline","stop-color":"stopColor"},ti=pr(ir),mf=function(){function a(){this._defs={},this._root=null}return a.prototype.parse=function(t,e){e=e||{};var r=Cs(t);this._defsUsePending=[];var n=new X;this._root=n;var i=[],o=r.getAttribute("viewBox")||"",s=parseFloat(r.getAttribute("width")||e.width),l=parseFloat(r.getAttribute("height")||e.height);isNaN(s)&&(s=null),isNaN(l)&&(l=null),ve(r,n,null,!0,!1);for(var u=r.firstChild;u;)this._parseNode(u,n,i,null,!1,!1),u=u.nextSibling;bf(this._defs,this._defsUsePending),this._defsUsePending=[];var v,c;if(o){var f=yr(o);f.length>=4&&(v={x:parseFloat(f[0]||0),y:parseFloat(f[1]||0),width:parseFloat(f[2]),height:parseFloat(f[3])})}if(v&&s!=null&&l!=null&&(c=Is(v,{x:0,y:0,width:s,height:l}),!e.ignoreViewBox)){var h=n;n=new X,n.add(h),h.scaleX=h.scaleY=c.scale,h.x=c.x,h.y=c.y}return!e.ignoreRootClip&&s!=null&&l!=null&&n.setClipPath(new ne({shape:{x:0,y:0,width:s,height:l}})),{root:n,width:s,height:l,viewBoxRect:v,viewBoxTransform:c,named:i}},a.prototype._parseNode=function(t,e,r,n,i,o){var s=t.nodeName.toLowerCase(),l,u=n;if(s==="defs"&&(i=!0),s==="text"&&(o=!0),s==="defs"||s==="switch")l=e;else{if(!i){var v=Er[s];if(v&&et(Er,s)){l=v.call(this,t,e);var c=t.getAttribute("name");if(c){var f={name:c,namedFrom:null,svgNodeTagLower:s,el:l};r.push(f),s==="g"&&(u=f)}else n&&r.push({name:n.name,namedFrom:n,svgNodeTagLower:s,el:l});e.add(l)}}var h=ri[s];if(h&&et(ri,s)){var g=h.call(this,t),d=t.getAttribute("id");d&&(this._defs[d]=g)}}if(l&&l.isGroup)for(var p=t.firstChild;p;)p.nodeType===1?this._parseNode(p,l,r,u,i,o):p.nodeType===3&&o&&this._parseText(p,l),p=p.nextSibling},a.prototype._parseText=function(t,e){var r=new uv({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});fe(e,r),ve(t,r,this._defsUsePending,!1,!1),yf(r,e);var n=r.style,i=n.fontSize;i&&i<9&&(n.fontSize=9,r.scaleX*=i/9,r.scaleY*=i/9);var o=(n.fontSize||n.fontFamily)&&[n.fontStyle,n.fontWeight,(n.fontSize||12)+"px",n.fontFamily||"sans-serif"].join(" ");n.font=o;var s=r.getBoundingRect();return this._textX+=s.width,e.add(r),r},a.internalField=function(){Er={g:function(t,e){var r=new X;return fe(e,r),ve(t,r,this._defsUsePending,!1,!1),r},rect:function(t,e){var r=new ne;return fe(e,r),ve(t,r,this._defsUsePending,!1,!1),r.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),r.silent=!0,r},circle:function(t,e){var r=new xa;return fe(e,r),ve(t,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),r.silent=!0,r},line:function(t,e){var r=new We;return fe(e,r),ve(t,r,this._defsUsePending,!1,!1),r.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),r.silent=!0,r},ellipse:function(t,e){var r=new po;return fe(e,r),ve(t,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),r.silent=!0,r},polygon:function(t,e){var r=t.getAttribute("points"),n;r&&(n=ii(r));var i=new Ft({shape:{points:n||[]},silent:!0});return fe(e,i),ve(t,i,this._defsUsePending,!1,!1),i},polyline:function(t,e){var r=t.getAttribute("points"),n;r&&(n=ii(r));var i=new Ht({shape:{points:n||[]},silent:!0});return fe(e,i),ve(t,i,this._defsUsePending,!1,!1),i},image:function(t,e){var r=new cr;return fe(e,r),ve(t,r,this._defsUsePending,!1,!1),r.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),r.silent=!0,r},text:function(t,e){var r=t.getAttribute("x")||"0",n=t.getAttribute("y")||"0",i=t.getAttribute("dx")||"0",o=t.getAttribute("dy")||"0";this._textX=parseFloat(r)+parseFloat(i),this._textY=parseFloat(n)+parseFloat(o);var s=new X;return fe(e,s),ve(t,s,this._defsUsePending,!1,!0),s},tspan:function(t,e){var r=t.getAttribute("x"),n=t.getAttribute("y");r!=null&&(this._textX=parseFloat(r)),n!=null&&(this._textY=parseFloat(n));var i=t.getAttribute("dx")||"0",o=t.getAttribute("dy")||"0",s=new X;return fe(e,s),ve(t,s,this._defsUsePending,!1,!0),this._textX+=parseFloat(i),this._textY+=parseFloat(o),s},path:function(t,e){var r=t.getAttribute("d")||"",n=vv(r);return fe(e,n),ve(t,n,this._defsUsePending,!1,!1),n.silent=!0,n}}}(),a}(),ri={lineargradient:function(a){var t=parseInt(a.getAttribute("x1")||"0",10),e=parseInt(a.getAttribute("y1")||"0",10),r=parseInt(a.getAttribute("x2")||"10",10),n=parseInt(a.getAttribute("y2")||"0",10),i=new wa(t,e,r,n);return ai(a,i),ni(a,i),i},radialgradient:function(a){var t=parseInt(a.getAttribute("cx")||"0",10),e=parseInt(a.getAttribute("cy")||"0",10),r=parseInt(a.getAttribute("r")||"0",10),n=new mo(t,e,r);return ai(a,n),ni(a,n),n}};function ai(a,t){var e=a.getAttribute("gradientUnits");e==="userSpaceOnUse"&&(t.global=!0)}function ni(a,t){for(var e=a.firstChild;e;){if(e.nodeType===1&&e.nodeName.toLocaleLowerCase()==="stop"){var r=e.getAttribute("offset"),n=void 0;r&&r.indexOf("%")>0?n=parseInt(r,10)/100:r?n=parseFloat(r):n=0;var i={};Ds(e,i,i);var o=i.stopColor||e.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:n,color:o})}e=e.nextSibling}}function fe(a,t){a&&a.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),Q(t.__inheritedStyle,a.__inheritedStyle))}function ii(a){for(var t=yr(a),e=[],r=0;r<t.length;r+=2){var n=parseFloat(t[r]),i=parseFloat(t[r+1]);e.push([n,i])}return e}function ve(a,t,e,r,n){var i=t,o=i.__inheritedStyle=i.__inheritedStyle||{},s={};a.nodeType===1&&(wf(a,t),Ds(a,o,s),r||Af(a,o,s)),i.style=i.style||{},o.fill!=null&&(i.style.fill=oi(i,"fill",o.fill,e)),o.stroke!=null&&(i.style.stroke=oi(i,"stroke",o.stroke,e)),D(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){o[l]!=null&&(i.style[l]=parseFloat(o[l]))}),D(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){o[l]!=null&&(i.style[l]=o[l])}),n&&(i.__selfStyle=s),o.lineDash&&(i.style.lineDash=H(yr(o.lineDash),function(l){return parseFloat(l)})),(o.visibility==="hidden"||o.visibility==="collapse")&&(i.invisible=!0),o.display==="none"&&(i.ignore=!0)}function yf(a,t){var e=t.__selfStyle;if(e){var r=e.textBaseline,n=r;!r||r==="auto"||r==="baseline"?n="alphabetic":r==="before-edge"||r==="text-before-edge"?n="top":r==="after-edge"||r==="text-after-edge"?n="bottom":(r==="central"||r==="mathematical")&&(n="middle"),a.style.textBaseline=n}var i=t.__inheritedStyle;if(i){var o=i.textAlign,s=o;o&&(o==="middle"&&(s="center"),a.style.textAlign=s)}}var Sf=/^url\(\s*#(.*?)\)/;function oi(a,t,e,r){var n=e&&e.match(Sf);if(n){var i=Vo(n[1]);r.push([a,t,i]);return}return e==="none"&&(e=null),e}function bf(a,t){for(var e=0;e<t.length;e++){var r=t[e];r[0].style[r[1]]=a[r[2]]}}var _f=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function yr(a){return a.match(_f)||[]}var xf=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,Gr=Math.PI/180;function wf(a,t){var e=a.getAttribute("transform");if(e){e=e.replace(/,/g," ");var r=[],n=null;e.replace(xf,function(c,f,h){return r.push(f,h),""});for(var i=r.length-1;i>0;i-=2){var o=r[i],s=r[i-1],l=yr(o);switch(n=n||Pa(),s){case"translate":No(n,n,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":cv(n,n,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":Ia(n,n,-parseFloat(l[0])*Gr);break;case"skewX":var u=Math.tan(parseFloat(l[0])*Gr);Gt(n,[1,0,u,1,0,0],n);break;case"skewY":var v=Math.tan(parseFloat(l[0])*Gr);Gt(n,[1,v,0,1,0,0],n);break;case"matrix":n[0]=parseFloat(l[0]),n[1]=parseFloat(l[1]),n[2]=parseFloat(l[2]),n[3]=parseFloat(l[3]),n[4]=parseFloat(l[4]),n[5]=parseFloat(l[5]);break}}t.setLocalTransform(n)}}var si=/([^\s:;]+)\s*:\s*([^:;]+)/g;function Ds(a,t,e){var r=a.getAttribute("style");if(r){si.lastIndex=0;for(var n;(n=si.exec(r))!=null;){var i=n[1],o=et(nr,i)?nr[i]:null;o&&(t[o]=n[2]);var s=et(ir,i)?ir[i]:null;s&&(e[s]=n[2])}}}function Af(a,t,e){for(var r=0;r<ei.length;r++){var n=ei[r],i=a.getAttribute(n);i!=null&&(t[nr[n]]=i)}for(var r=0;r<ti.length;r++){var n=ti[r],i=a.getAttribute(n);i!=null&&(e[ir[n]]=i)}}function Is(a,t){var e=t.width/a.width,r=t.height/a.height,n=Math.min(e,r);return{scale:n,x:-(a.x+a.width/2)*n+(t.x+t.width/2),y:-(a.y+a.height/2)*n+(t.y+t.height/2)}}function Tf(a,t){var e=new mf;return e.parse(a,t)}var Mf=W(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),Cf=function(){function a(t,e){this.type="geoSVG",this._usedGraphicMap=W(),this._freedGraphics=[],this._mapName=t,this._parsedXML=Cs(e)}return a.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var e=If(t.named),r=e.regions,n=e.regionsMap;this._regions=r,this._regionsMap=n}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},a.prototype._buildGraphic=function(t){var e,r;try{e=t&&Tf(t,{ignoreViewBox:!0,ignoreRootClip:!0})||{},r=e.root,hv(r!=null)}catch(p){throw new Error(`Invalid svg format
`+p.message)}var n=new X;n.add(r),n.isGeoSVGGraphicRoot=!0;var i=e.width,o=e.height,s=e.viewBoxRect,l=this._boundingRect;if(!l){var u=void 0,v=void 0,c=void 0,f=void 0;if(i!=null?(u=0,c=i):s&&(u=s.x,c=s.width),o!=null?(v=0,f=o):s&&(v=s.y,f=s.height),u==null||v==null){var h=r.getBoundingRect();u==null&&(u=h.x,c=h.width),v==null&&(v=h.y,f=h.height)}l=this._boundingRect=new ce(u,v,c,f)}if(s){var g=Is(s,l);r.scaleX=r.scaleY=g.scale,r.x=g.x,r.y=g.y}n.setClipPath(new ne({shape:l.plain()}));var d=[];return D(e.named,function(p){Mf.get(p.svgNodeTagLower)!=null&&(d.push(p),Df(p.el))}),{root:n,boundingRect:l,named:d}},a.prototype.useGraphic=function(t){var e=this._usedGraphicMap,r=e.get(t);return r||(r=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),e.set(t,r),r)},a.prototype.freeGraphic=function(t){var e=this._usedGraphicMap,r=e.get(t);r&&(e.removeKey(t),this._freedGraphics.push(r))},a}();function Df(a){a.silent=!1,a.isGroup&&a.traverse(function(t){t.silent=!1})}function If(a){var t=[],e=W();return D(a,function(r){if(r.namedFrom==null){var n=new qv(r.name,r.el);t.push(n),e.set(r.name,n)}}),{regions:t,regionsMap:e}}var va=[126,25],li="南海诸岛",je=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var Ye=0;Ye<je.length;Ye++)for(var lt=0;lt<je[Ye].length;lt++)je[Ye][lt][0]/=10.5,je[Ye][lt][1]/=-10.5/.75,je[Ye][lt][0]+=va[0],je[Ye][lt][1]+=va[1];function Pf(a,t){if(a==="china"){for(var e=0;e<t.length;e++)if(t[e].name===li)return;t.push(new $o(li,H(je,function(r){return{type:"polygon",exterior:r}}),va))}}var Lf={南海诸岛:[32,80],广东:[0,-10],香港:[10,5],澳门:[-10,10],天津:[5,5]};function Rf(a,t){if(a==="china"){var e=Lf[t.name];if(e){var r=t.getCenter();r[0]+=e[0]/10.5,r[1]+=-e[1]/(10.5/.75),t.setCenter(r)}}}var kf=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function Of(a,t){a==="china"&&t.name==="台湾"&&t.geometries.push({type:"polygon",exterior:kf[0]})}var Ef="name",Gf=function(){function a(t,e,r){this.type="geoJSON",this._parsedMap=W(),this._mapName=t,this._specialAreas=r,this._geoJSON=Nf(e)}return a.prototype.load=function(t,e){e=e||Ef;var r=this._parsedMap.get(e);if(!r){var n=this._parseToRegions(e);r=this._parsedMap.set(e,{regions:n,boundingRect:Vf(n)})}var i=W(),o=[];return D(r.regions,function(s){var l=s.name;t&&et(t,l)&&(s=s.cloneShallow(l=t[l])),o.push(s),i.set(l,s)}),{regions:o,boundingRect:r.boundingRect||new ce(0,0,0,0),regionsMap:i}},a.prototype._parseToRegions=function(t){var e=this._mapName,r=this._geoJSON,n;try{n=r?aa(r,t):[]}catch(i){throw new Error(`Invalid geoJson format
`+i.message)}return Pf(e,n),D(n,function(i){var o=i.name;Rf(e,i),Of(e,i);var s=this._specialAreas&&this._specialAreas[o];s&&i.transformTo(s.left,s.top,s.width,s.height)},this),n},a.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},a}();function Vf(a){for(var t,e=0;e<a.length;e++){var r=a[e].getBoundingRect();t=t||r.clone(),t.union(r)}return t}function Nf(a){return J(a)?typeof JSON<"u"&&JSON.parse?JSON.parse(a):new Function("return ("+a+");")():a}var Ct=W();const Pe={registerMap:function(a,t,e){if(t.svg){var r=new Cf(a,t.svg);Ct.set(a,r)}else{var n=t.geoJson||t.geoJSON;n&&!t.features?e=t.specialAreas:n=t;var r=new Gf(a,n,e);Ct.set(a,r)}},getGeoResource:function(a){return Ct.get(a)},getMapForUser:function(a){var t=Ct.get(a);return t&&t.type==="geoJSON"&&t.getMapForUser()},load:function(a,t,e){var r=Ct.get(a);if(r)return r.load(t,e)}};var Fa=["rect","circle","line","ellipse","polygon","polyline","path"],zf=W(Fa),Bf=W(Fa.concat(["g"])),Ff=W(Fa.concat(["g"])),Ps=Le();function $t(a){var t=a.getItemStyle(),e=a.get("areaColor");return e!=null&&(t.fill=e),t}function ui(a){var t=a.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var Hf=function(){function a(t){var e=new X;this.uid=fv("ec_map_draw"),this._controller=new Ms(t.getZr()),this._controllerHost={target:e},this.group=e,e.add(this._regionsGroup=new X),e.add(this._svgGroup=new X)}return a.prototype.draw=function(t,e,r,n,i){var o=t.mainType==="geo",s=t.getData&&t.getData();o&&e.eachComponent({mainType:"series",subType:"map"},function(m){!s&&m.getHostGeoModel()===t&&(s=m.getData())});var l=t.coordinateSystem,u=this._regionsGroup,v=this.group,c=l.getTransformInfo(),f=c.raw,h=c.roam,g=!u.childAt(0)||i;g?(v.x=h.x,v.y=h.y,v.scaleX=h.scaleX,v.scaleY=h.scaleY,v.dirty()):se(v,h,t);var d=s&&s.getVisual("visualMeta")&&s.getVisual("visualMeta").length>0,p={api:r,geo:l,mapOrGeoModel:t,data:s,isVisualEncodedByVisualMap:d,isGeo:o,transformInfoRaw:f};l.resourceType==="geoJSON"?this._buildGeoJSON(p):l.resourceType==="geoSVG"&&this._buildSVG(p),this._updateController(t,e,r),this._updateMapSelectHandler(t,u,r,n)},a.prototype._buildGeoJSON=function(t){var e=this._regionsGroupByName=W(),r=W(),n=this._regionsGroup,i=t.transformInfoRaw,o=t.mapOrGeoModel,s=t.data,l=t.geo.projection,u=l&&l.stream;function v(h,g){return g&&(h=g(h)),h&&[h[0]*i.scaleX+i.x,h[1]*i.scaleY+i.y]}function c(h){for(var g=[],d=!u&&l&&l.project,p=0;p<h.length;++p){var m=v(h[p],d);m&&g.push(m)}return g}function f(h){return{shape:{points:c(h)}}}n.removeAll(),D(t.geo.regions,function(h){var g=h.name,d=e.get(g),p=r.get(g)||{},m=p.dataIdx,y=p.regionModel;d||(d=e.set(g,new X),n.add(d),m=s?s.indexOfName(g):null,y=t.isGeo?o.getRegionModel(g):s?s.getItemModel(m):null,r.set(g,{dataIdx:m,regionModel:y}));var S=[],b=[];D(h.geometries,function(w){if(w.type==="polygon"){var A=[w.exterior].concat(w.interiors||[]);u&&(A=di(A,u)),D(A,function(M){S.push(new Ft(f(M)))})}else{var T=w.points;u&&(T=di(T,u,!0)),D(T,function(M){b.push(new Ht(f(M)))})}});var x=v(h.getCenter(),l&&l.project);function _(w,A){if(w.length){var T=new go({culling:!0,segmentIgnoreThreshold:1,shape:{paths:w}});d.add(T),vi(t,T,m,y),ci(t,T,g,y,o,m,x),A&&(ui(T),D(T.states,ui))}}_(S),_(b,!0)}),e.each(function(h,g){var d=r.get(g),p=d.dataIdx,m=d.regionModel;hi(t,h,g,m,o,p),fi(t,h,g,m,o),gi(t,h,g,m,o)},this)},a.prototype._buildSVG=function(t){var e=t.geo.map,r=t.transformInfoRaw;this._svgGroup.x=r.x,this._svgGroup.y=r.y,this._svgGroup.scaleX=r.scaleX,this._svgGroup.scaleY=r.scaleY,this._svgResourceChanged(e)&&(this._freeSVG(),this._useSVG(e));var n=this._svgDispatcherMap=W(),i=!1;D(this._svgGraphicRecord.named,function(o){var s=o.name,l=t.mapOrGeoModel,u=t.data,v=o.svgNodeTagLower,c=o.el,f=u?u.indexOfName(s):null,h=l.getRegionModel(s);if(zf.get(v)!=null&&c instanceof ea&&vi(t,c,f,h),c instanceof ea&&(c.culling=!0),c.z2EmphasisLift=0,!o.namedFrom&&(Ff.get(v)!=null&&ci(t,c,s,h,l,f,null),hi(t,c,s,h,l,f),fi(t,c,s,h,l),Bf.get(v)!=null)){var g=gi(t,c,s,h,l);g==="self"&&(i=!0);var d=n.get(s)||n.set(s,[]);d.push(c)}},this),this._enableBlurEntireSVG(i,t)},a.prototype._enableBlurEntireSVG=function(t,e){if(t&&e.isGeo){var r=e.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),n=r.opacity;this._svgGraphicRecord.root.traverse(function(i){if(!i.isGroup){zo(i);var o=i.ensureState("blur").style||{};o.opacity==null&&n!=null&&(o.opacity=n),i.ensureState("emphasis")}})}},a.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},a.prototype.findHighDownDispatchers=function(t,e){if(t==null)return[];var r=e.coordinateSystem;if(r.resourceType==="geoJSON"){var n=this._regionsGroupByName;if(n){var i=n.get(t);return i?[i]:[]}}else if(r.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},a.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},a.prototype._useSVG=function(t){var e=Pe.getGeoResource(t);if(e&&e.type==="geoSVG"){var r=e.useGraphic(this.uid);this._svgGroup.add(r.root),this._svgGraphicRecord=r,this._svgMapName=t}},a.prototype._freeSVG=function(){var t=this._svgMapName;if(t!=null){var e=Pe.getGeoResource(t);e&&e.type==="geoSVG"&&e.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},a.prototype._updateController=function(t,e,r){var n=t.coordinateSystem,i=this._controller,o=this._controllerHost;o.zoomLimit=t.get("scaleLimit"),o.zoom=n.getZoom(),i.enable(t.get("roam")||!1);var s=t.mainType;function l(){var u={type:"geoRoam",componentType:s};return u[s+"Id"]=t.id,u}i.off("pan").on("pan",function(u){this._mouseDownFlag=!1,ff(o,u.dx,u.dy),r.dispatchAction(Y(l(),{dx:u.dx,dy:u.dy,animation:{duration:0}}))},this),i.off("zoom").on("zoom",function(u){this._mouseDownFlag=!1,gf(o,u.scale,u.originX,u.originY),r.dispatchAction(Y(l(),{zoom:u.scale,originX:u.originX,originY:u.originY,animation:{duration:0}}))},this),i.setPointerChecker(function(u,v,c){return n.containPoint([v,c])&&!pf(u,r,t)})},a.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var e=t.getTextContent();e&&(e.ignore=Ps(e).ignore)})},a.prototype._updateMapSelectHandler=function(t,e,r,n){var i=this;e.off("mousedown"),e.off("click"),t.get("selectedMode")&&(e.on("mousedown",function(){i._mouseDownFlag=!0}),e.on("click",function(o){i._mouseDownFlag&&(i._mouseDownFlag=!1)}))},a}();function vi(a,t,e,r){var n=r.getModel("itemStyle"),i=r.getModel(["emphasis","itemStyle"]),o=r.getModel(["blur","itemStyle"]),s=r.getModel(["select","itemStyle"]),l=$t(n),u=$t(i),v=$t(s),c=$t(o),f=a.data;if(f){var h=f.getItemVisual(e,"style"),g=f.getItemVisual(e,"decal");a.isVisualEncodedByVisualMap&&h.fill&&(l.fill=h.fill),g&&(l.decal=Bo(g,a.api))}t.setStyle(l),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=u,t.ensureState("select").style=v,t.ensureState("blur").style=c,zo(t)}function ci(a,t,e,r,n,i,o){var s=a.data,l=a.isGeo,u=s&&isNaN(s.get(s.mapDimension("value"),i)),v=s&&s.getItemLayout(i);if(l||u||v&&v.showLabel){var c=l?e:i,f=void 0;(!s||i>=0)&&(f=n);var h=o?{normal:{align:"center",verticalAlign:"middle"}}:null;at(t,rt(r),{labelFetcher:f,labelDataIndex:c,defaultText:e},h);var g=t.getTextContent();if(g&&(Ps(g).ignore=g.ignore,t.textConfig&&o)){var d=t.getBoundingRect().clone();t.textConfig.layoutRect=d,t.textConfig.position=[(o[0]-d.x)/d.width*100+"%",(o[1]-d.y)/d.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function hi(a,t,e,r,n,i){a.data?a.data.setItemGraphicEl(i,t):te(t).eventData={componentType:"geo",componentIndex:n.componentIndex,geoIndex:n.componentIndex,name:e,region:r&&r.option||{}}}function fi(a,t,e,r,n){a.data||Da({el:t,componentModel:n,itemName:e,itemTooltipOption:r.get("tooltip")})}function gi(a,t,e,r,n){t.highDownSilentOnTouch=!!n.get("selectedMode");var i=r.getModel("emphasis"),o=i.get("focus");return Ze(t,o,i.get("blurScope"),i.get("disabled")),a.isGeo&&gv(t,n,e),o}function di(a,t,e){var r=[],n;function i(){n=[]}function o(){n.length&&(r.push(n),n=[])}var s=t({polygonStart:i,polygonEnd:o,lineStart:i,lineEnd:o,point:function(l,u){isFinite(l)&&isFinite(u)&&n.push([l,u])},sphere:function(){}});return!e&&s.polygonStart(),D(a,function(l){s.lineStart();for(var u=0;u<l.length;u++)s.point(l[u][0],l[u][1]);s.lineEnd()}),!e&&s.polygonEnd(),r}const Ls=Hf;var Wf=function(a){G(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,n,i){if(!(i&&i.type==="mapToggleSelect"&&i.from===this.uid)){var o=this.group;if(o.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&i&&i.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),i&&i.type==="geoRoam"&&i.componentType==="series"&&i.seriesId===e.id){var s=this._mapDraw;s&&o.add(s.group)}else if(e.needsDrawMap){var s=this._mapDraw||new Ls(n);o.add(s.group),s.draw(e,r,n,this,i),this._mapDraw=s}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&r.getComponent("legend")&&this._renderSymbols(e,r,n)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,r,n){var i=e.originalData,o=this.group;i.each(i.mapDimension("value"),function(s,l){if(!isNaN(s)){var u=i.getItemLayout(l);if(!(!u||!u.point)){var v=u.point,c=u.offset,f=new xa({style:{fill:e.getData().getVisual("style").fill},shape:{cx:v[0]+c*9,cy:v[1],r:3},silent:!0,z2:8+(c?0:dv+1)});if(!c){var h=e.mainSeries.getData(),g=i.getName(l),d=h.indexOfName(g),p=i.getItemModel(l),m=p.getModel("label"),y=h.getItemGraphicEl(d);at(f,rt(p),{labelFetcher:{getFormattedLabel:function(S,b){return e.getFormattedLabel(d,b)}},defaultText:g}),f.disableLabelAnimation=!0,m.get("position")||f.setTextConfig({position:"bottom"}),y.onHoverStateChange=function(S){Jr(f,S)}}o.add(f)}}})},t.type="map",t}(De);const Zf=Wf;var Uf=function(a){G(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.needsDrawMap=!1,e.seriesGroup=[],e.getTooltipPosition=function(r){if(r!=null){var n=this.getData().getName(r),i=this.coordinateSystem,o=i.getRegion(n);return o&&i.dataToPoint(o.getCenter())}},e}return t.prototype.getInitialData=function(e){for(var r=Na(this,{coordDimensions:["value"],encodeDefaulter:ee(Ro,this)}),n=W(),i=[],o=0,s=r.count();o<s;o++){var l=r.getName(o);n.set(l,!0)}var u=Pe.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return D(u.regions,function(v){var c=v.name;n.get(c)||i.push(c)}),r.appendValues([],i),r},t.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return e!=null?this.ecModel.getComponent("geo",e):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var r=this.getData();return r.get(r.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var r=this.getData();return r.getItemModel(r.indexOfName(e))},t.prototype.formatTooltip=function(e,r,n){for(var i=this.getData(),o=this.getRawValue(e),s=i.getName(e),l=this.seriesGroup,u=[],v=0;v<l.length;v++){var c=l[v].originalData.indexOfName(s),f=i.mapDimension("value");isNaN(l[v].originalData.get(f,c))||u.push(l[v].name)}return er("section",{header:u.join(", "),noHeader:!u.length,blocks:[er("nameValue",{name:s,value:o})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var r=e.icon||"roundRect",n=Se(r,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return n.setStyle(e.itemStyle),n.style.stroke="none",r.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}($e);const Xf=Uf;function $f(a,t){var e={};return D(a,function(r){r.each(r.mapDimension("value"),function(n,i){var o="ec-"+r.getName(i);e[o]=e[o]||[],isNaN(n)||e[o].push(n)})}),a[0].map(a[0].mapDimension("value"),function(r,n){for(var i="ec-"+a[0].getName(n),o=0,s=1/0,l=-1/0,u=e[i].length,v=0;v<u;v++)s=Math.min(s,e[i][v]),l=Math.max(l,e[i][v]),o+=e[i][v];var c;return t==="min"?c=s:t==="max"?c=l:t==="average"?c=o/u:c=o,u===0?NaN:c})}function Yf(a){var t={};a.eachSeriesByType("map",function(e){var r=e.getHostGeoModel(),n=r?"o"+r.id:"i"+e.getMapType();(t[n]=t[n]||[]).push(e)}),D(t,function(e,r){for(var n=$f(H(e,function(o){return o.getData()}),e[0].get("mapValueCalculation")),i=0;i<e.length;i++)e[i].originalData=e[i].getData();for(var i=0;i<e.length;i++)e[i].seriesGroup=e,e[i].needsDrawMap=i===0&&!e[i].getHostGeoModel(),e[i].setData(n.cloneShallow()),e[i].mainSeries=e[0]})}function jf(a){var t={};a.eachSeriesByType("map",function(e){var r=e.getMapType();if(!(e.getHostGeoModel()||t[r])){var n={};D(e.seriesGroup,function(o){var s=o.coordinateSystem,l=o.originalData;o.get("showLegendSymbol")&&a.getComponent("legend")&&l.each(l.mapDimension("value"),function(u,v){var c=l.getName(v),f=s.getRegion(c);if(!(!f||isNaN(u))){var h=n[c]||0,g=s.dataToPoint(f.getCenter());n[c]=h+1,l.setItemLayout(v,{point:g,offset:h})}})});var i=e.getData();i.each(function(o){var s=i.getName(o),l=i.getItemLayout(o)||{};l.showLabel=!n[s],i.setItemLayout(o,l)}),t[r]=!0}})}var pi=ye,Jf=function(a){G(t,a);function t(e){var r=a.call(this)||this;return r.type="view",r.dimensions=["x","y"],r._roamTransformable=new Rt,r._rawTransformable=new Rt,r.name=e,r}return t.prototype.setBoundingRect=function(e,r,n,i){return this._rect=new ce(e,r,n,i),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(e,r,n,i){this._transformTo(e,r,n,i),this._viewRect=new ce(e,r,n,i)},t.prototype._transformTo=function(e,r,n,i){var o=this.getBoundingRect(),s=this._rawTransformable;s.transform=o.calculateTransform(new ce(e,r,n,i));var l=s.parent;s.parent=null,s.decomposeTransform(),s.parent=l,this._updateTransform()},t.prototype.setCenter=function(e,r){e&&(this._center=[B(e[0],r.getWidth()),B(e[1],r.getHeight())],this._updateCenterAndZoom())},t.prototype.setZoom=function(e){e=e||1;var r=this.zoomLimit;r&&(r.max!=null&&(e=Math.min(r.max,e)),r.min!=null&&(e=Math.max(r.min,e))),this._zoom=e,this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var e=this.getBoundingRect(),r=e.x+e.width/2,n=e.y+e.height/2;return[r,n]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var e=this._rawTransformable.getLocalTransform(),r=this._roamTransformable,n=this.getDefaultCenter(),i=this.getCenter(),o=this.getZoom();i=ye([],i,e),n=ye([],n,e),r.originX=i[0],r.originY=i[1],r.x=n[0]-i[0],r.y=n[1]-i[1],r.scaleX=r.scaleY=o,this._updateTransform()},t.prototype._updateTransform=function(){var e=this._roamTransformable,r=this._rawTransformable;r.parent=e,e.updateTransform(),r.updateTransform(),pv(this.transform||(this.transform=[]),r.transform||Pa()),this._rawTransform=r.getLocalTransform(),this.invTransform=this.invTransform||[],Sa(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var e=this._rawTransformable,r=this._roamTransformable,n=new Rt;return n.transform=r.transform,n.decomposeTransform(),{roam:{x:n.x,y:n.y,scaleX:n.scaleX,scaleY:n.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},t.prototype.dataToPoint=function(e,r,n){var i=r?this._rawTransform:this.transform;return n=n||[],i?pi(n,e,i):mv(n,e)},t.prototype.pointToData=function(e){var r=this.invTransform;return r?pi([],e,r):[e[0],e[1]]},t.prototype.convertToPixel=function(e,r,n){var i=mi(r);return i===this?i.dataToPoint(n):null},t.prototype.convertFromPixel=function(e,r,n){var i=mi(r);return i===this?i.pointToData(n):null},t.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},t.dimensions=["x","y"],t}(Rt);function mi(a){var t=a.seriesModel;return t?t.coordinateSystem:null}const Rs=Jf;var qf={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},ks=["lng","lat"],Os=function(a){G(t,a);function t(e,r,n){var i=a.call(this,e)||this;i.dimensions=ks,i.type="geo",i._nameCoordMap=W(),i.map=r;var o=n.projection,s=Pe.load(r,n.nameMap,n.nameProperty),l=Pe.getGeoResource(r);i.resourceType=l?l.type:null;var u=i.regions=s.regions,v=qf[l.type];i._regionsMap=s.regionsMap,i.regions=s.regions,i.projection=o;var c;if(o)for(var f=0;f<u.length;f++){var h=u[f].getBoundingRect(o);c=c||h.clone(),c.union(h)}else c=s.boundingRect;return i.setBoundingRect(c.x,c.y,c.width,c.height),i.aspectScale=o?1:La(n.aspectScale,v.aspectScale),i._invertLongitute=o?!1:v.invertLongitute,i}return t.prototype._transformTo=function(e,r,n,i){var o=this.getBoundingRect(),s=this._invertLongitute;o=o.clone(),s&&(o.y=-o.y-o.height);var l=this._rawTransformable;l.transform=o.calculateTransform(new ce(e,r,n,i));var u=l.parent;l.parent=null,l.decomposeTransform(),l.parent=u,s&&(l.scaleY=-l.scaleY),this._updateTransform()},t.prototype.getRegion=function(e){return this._regionsMap.get(e)},t.prototype.getRegionByCoord=function(e){for(var r=this.regions,n=0;n<r.length;n++){var i=r[n];if(i.type==="geoJSON"&&i.contain(e))return r[n]}},t.prototype.addGeoCoord=function(e,r){this._nameCoordMap.set(e,r)},t.prototype.getGeoCoord=function(e){var r=this._regionsMap.get(e);return this._nameCoordMap.get(e)||r&&r.getCenter()},t.prototype.dataToPoint=function(e,r,n){if(J(e)&&(e=this.getGeoCoord(e)),e){var i=this.projection;return i&&(e=i.project(e)),e&&this.projectedToPoint(e,r,n)}},t.prototype.pointToData=function(e){var r=this.projection;return r&&(e=r.unproject(e)),e&&this.pointToProjected(e)},t.prototype.pointToProjected=function(e){return a.prototype.pointToData.call(this,e)},t.prototype.projectedToPoint=function(e,r,n){return a.prototype.dataToPoint.call(this,e,r,n)},t.prototype.convertToPixel=function(e,r,n){var i=yi(r);return i===this?i.dataToPoint(n):null},t.prototype.convertFromPixel=function(e,r,n){var i=yi(r);return i===this?i.pointToData(n):null},t}(Rs);Eo(Os,Rs);function yi(a){var t=a.geoModel,e=a.seriesModel;return t?t.coordinateSystem:e?e.coordinateSystem||(e.getReferringComponents("geo",Xe).models[0]||{}).coordinateSystem:null}const Si=Os;function bi(a,t){var e=a.get("boundingCoords");if(e!=null){var r=e[0],n=e[1];if(isFinite(r[0])&&isFinite(r[1])&&isFinite(n[0])&&isFinite(n[1])){var i=this.projection;if(i){var o=r[0],s=r[1],l=n[0],u=n[1];r=[1/0,1/0],n=[-1/0,-1/0];var v=function(_,w,A,T){for(var M=A-_,C=T-w,I=0;I<=100;I++){var P=I/100,L=i.project([_+M*P,w+C*P]);vo(r,r,L),co(n,n,L)}};v(o,s,l,s),v(l,s,l,u),v(l,u,o,u),v(o,u,l,s)}this.setBoundingRect(r[0],r[1],n[0]-r[0],n[1]-r[1])}}var c=this.getBoundingRect(),f=a.get("layoutCenter"),h=a.get("layoutSize"),g=t.getWidth(),d=t.getHeight(),p=c.width/c.height*this.aspectScale,m=!1,y,S;f&&h&&(y=[B(f[0],g),B(f[1],d)],S=B(h,Math.min(g,d)),!isNaN(y[0])&&!isNaN(y[1])&&!isNaN(S)&&(m=!0));var b;if(m)b={},p>1?(b.width=S,b.height=S/p):(b.height=S,b.width=S*p),b.y=y[1]-b.height/2,b.x=y[0]-b.width/2;else{var x=a.getBoxLayoutParams();x.aspect=p,b=Ue(x,{width:g,height:d})}this.setViewRect(b.x,b.y,b.width,b.height),this.setCenter(a.get("center"),t),this.setZoom(a.get("zoom"))}function Kf(a,t){D(t.get("geoCoord"),function(e,r){a.addGeoCoord(r,e)})}var Qf=function(){function a(){this.dimensions=ks}return a.prototype.create=function(t,e){var r=[];function n(o){return{nameProperty:o.get("nameProperty"),aspectScale:o.get("aspectScale"),projection:o.get("projection")}}t.eachComponent("geo",function(o,s){var l=o.get("map"),u=new Si(l+s,l,Y({nameMap:o.get("nameMap")},n(o)));u.zoomLimit=o.get("scaleLimit"),r.push(u),o.coordinateSystem=u,u.model=o,u.resize=bi,u.resize(o,e)}),t.eachSeries(function(o){var s=o.get("coordinateSystem");if(s==="geo"){var l=o.get("geoIndex")||0;o.coordinateSystem=r[l]}});var i={};return t.eachSeriesByType("map",function(o){if(!o.getHostGeoModel()){var s=o.getMapType();i[s]=i[s]||[],i[s].push(o)}}),D(i,function(o,s){var l=H(o,function(v){return v.get("nameMap")}),u=new Si(s,s,Y({nameMap:yv(l)},n(o[0])));u.zoomLimit=_t.apply(null,H(o,function(v){return v.get("scaleLimit")})),r.push(u),u.resize=bi,u.resize(o[0],e),D(o,function(v){v.coordinateSystem=u,Kf(u,v)})}),r},a.prototype.getFilledRegions=function(t,e,r,n){for(var i=(t||[]).slice(),o=W(),s=0;s<i.length;s++)o.set(i[s].name,i[s]);var l=Pe.load(e,r,n);return D(l.regions,function(u){var v=u.name;!o.get(v)&&i.push({name:v})}),i},a}(),eg=new Qf;const Es=eg;var tg=function(a){G(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,r,n){var i=Pe.getGeoResource(e.map);if(i&&i.type==="geoJSON"){var o=e.itemStyle=e.itemStyle||{};"color"in o||(o.color="#eee")}this.mergeDefaultAndTheme(e,n),ko(e,"label",["show"])},t.prototype.optionUpdated=function(){var e=this,r=this.option;r.regions=Es.getFilledRegions(r.regions,r.map,r.nameMap,r.nameProperty);var n={};this._optionModelMap=bo(r.regions||[],function(i,o){var s=o.name;return s&&(i.set(s,new xe(o,e,e.ecModel)),o.selected&&(n[s]=!0)),i},W()),r.selectedMap||(r.selectedMap=n)},t.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new xe(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(e,r){var n=this.getRegionModel(e),i=r==="normal"?n.get(["label","formatter"]):n.get(["emphasis","label","formatter"]),o={name:e};if(oe(i))return o.status=r,i(o);if(J(i))return i.replace("{a}",e??"")},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.select=function(e){var r=this.option,n=r.selectedMode;if(n){n!=="multiple"&&(r.selectedMap=null);var i=r.selectedMap||(r.selectedMap={});i[e]=!0}},t.prototype.unSelect=function(e){var r=this.option.selectedMap;r&&(r[e]=!1)},t.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},t.prototype.isSelected=function(e){var r=this.option.selectedMap;return!!(r&&r[e])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},t}(Re);const rg=tg;function _i(a,t){return a.pointToProjected?a.pointToProjected(t):a.pointToData(t)}function ag(a,t,e,r){var n=a.getZoom(),i=a.getCenter(),o=t.zoom,s=a.projectedToPoint?a.projectedToPoint(i):a.dataToPoint(i);if(t.dx!=null&&t.dy!=null&&(s[0]-=t.dx,s[1]-=t.dy,a.setCenter(_i(a,s),r)),o!=null){if(e){var l=e.min||0,u=e.max||1/0;o=Math.max(Math.min(n*o,u),l)/n}a.scaleX*=o,a.scaleY*=o;var v=(t.originX-a.x)*(o-1),c=(t.originY-a.y)*(o-1);a.x-=v,a.y-=c,a.updateTransform(),a.setCenter(_i(a,s),r),a.setZoom(o*n)}return{center:a.getCenter(),zoom:a.getZoom()}}var ng=function(a){G(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.focusBlurEnabled=!0,e}return t.prototype.init=function(e,r){this._api=r},t.prototype.render=function(e,r,n,i){if(this._model=e,!e.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new Ls(n));var o=this._mapDraw;o.draw(e,r,n,this,i),o.group.on("click",this._handleRegionClick,this),o.group.silent=e.get("silent"),this.group.add(o.group),this.updateSelectStatus(e,r,n)},t.prototype._handleRegionClick=function(e){var r;Fo(e.target,function(n){return(r=te(n).eventData)!=null},!0),r&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:r.name})},t.prototype.updateSelectStatus=function(e,r,n){var i=this;this._mapDraw.group.traverse(function(o){var s=te(o).eventData;if(s)return i._model.isSelected(s.name)?n.enterSelect(o):n.leaveSelect(o),!0})},t.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(ke);const ig=ng;function og(a,t,e){Pe.registerMap(a,t,e)}function sg(a){a.registerCoordinateSystem("geo",Es),a.registerComponentModel(rg),a.registerComponentView(ig),a.registerImpl("registerMap",og),a.registerImpl("getMap",function(e){return Pe.getMapForUser(e)});function t(e,r){r.update="geo:updateSelectStatus",a.registerAction(r,function(n,i){var o={},s=[];return i.eachComponent({mainType:"geo",query:n},function(l){l[e](n.name);var u=l.coordinateSystem;D(u.regions,function(c){o[c.name]=l.isSelected(c.name)||!1});var v=[];D(o,function(c,f){o[f]&&v.push(f)}),s.push({geoIndex:l.componentIndex,name:v})}),{selected:o,allSelected:s,name:n.name}})}t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),a.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(e,r,n){var i=e.componentType||"series";r.eachComponent({mainType:i,query:e},function(o){var s=o.coordinateSystem;if(s.type==="geo"){var l=ag(s,e,o.get("scaleLimit"),n);o.setCenter&&o.setCenter(l.center),o.setZoom&&o.setZoom(l.zoom),i==="series"&&D(o.seriesGroup,function(u){u.setCenter(l.center),u.setZoom(l.zoom)})}})})}function lg(a){ge(sg),a.registerChartView(Zf),a.registerSeriesModel(Xf),a.registerLayout(jf),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,Yf),Oo("map",a.registerAction)}var ug=function(){function a(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return a}(),vg=function(a){G(t,a);function t(e){var r=a.call(this,e)||this;return r.type="pointer",r}return t.prototype.getDefaultShape=function(){return new ug},t.prototype.buildPath=function(e,r){var n=Math.cos,i=Math.sin,o=r.r,s=r.width,l=r.angle,u=r.x-n(l)*s*(s>=o/3?1:2),v=r.y-i(l)*s*(s>=o/3?1:2);l=r.angle-Math.PI/2,e.moveTo(u,v),e.lineTo(r.x+n(l)*s,r.y+i(l)*s),e.lineTo(r.x+n(r.angle)*o,r.y+i(r.angle)*o),e.lineTo(r.x-n(l)*s,r.y-i(l)*s),e.lineTo(u,v)},t}(be);const cg=vg;function hg(a,t){var e=a.get("center"),r=t.getWidth(),n=t.getHeight(),i=Math.min(r,n),o=B(e[0],t.getWidth()),s=B(e[1],t.getHeight()),l=B(a.get("radius"),i/2);return{cx:o,cy:s,r:l}}function Yt(a,t){var e=a==null?"":a+"";return t&&(J(t)?e=t.replace("{value}",e):oe(t)&&(e=t(a))),e}var fg=function(a){G(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,n){this.group.removeAll();var i=e.get(["axisLine","lineStyle","color"]),o=hg(e,n);this._renderMain(e,r,n,i,o),this._data=e.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(e,r,n,i,o){var s=this.group,l=e.get("clockwise"),u=-e.get("startAngle")/180*Math.PI,v=-e.get("endAngle")/180*Math.PI,c=e.getModel("axisLine"),f=c.get("roundCap"),h=f?ar:Ae,g=c.get("show"),d=c.getModel("lineStyle"),p=d.get("width"),m=[u,v];Sv(m,!l),u=m[0],v=m[1];for(var y=v-u,S=u,b=[],x=0;g&&x<i.length;x++){var _=Math.min(Math.max(i[x][0],0),1);v=u+y*_;var w=new h({shape:{startAngle:S,endAngle:v,cx:o.cx,cy:o.cy,clockwise:l,r0:o.r-p,r:o.r},silent:!0});w.setStyle({fill:i[x][1]}),w.setStyle(d.getLineStyle(["color","width"])),b.push(w),S=v}b.reverse(),D(b,function(T){return s.add(T)});var A=function(T){if(T<=0)return i[0][1];var M;for(M=0;M<i.length;M++)if(i[M][0]>=T&&(M===0?0:i[M-1][0])<T)return i[M][1];return i[M-1][1]};this._renderTicks(e,r,n,A,o,u,v,l,p),this._renderTitleAndDetail(e,r,n,A,o),this._renderAnchor(e,o),this._renderPointer(e,r,n,A,o,u,v,l,p)},t.prototype._renderTicks=function(e,r,n,i,o,s,l,u,v){for(var c=this.group,f=o.cx,h=o.cy,g=o.r,d=+e.get("min"),p=+e.get("max"),m=e.getModel("splitLine"),y=e.getModel("axisTick"),S=e.getModel("axisLabel"),b=e.get("splitNumber"),x=y.get("splitNumber"),_=B(m.get("length"),g),w=B(y.get("length"),g),A=s,T=(l-s)/b,M=T/x,C=m.getModel("lineStyle").getLineStyle(),I=y.getModel("lineStyle").getLineStyle(),P=m.get("distance"),L,R,k=0;k<=b;k++){if(L=Math.cos(A),R=Math.sin(A),m.get("show")){var E=P?P+v:v,O=new We({shape:{x1:L*(g-E)+f,y1:R*(g-E)+h,x2:L*(g-_-E)+f,y2:R*(g-_-E)+h},style:C,silent:!0});C.stroke==="auto"&&O.setStyle({stroke:i(k/b)}),c.add(O)}if(S.get("show")){var E=S.get("distance")+P,V=Yt(de(k/b*(p-d)+d),S.get("formatter")),N=i(k/b),z=L*(g-_-E)+f,$=R*(g-_-E)+h,U=S.get("rotate"),Z=0;U==="radial"?(Z=-A+2*Math.PI,Z>Math.PI/2&&(Z+=Math.PI)):U==="tangential"?Z=-A-Math.PI/2:Oe(U)&&(Z=U*Math.PI/180),Z===0?c.add(new ie({style:me(S,{text:V,x:z,y:$,verticalAlign:R<-.8?"top":R>.8?"bottom":"middle",align:L<-.4?"left":L>.4?"right":"center"},{inheritColor:N}),silent:!0})):c.add(new ie({style:me(S,{text:V,x:z,y:$,verticalAlign:"middle",align:"center"},{inheritColor:N}),silent:!0,originX:z,originY:$,rotation:Z}))}if(y.get("show")&&k!==b){var E=y.get("distance");E=E?E+v:v;for(var ae=0;ae<=x;ae++){L=Math.cos(A),R=Math.sin(A);var K=new We({shape:{x1:L*(g-E)+f,y1:R*(g-E)+h,x2:L*(g-w-E)+f,y2:R*(g-w-E)+h},silent:!0,style:I});I.stroke==="auto"&&K.setStyle({stroke:i((k+ae/x)/b)}),c.add(K),A+=M}A-=M}else A+=T}},t.prototype._renderPointer=function(e,r,n,i,o,s,l,u,v){var c=this.group,f=this._data,h=this._progressEls,g=[],d=e.get(["pointer","show"]),p=e.getModel("progress"),m=p.get("show"),y=e.getData(),S=y.mapDimension("value"),b=+e.get("min"),x=+e.get("max"),_=[b,x],w=[s,l];function A(M,C){var I=y.getItemModel(M),P=I.getModel("pointer"),L=B(P.get("width"),o.r),R=B(P.get("length"),o.r),k=e.get(["pointer","icon"]),E=P.get("offsetCenter"),O=B(E[0],o.r),V=B(E[1],o.r),N=P.get("keepAspect"),z;return k?z=Se(k,O-L/2,V-R,L,R,null,N):z=new cg({shape:{angle:-Math.PI/2,width:L,r:R,x:O,y:V}}),z.rotation=-(C+Math.PI/2),z.x=o.cx,z.y=o.cy,z}function T(M,C){var I=p.get("roundCap"),P=I?ar:Ae,L=p.get("overlap"),R=L?p.get("width"):v/y.count(),k=L?o.r-R:o.r-(M+1)*R,E=L?o.r:o.r-M*R,O=new P({shape:{startAngle:s,endAngle:C,cx:o.cx,cy:o.cy,clockwise:u,r0:k,r:E}});return L&&(O.z2=x-y.get(S,M)%x),O}(m||d)&&(y.diff(f).add(function(M){var C=y.get(S,M);if(d){var I=A(M,s);le(I,{rotation:-((isNaN(+C)?w[0]:q(C,_,w,!0))+Math.PI/2)},e),c.add(I),y.setItemGraphicEl(M,I)}if(m){var P=T(M,s),L=p.get("clip");le(P,{shape:{endAngle:q(C,_,w,L)}},e),c.add(P),ln(e.seriesIndex,y.dataType,M,P),g[M]=P}}).update(function(M,C){var I=y.get(S,M);if(d){var P=f.getItemGraphicEl(C),L=P?P.rotation:s,R=A(M,L);R.rotation=L,se(R,{rotation:-((isNaN(+I)?w[0]:q(I,_,w,!0))+Math.PI/2)},e),c.add(R),y.setItemGraphicEl(M,R)}if(m){var k=h[C],E=k?k.shape.endAngle:s,O=T(M,E),V=p.get("clip");se(O,{shape:{endAngle:q(I,_,w,V)}},e),c.add(O),ln(e.seriesIndex,y.dataType,M,O),g[M]=O}}).execute(),y.each(function(M){var C=y.getItemModel(M),I=C.getModel("emphasis"),P=I.get("focus"),L=I.get("blurScope"),R=I.get("disabled");if(d){var k=y.getItemGraphicEl(M),E=y.getItemVisual(M,"style"),O=E.fill;if(k instanceof cr){var V=k.style;k.useStyle(Y({image:V.image,x:V.x,y:V.y,width:V.width,height:V.height},E))}else k.useStyle(E),k.type!=="pointer"&&k.setColor(O);k.setStyle(C.getModel(["pointer","itemStyle"]).getItemStyle()),k.style.fill==="auto"&&k.setStyle("fill",i(q(y.get(S,M),_,[0,1],!0))),k.z2EmphasisLift=0,bt(k,C),Ze(k,P,L,R)}if(m){var N=g[M];N.useStyle(y.getItemVisual(M,"style")),N.setStyle(C.getModel(["progress","itemStyle"]).getItemStyle()),N.z2EmphasisLift=0,bt(N,C),Ze(N,P,L,R)}}),this._progressEls=g)},t.prototype._renderAnchor=function(e,r){var n=e.getModel("anchor"),i=n.get("show");if(i){var o=n.get("size"),s=n.get("icon"),l=n.get("offsetCenter"),u=n.get("keepAspect"),v=Se(s,r.cx-o/2+B(l[0],r.r),r.cy-o/2+B(l[1],r.r),o,o,null,u);v.z2=n.get("showAbove")?1:0,v.setStyle(n.getModel("itemStyle").getItemStyle()),this.group.add(v)}},t.prototype._renderTitleAndDetail=function(e,r,n,i,o){var s=this,l=e.getData(),u=l.mapDimension("value"),v=+e.get("min"),c=+e.get("max"),f=new X,h=[],g=[],d=e.isAnimationEnabled(),p=e.get(["pointer","showAbove"]);l.diff(this._data).add(function(m){h[m]=new ie({silent:!0}),g[m]=new ie({silent:!0})}).update(function(m,y){h[m]=s._titleEls[y],g[m]=s._detailEls[y]}).execute(),l.each(function(m){var y=l.getItemModel(m),S=l.get(u,m),b=new X,x=i(q(S,[v,c],[0,1],!0)),_=y.getModel("title");if(_.get("show")){var w=_.get("offsetCenter"),A=o.cx+B(w[0],o.r),T=o.cy+B(w[1],o.r),M=h[m];M.attr({z2:p?0:2,style:me(_,{x:A,y:T,text:l.getName(m),align:"center",verticalAlign:"middle"},{inheritColor:x})}),b.add(M)}var C=y.getModel("detail");if(C.get("show")){var I=C.get("offsetCenter"),P=o.cx+B(I[0],o.r),L=o.cy+B(I[1],o.r),R=B(C.get("width"),o.r),k=B(C.get("height"),o.r),E=e.get(["progress","show"])?l.getItemVisual(m,"style").fill:x,M=g[m],O=C.get("formatter");M.attr({z2:p?0:2,style:me(C,{x:P,y:L,text:Yt(S,O),width:isNaN(R)?null:R,height:isNaN(k)?null:k,align:"center",verticalAlign:"middle"},{inheritColor:E})}),Lo(M,{normal:C},S,function(N){return Yt(N,O)}),d&&bv(M,m,l,e,{getFormattedLabel:function(N,z,$,U,Z,ae){return Yt(ae?ae.interpolatedValue:S,O)}}),b.add(M)}f.add(b)}),this.group.add(f),this._titleEls=h,this._detailEls=g},t.type="gauge",t}(De);const gg=fg;var dg=function(a){G(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="itemStyle",e}return t.prototype.getInitialData=function(e,r){return Na(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}($e);const pg=dg;function mg(a){a.registerChartView(gg),a.registerSeriesModel(pg)}function Sr(a,t,e,r,n,i){a=a||0;var o=e[1]-e[0];if(n!=null&&(n=ut(n,[0,o])),i!=null&&(i=Math.max(i,n??0)),r==="all"){var s=Math.abs(t[1]-t[0]);s=ut(s,[0,o]),n=i=ut(s,[n,i]),r=0}t[0]=ut(t[0],e),t[1]=ut(t[1],e);var l=Vr(t,r);t[r]+=a;var u=n||0,v=e.slice();l.sign<0?v[0]+=u:v[1]-=u,t[r]=ut(t[r],v);var c;return c=Vr(t,r),n!=null&&(c.sign!==l.sign||c.span<n)&&(t[1-r]=t[r]+l.sign*n),c=Vr(t,r),i!=null&&c.span>i&&(t[1-r]=t[r]+c.sign*i),t}function Vr(a,t){var e=a[t]-a[1-t];return{span:Math.abs(e),sign:e>0?-1:e<0?1:t?-1:1}}function ut(a,t){return Math.min(t[1]!=null?t[1]:1/0,Math.max(t[0]!=null?t[0]:-1/0,a))}var qe=Le(),xi=tt,Nr=F,yg=function(){function a(){this._dragging=!1,this.animationThreshold=15}return a.prototype.render=function(t,e,r,n){var i=e.get("value"),o=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=r,!(!n&&this._lastValue===i&&this._lastStatus===o)){this._lastValue=i,this._lastStatus=o;var s=this._group,l=this._handle;if(!o||o==="hide"){s&&s.hide(),l&&l.hide();return}s&&s.show(),l&&l.show();var u={};this.makeElOption(u,i,t,e,r);var v=u.graphicKey;v!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=v;var c=this._moveAnimation=this.determineAnimation(t,e);if(!s)s=this._group=new X,this.createPointerEl(s,u,t,e),this.createLabelEl(s,u,t,e),r.getZr().add(s);else{var f=ee(wi,e,c);this.updatePointerEl(s,u,f),this.updateLabelEl(s,u,f,e)}Ti(s,e,!0),this._renderHandle(i)}},a.prototype.remove=function(t){this.clear(t)},a.prototype.dispose=function(t){this.clear(t)},a.prototype.determineAnimation=function(t,e){var r=e.get("animation"),n=t.axis,i=n.type==="category",o=e.get("snap");if(!o&&!i)return!1;if(r==="auto"||r==null){var s=this.animationThreshold;if(i&&n.getBandWidth()>s)return!0;if(o){var l=Ba(t).seriesDataCount,u=n.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1}return r===!0},a.prototype.makeElOption=function(t,e,r,n,i){},a.prototype.createPointerEl=function(t,e,r,n){var i=e.pointer;if(i){var o=qe(t).pointerEl=new _v[i.type](xi(e.pointer));t.add(o)}},a.prototype.createLabelEl=function(t,e,r,n){if(e.label){var i=qe(t).labelEl=new ie(xi(e.label));t.add(i),Ai(i,n)}},a.prototype.updatePointerEl=function(t,e,r){var n=qe(t).pointerEl;n&&e.pointer&&(n.setStyle(e.pointer.style),r(n,{shape:e.pointer.shape}))},a.prototype.updateLabelEl=function(t,e,r,n){var i=qe(t).labelEl;i&&(i.setStyle(e.label.style),r(i,{x:e.label.x,y:e.label.y}),Ai(i,n))},a.prototype._renderHandle=function(t){if(!(this._dragging||!this.updateHandleTransform)){var e=this._axisPointerModel,r=this._api.getZr(),n=this._handle,i=e.getModel("handle"),o=e.get("status");if(!i.get("show")||!o||o==="hide"){n&&r.remove(n),this._handle=null;return}var s;this._handle||(s=!0,n=this._handle=Aa(i.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){Nt(u.event)},onmousedown:Nr(this._onHandleDragMove,this,0,0),drift:Nr(this._onHandleDragMove,this),ondragend:Nr(this._onHandleDragEnd,this)}),r.add(n)),Ti(n,e,!1),n.setStyle(i.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=i.get("size");j(l)||(l=[l,l]),n.scaleX=l[0]/2,n.scaleY=l[1]/2,mr(this,"_doDispatchAxisPointer",i.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,s)}},a.prototype._moveHandleToValue=function(t,e){wi(this._axisPointerModel,!e&&this._moveAnimation,this._handle,zr(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},a.prototype._onHandleDragMove=function(t,e){var r=this._handle;if(r){this._dragging=!0;var n=this.updateHandleTransform(zr(r),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=n,r.stopAnimation(),r.attr(zr(n)),qe(r).lastProp=null,this._doDispatchAxisPointer()}},a.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(t){var e=this._payloadInfo,r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})}},a.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(t){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},a.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),r=this._group,n=this._handle;e&&r&&(this._lastGraphicKey=null,r&&e.remove(r),n&&e.remove(n),this._group=null,this._handle=null,this._payloadInfo=null),tr(this,"_doDispatchAxisPointer")},a.prototype.doClear=function(){},a.prototype.buildLabel=function(t,e,r){return r=r||0,{x:t[r],y:t[1-r],width:e[r],height:e[1-r]}},a}();function wi(a,t,e,r){Gs(qe(e).lastProp,r)||(qe(e).lastProp=r,t?se(e,r,a):(e.stopAnimation(),e.attr(r)))}function Gs(a,t){if(Ie(a)&&Ie(t)){var e=!0;return D(t,function(r,n){e=e&&Gs(a[n],r)}),!!e}else return a===t}function Ai(a,t){a[t.get(["label","show"])?"show":"hide"]()}function zr(a){return{x:a.x||0,y:a.y||0,rotation:a.rotation||0}}function Ti(a,t,e){var r=t.get("z"),n=t.get("zlevel");a&&a.traverse(function(i){i.type!=="group"&&(r!=null&&(i.z=r),n!=null&&(i.zlevel=n),i.silent=e)})}const Sg=yg;function bg(a){var t=a.get("type"),e=a.getModel(t+"Style"),r;return t==="line"?(r=e.getLineStyle(),r.fill=null):t==="shadow"&&(r=e.getAreaStyle(),r.stroke=null),r}function _g(a,t,e,r,n){var i=e.get("value"),o=Vs(i,t.axis,t.ecModel,e.get("seriesDataIndices"),{precision:e.get(["label","precision"]),formatter:e.get(["label","formatter"])}),s=e.getModel("label"),l=hr(s.get("padding")||0),u=s.getFont(),v=xo(o,u),c=n.position,f=v.width+l[1]+l[3],h=v.height+l[0]+l[2],g=n.align;g==="right"&&(c[0]-=f),g==="center"&&(c[0]-=f/2);var d=n.verticalAlign;d==="bottom"&&(c[1]-=h),d==="middle"&&(c[1]-=h/2),xg(c,f,h,r);var p=s.get("backgroundColor");(!p||p==="auto")&&(p=t.get(["axisLine","lineStyle","color"])),a.label={x:c[0],y:c[1],style:me(s,{text:o,font:u,fill:s.getTextColor(),padding:l,backgroundColor:p}),z2:10}}function xg(a,t,e,r){var n=r.getWidth(),i=r.getHeight();a[0]=Math.min(a[0]+t,n)-t,a[1]=Math.min(a[1]+e,i)-e,a[0]=Math.max(a[0],0),a[1]=Math.max(a[1],0)}function Vs(a,t,e,r,n){a=t.scale.parse(a);var i=t.scale.getLabel({value:a},{precision:n.precision}),o=n.formatter;if(o){var s={value:Ho(t,{value:a}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};D(r,function(l){var u=e.getSeriesByIndex(l.seriesIndex),v=l.dataIndexInside,c=u&&u.getDataParams(v);c&&s.seriesData.push(c)}),J(o)?i=o.replace("{value}",i):oe(o)&&(i=o(s))}return i}function Ns(a,t,e){var r=Pa();return Ia(r,r,e.rotation),No(r,r,e.position),ta([a.dataToCoord(t),(e.labelOffset||0)+(e.labelDirection||1)*(e.labelMargin||0)],r)}function wg(a,t,e,r,n,i){var o=bs.innerTextLayout(e.rotation,0,e.labelDirection);e.labelMargin=n.get(["label","margin"]),_g(t,r,n,i,{position:Ns(r.axis,a,e),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function Ag(a,t,e){return e=e||0,{x1:a[e],y1:a[1-e],x2:t[e],y2:t[1-e]}}function Tg(a,t,e){return e=e||0,{x:a[e],y:a[1-e],width:t[e],height:t[1-e]}}var Mg=function(a){G(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.makeElOption=function(e,r,n,i,o){var s=n.axis,l=s.grid,u=i.get("type"),v=Mi(l,s).getOtherAxis(s).getGlobalExtent(),c=s.toGlobalCoord(s.dataToCoord(r,!0));if(u&&u!=="none"){var f=bg(i),h=Cg[u](s,c,v);h.style=f,e.graphicKey=h.type,e.pointer=h}var g=sa(l.model,n);wg(r,e,g,n,i,o)},t.prototype.getHandleTransform=function(e,r,n){var i=sa(r.axis.grid.model,r,{labelInside:!1});i.labelMargin=n.get(["handle","margin"]);var o=Ns(r.axis,e,i);return{x:o[0],y:o[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,r,n,i){var o=n.axis,s=o.grid,l=o.getGlobalExtent(!0),u=Mi(s,o).getOtherAxis(o).getGlobalExtent(),v=o.dim==="x"?0:1,c=[e.x,e.y];c[v]+=r[v],c[v]=Math.min(l[1],c[v]),c[v]=Math.max(l[0],c[v]);var f=(u[1]+u[0])/2,h=[f,f];h[v]=c[v];var g=[{verticalAlign:"middle"},{align:"center"}];return{x:c[0],y:c[1],rotation:e.rotation,cursorPoint:h,tooltipOption:g[v]}},t}(Sg);function Mi(a,t){var e={};return e[t.dim+"AxisIndex"]=t.index,a.getCartesian(e)}var Cg={line:function(a,t,e){var r=Ag([t,e[0]],[t,e[1]],Ci(a));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(a,t,e){var r=Math.max(1,a.getBandWidth()),n=e[1]-e[0];return{type:"Rect",shape:Tg([t-r/2,e[0]],[r,n],Ci(a))}}};function Ci(a){return a.dim==="x"?0:1}const Dg=Mg;var Ig=function(a){G(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(Re);const Pg=Ig;var Me=Le(),Lg=D;function zs(a,t,e){if(!ue.node){var r=t.getZr();Me(r).records||(Me(r).records={}),Rg(r,t);var n=Me(r).records[a]||(Me(r).records[a]={});n.handler=e}}function Rg(a,t){if(Me(a).initialized)return;Me(a).initialized=!0,e("click",ee(Di,"click")),e("mousemove",ee(Di,"mousemove")),e("globalout",Og);function e(r,n){a.on(r,function(i){var o=Eg(t);Lg(Me(a).records,function(s){s&&n(s,i,o.dispatchAction)}),kg(o.pendings,t)})}}function kg(a,t){var e=a.showTip.length,r=a.hideTip.length,n;e?n=a.showTip[e-1]:r&&(n=a.hideTip[r-1]),n&&(n.dispatchAction=null,t.dispatchAction(n))}function Og(a,t,e){a.handler("leave",null,e)}function Di(a,t,e,r){t.handler(a,e,r)}function Eg(a){var t={showTip:[],hideTip:[]},e=function(r){var n=t[r.type];n?n.push(r):(r.dispatchAction=e,a.dispatchAction(r))};return{dispatchAction:e,pendings:t}}function ca(a,t){if(!ue.node){var e=t.getZr(),r=(Me(e).records||{})[a];r&&(Me(e).records[a]=null)}}var Gg=function(a){G(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,n){var i=r.getComponent("tooltip"),o=e.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";zs("axisPointer",n,function(s,l,u){o!=="none"&&(s==="leave"||o.indexOf(s)>=0)&&u({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},t.prototype.remove=function(e,r){ca("axisPointer",r)},t.prototype.dispose=function(e,r){ca("axisPointer",r)},t.type="axisPointer",t}(ke);const Vg=Gg;function Bs(a,t){var e=[],r=a.seriesIndex,n;if(r==null||!(n=t.getSeriesByIndex(r)))return{point:[]};var i=n.getData(),o=jr(i,a);if(o==null||o<0||j(o))return{point:[]};var s=i.getItemGraphicEl(o),l=n.coordinateSystem;if(n.getTooltipPosition)e=n.getTooltipPosition(o)||[];else if(l&&l.dataToPoint)if(a.isStacked){var u=l.getBaseAxis(),v=l.getOtherAxis(u),c=v.dim,f=u.dim,h=c==="x"||c==="radius"?1:0,g=i.mapDimension(f),d=[];d[h]=i.get(g,o),d[1-h]=i.get(i.getCalculationInfo("stackResultDimension"),o),e=l.dataToPoint(d)||[]}else e=l.dataToPoint(i.getValues(H(l.dimensions,function(m){return i.mapDimension(m)}),o))||[];else if(s){var p=s.getBoundingRect().clone();p.applyTransform(s.transform),e=[p.x+p.width/2,p.y+p.height/2]}return{point:e,el:s}}var Ii=Le();function Ng(a,t,e){var r=a.currTrigger,n=[a.x,a.y],i=a,o=a.dispatchAction||F(e.dispatchAction,e),s=t.getComponent("axisPointer").coordSysAxesInfo;if(s){qt(n)&&(n=Bs({seriesIndex:i.seriesIndex,dataIndex:i.dataIndex},t).point);var l=qt(n),u=i.axesInfo,v=s.axesInfo,c=r==="leave"||qt(n),f={},h={},g={list:[],map:{}},d={showPointer:ee(Bg,h),showTooltip:ee(Fg,g)};D(s.coordSysMap,function(m,y){var S=l||m.containPoint(n);D(s.coordSysAxesInfo[y],function(b,x){var _=b.axis,w=Ug(u,b);if(!c&&S&&(!u||w)){var A=w&&w.value;A==null&&!l&&(A=_.pointToData(n)),A!=null&&Pi(b,A,d,!1,f)}})});var p={};return D(v,function(m,y){var S=m.linkGroup;S&&!h[y]&&D(S.axesInfo,function(b,x){var _=h[x];if(b!==m&&_){var w=_.value;S.mapper&&(w=m.axis.scale.parse(S.mapper(w,Li(b),Li(m)))),p[m.key]=w}})}),D(p,function(m,y){Pi(v[y],m,d,!0,f)}),Hg(h,v,f),Wg(g,n,a,o),Zg(v,o,e),f}}function Pi(a,t,e,r,n){var i=a.axis;if(!(i.scale.isBlank()||!i.containData(t))){if(!a.involveSeries){e.showPointer(a,t);return}var o=zg(t,a),s=o.payloadBatch,l=o.snapToValue;s[0]&&n.seriesIndex==null&&Y(n,s[0]),!r&&a.snap&&i.containData(l)&&l!=null&&(t=l),e.showPointer(a,t,s),e.showTooltip(a,o,l)}}function zg(a,t){var e=t.axis,r=e.dim,n=a,i=[],o=Number.MAX_VALUE,s=-1;return D(t.seriesModels,function(l,u){var v=l.getData().mapDimensionsAll(r),c,f;if(l.getAxisTooltipData){var h=l.getAxisTooltipData(v,a,e);f=h.dataIndices,c=h.nestestValue}else{if(f=l.getData().indicesOfNearest(v[0],a,e.type==="category"?.5:null),!f.length)return;c=l.getData().get(v[0],f[0])}if(!(c==null||!isFinite(c))){var g=a-c,d=Math.abs(g);d<=o&&((d<o||g>=0&&s<0)&&(o=d,s=g,n=c,i.length=0),D(f,function(p){i.push({seriesIndex:l.seriesIndex,dataIndexInside:p,dataIndex:l.getData().getRawIndex(p)})}))}}),{payloadBatch:i,snapToValue:n}}function Bg(a,t,e,r){a[t.key]={value:e,payloadBatch:r}}function Fg(a,t,e,r){var n=e.payloadBatch,i=t.axis,o=i.model,s=t.axisPointerModel;if(!(!t.triggerTooltip||!n.length)){var l=t.coordSys.model,u=Bt(l),v=a.map[u];v||(v=a.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},a.list.push(v)),v.dataByAxis.push({axisDim:i.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:r,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:n.slice()})}}function Hg(a,t,e){var r=e.axesInfo=[];D(t,function(n,i){var o=n.axisPointerModel.option,s=a[i];s?(!n.useHandle&&(o.status="show"),o.value=s.value,o.seriesDataIndices=(s.payloadBatch||[]).slice()):!n.useHandle&&(o.status="hide"),o.status==="show"&&r.push({axisDim:n.axis.dim,axisIndex:n.axis.model.componentIndex,value:o.value})})}function Wg(a,t,e,r){if(qt(t)||!a.list.length){r({type:"hideTip"});return}var n=((a.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:e.tooltipOption,position:e.position,dataIndexInside:n.dataIndexInside,dataIndex:n.dataIndex,seriesIndex:n.seriesIndex,dataByCoordSys:a.list})}function Zg(a,t,e){var r=e.getZr(),n="axisPointerLastHighlights",i=Ii(r)[n]||{},o=Ii(r)[n]={};D(a,function(u,v){var c=u.axisPointerModel.option;c.status==="show"&&D(c.seriesDataIndices,function(f){var h=f.seriesIndex+" | "+f.dataIndex;o[h]=f})});var s=[],l=[];D(i,function(u,v){!o[v]&&l.push(u)}),D(o,function(u,v){!i[v]&&s.push(u)}),l.length&&e.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&e.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function Ug(a,t){for(var e=0;e<(a||[]).length;e++){var r=a[e];if(t.axis.dim===r.axisDim&&t.axis.model.componentIndex===r.axisIndex)return r}}function Li(a){var t=a.axis.model,e={},r=e.axisDim=a.axis.dim;return e.axisIndex=e[r+"AxisIndex"]=t.componentIndex,e.axisName=e[r+"AxisName"]=t.name,e.axisId=e[r+"AxisId"]=t.id,e}function qt(a){return!a||a[0]==null||isNaN(a[0])||a[1]==null||isNaN(a[1])}function Fs(a){_s.registerAxisPointerClass("CartesianAxisPointer",Dg),a.registerComponentModel(Pg),a.registerComponentView(Vg),a.registerPreprocessor(function(t){if(t){(!t.axisPointer||t.axisPointer.length===0)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!j(e)&&(t.axisPointer.link=[e])}}),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=Yh(t,e)}),a.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},Ng)}function Xg(a){ge(As),ge(Fs)}var Ri=["x","y","radius","angle","single"],$g=["cartesian2d","polar","singleAxis"];function Yg(a){var t=a.get("coordinateSystem");return Ce($g,t)>=0}function He(a){return a+"Axis"}function jg(a,t){var e=W(),r=[],n=W();a.eachComponent({mainType:"dataZoom",query:t},function(v){n.get(v.uid)||s(v)});var i;do i=!1,a.eachComponent("dataZoom",o);while(i);function o(v){!n.get(v.uid)&&l(v)&&(s(v),i=!0)}function s(v){n.set(v.uid,!0),r.push(v),u(v)}function l(v){var c=!1;return v.eachTargetAxis(function(f,h){var g=e.get(f);g&&g[h]&&(c=!0)}),c}function u(v){v.eachTargetAxis(function(c,f){(e.get(c)||e.set(c,[]))[f]=!0})}return r}function Hs(a){var t=a.ecModel,e={infoList:[],infoMap:W()};return a.eachTargetAxis(function(r,n){var i=t.getComponent(He(r),n);if(i){var o=i.getCoordSysModel();if(o){var s=o.uid,l=e.infoMap.get(s);l||(l={model:o,axisModels:[]},e.infoList.push(l),e.infoMap.set(s,l)),l.axisModels.push(i)}}}),e}var Br=function(){function a(){this.indexList=[],this.indexMap=[]}return a.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},a}(),Jg=function(a){G(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e._autoThrottle=!0,e._noTarget=!0,e._rangePropMode=["percent","percent"],e}return t.prototype.init=function(e,r,n){var i=ki(e);this.settledOption=i,this.mergeDefaultAndTheme(e,n),this._doInit(i)},t.prototype.mergeOption=function(e){var r=ki(e);pe(this.option,e,!0),pe(this.settledOption,r,!0),this._doInit(r)},t.prototype._doInit=function(e){var r=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var n=this.settledOption;D([["start","startValue"],["end","endValue"]],function(i,o){this._rangePropMode[o]==="value"&&(r[i[0]]=n[i[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),r=this._targetAxisInfoMap=W(),n=this._fillSpecifiedTargetAxis(r);n?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(r,this._orient)),this._noTarget=!0,r.each(function(i){i.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(e){var r=!1;return D(Ri,function(n){var i=this.getReferringComponents(He(n),xv);if(i.specified){r=!0;var o=new Br;D(i.models,function(s){o.add(s.componentIndex)}),e.set(n,o)}},this),r},t.prototype._fillAutoTargetAxisByOrient=function(e,r){var n=this.ecModel,i=!0;if(i){var o=r==="vertical"?"y":"x",s=n.findComponents({mainType:o+"Axis"});l(s,o)}if(i){var s=n.findComponents({mainType:"singleAxis",filter:function(v){return v.get("orient",!0)===r}});l(s,"single")}function l(u,v){var c=u[0];if(c){var f=new Br;if(f.add(c.componentIndex),e.set(v,f),i=!1,v==="x"||v==="y"){var h=c.getReferringComponents("grid",Xe).models[0];h&&D(u,function(g){c.componentIndex!==g.componentIndex&&h===g.getReferringComponents("grid",Xe).models[0]&&f.add(g.componentIndex)})}}}i&&D(Ri,function(u){if(i){var v=n.findComponents({mainType:He(u),filter:function(f){return f.get("type",!0)==="category"}});if(v[0]){var c=new Br;c.add(v[0].componentIndex),e.set(u,c),i=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis(function(r){!e&&(e=r)},this),e==="y"?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var r=this.ecModel.option;this.option.throttle=r.animation&&r.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var r=this._rangePropMode,n=this.get("rangeMode");D([["start","startValue"],["end","endValue"]],function(i,o){var s=e[i[0]]!=null,l=e[i[1]]!=null;s&&!l?r[o]="percent":!s&&l?r[o]="value":n?r[o]=n[o]:s&&(r[o]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis(function(r,n){e==null&&(e=this.ecModel.getComponent(He(r),n))},this),e},t.prototype.eachTargetAxis=function(e,r){this._targetAxisInfoMap.each(function(n,i){D(n.indexList,function(o){e.call(r,i,o)})})},t.prototype.getAxisProxy=function(e,r){var n=this.getAxisModel(e,r);if(n)return n.__dzAxisProxy},t.prototype.getAxisModel=function(e,r){var n=this._targetAxisInfoMap.get(e);if(n&&n.indexMap[r])return this.ecModel.getComponent(He(e),r)},t.prototype.setRawRange=function(e){var r=this.option,n=this.settledOption;D([["start","startValue"],["end","endValue"]],function(i){(e[i[0]]!=null||e[i[1]]!=null)&&(r[i[0]]=n[i[0]]=e[i[0]],r[i[1]]=n[i[1]]=e[i[1]])},this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var r=this.option;D(["start","startValue","end","endValue"],function(n){r[n]=e[n]})},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,r){if(e==null&&r==null){var n=this.findRepresentativeAxisProxy();if(n)return n.getDataValueWindow()}else return this.getAxisProxy(e,r).getDataValueWindow()},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var r,n=this._targetAxisInfoMap.keys(),i=0;i<n.length;i++)for(var o=n[i],s=this._targetAxisInfoMap.get(o),l=0;l<s.indexList.length;l++){var u=this.getAxisProxy(o,s.indexList[l]);if(u.hostedBy(this))return u;r||(r=u)}return r},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}(Re);function ki(a){var t={};return D(["start","end","startValue","endValue","throttle"],function(e){a.hasOwnProperty(e)&&(t[e]=a[e])}),t}const or=Jg;var qg=function(a){G(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,n,i){this.dataZoomModel=e,this.ecModel=r,this.api=n},t.type="dataZoom",t}(ke);const Ws=qg;var ft=D,Oi=gt,Kg=function(){function a(t,e,r,n){this._dimName=t,this._axisIndex=e,this.ecModel=n,this._dataZoomModel=r}return a.prototype.hostedBy=function(t){return this._dataZoomModel===t},a.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},a.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},a.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(e){if(Yg(e)){var r=He(this._dimName),n=e.getReferringComponents(r,Xe).models[0];n&&this._axisIndex===n.componentIndex&&t.push(e)}},this),t},a.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},a.prototype.getMinMaxSpan=function(){return tt(this._minMaxSpan)},a.prototype.calculateDataWindow=function(t){var e=this._dataExtent,r=this.getAxisModel(),n=r.axis.scale,i=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],l=[],u;ft(["start","end"],function(f,h){var g=t[f],d=t[f+"Value"];i[h]==="percent"?(g==null&&(g=o[h]),d=n.parse(q(g,o,e))):(u=!0,d=d==null?e[h]:n.parse(d),g=q(d,e,o)),l[h]=d==null||isNaN(d)?e[h]:d,s[h]=g==null||isNaN(g)?o[h]:g}),Oi(l),Oi(s);var v=this._minMaxSpan;u?c(l,s,e,o,!1):c(s,l,o,e,!0);function c(f,h,g,d,p){var m=p?"Span":"ValueSpan";Sr(0,f,g,"all",v["min"+m],v["max"+m]);for(var y=0;y<2;y++)h[y]=q(f[y],g,d,!0),p&&(h[y]=n.parse(h[y]))}return{valueWindow:l,percentWindow:s}},a.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=Qg(this,this._dimName,e),this._updateMinMaxSpan();var r=this.calculateDataWindow(t.settledOption);this._valueWindow=r.valueWindow,this._percentWindow=r.percentWindow,this._setAxisModel()}},a.prototype.filterData=function(t,e){if(t!==this._dataZoomModel)return;var r=this._dimName,n=this.getTargetSeriesModels(),i=t.get("filterMode"),o=this._valueWindow;if(i==="none")return;ft(n,function(l){var u=l.getData(),v=u.mapDimensionsAll(r);if(v.length){if(i==="weakFilter"){var c=u.getStore(),f=H(v,function(h){return u.getDimensionIndex(h)},u);u.filterSelf(function(h){for(var g,d,p,m=0;m<v.length;m++){var y=c.get(f[m],h),S=!isNaN(y),b=y<o[0],x=y>o[1];if(S&&!b&&!x)return!0;S&&(p=!0),b&&(g=!0),x&&(d=!0)}return p&&g&&d})}else ft(v,function(h){if(i==="empty")l.setData(u=u.map(h,function(d){return s(d)?d:NaN}));else{var g={};g[h]=o,u.selectRange(g)}});ft(v,function(h){u.setApproximateExtent(o,h)})}});function s(l){return l>=o[0]&&l<=o[1]}},a.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,r=this._dataExtent;ft(["min","max"],function(n){var i=e.get(n+"Span"),o=e.get(n+"ValueSpan");o!=null&&(o=this.getAxisModel().axis.scale.parse(o)),o!=null?i=q(r[0]+o,r,[0,100],!0):i!=null&&(o=q(i,[0,100],r,!0)-r[0]),t[n+"Span"]=i,t[n+"ValueSpan"]=o},this)},a.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,r=this._valueWindow;if(e){var n=ba(r,[0,500]);n=Math.min(n,20);var i=t.axis.scale.rawExtentInfo;e[0]!==0&&i.setDeterminedMinMax("min",+r[0].toFixed(n)),e[1]!==100&&i.setDeterminedMinMax("max",+r[1].toFixed(n)),i.freeze()}},a}();function Qg(a,t,e){var r=[1/0,-1/0];ft(e,function(o){wv(r,o.getData(),t)});var n=a.getAxisModel(),i=Av(n.axis.scale,n,r).calculate();return[i.min,i.max]}const ed=Kg;var td={getTargetSeries:function(a){function t(n){a.eachComponent("dataZoom",function(i){i.eachTargetAxis(function(o,s){var l=a.getComponent(He(o),s);n(o,s,l,i)})})}t(function(n,i,o,s){o.__dzAxisProxy=null});var e=[];t(function(n,i,o,s){o.__dzAxisProxy||(o.__dzAxisProxy=new ed(n,i,s,a),e.push(o.__dzAxisProxy))});var r=W();return D(e,function(n){D(n.getTargetSeriesModels(),function(i){r.set(i.uid,i)})}),r},overallReset:function(a,t){a.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(r,n){e.getAxisProxy(r,n).reset(e)}),e.eachTargetAxis(function(r,n){e.getAxisProxy(r,n).filterData(e,t)})}),a.eachComponent("dataZoom",function(e){var r=e.findRepresentativeAxisProxy();if(r){var n=r.getDataPercentWindow(),i=r.getDataValueWindow();e.setCalculatedRange({start:n[0],end:n[1],startValue:i[0],endValue:i[1]})}})}};const rd=td;function ad(a){a.registerAction("dataZoom",function(t,e){var r=jg(e,t);D(r,function(n){n.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}var Ei=!1;function Zs(a){Ei||(Ei=!0,a.registerProcessor(a.PRIORITY.PROCESSOR.FILTER,rd),ad(a),a.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function nd(a,t){var e=hr(t.get("padding")),r=t.getItemStyle(["color","opacity"]);return r.fill=t.get("backgroundColor"),a=new ne({shape:{x:a.x-e[3],y:a.y-e[0],width:a.width+e[1]+e[3],height:a.height+e[0]+e[2],r:t.get("borderRadius")},style:r,silent:!0,z2:-1}),a}var id=function(a){G(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(Re);const od=id;function Us(a){var t=a.get("confine");return t!=null?!!t:a.get("renderMode")==="richText"}function Xs(a){if(ue.domSupported){for(var t=document.documentElement.style,e=0,r=a.length;e<r;e++)if(a[e]in t)return a[e]}}var $s=Xs(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),sd=Xs(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function Ys(a,t){if(!a)return t;t=Ta(t,!0);var e=a.indexOf(t);return a=e===-1?t:"-"+a.slice(0,e)+"-"+t,a.toLowerCase()}function ld(a,t){var e=a.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(a);return e?t?e[t]:e:null}var ud=Ys(sd,"transition"),Ha=Ys($s,"transform"),vd="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(ue.transform3dSupported?"will-change:transform;":"");function cd(a){return a=a==="left"?"right":a==="right"?"left":a==="top"?"bottom":"top",a}function hd(a,t,e){if(!J(e)||e==="inside")return"";var r=a.get("backgroundColor"),n=a.get("borderWidth");t=St(t);var i=cd(e),o=Math.max(Math.round(n)*1.5,6),s="",l=Ha+":",u;Ce(["left","right"],i)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(u=i==="left"?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(u=i==="top"?225:45)+"deg)");var v=u*Math.PI/180,c=o+n,f=c*Math.abs(Math.cos(v))+c*Math.abs(Math.sin(v)),h=Math.round(((f-Math.SQRT2*n)/2+Math.SQRT2*n-(f-c)/2)*100)/100;s+=";"+i+":-"+h+"px";var g=t+" solid "+n+"px;",d=["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",s+";"+l+";","border-bottom:"+g,"border-right:"+g,"background-color:"+r+";"];return'<div style="'+d.join("")+'"></div>'}function fd(a,t){var e="cubic-bezier(0.23,1,0.32,1)",r=" "+a/2+"s "+e,n="opacity"+r+",visibility"+r;return t||(r=" "+a+"s "+e,n+=ue.transformSupported?","+Ha+r:",left"+r+",top"+r),ud+":"+n}function Gi(a,t,e){var r=a.toFixed(0)+"px",n=t.toFixed(0)+"px";if(!ue.transformSupported)return e?"top:"+n+";left:"+r+";":[["top",n],["left",r]];var i=ue.transform3dSupported,o="translate"+(i?"3d":"")+"("+r+","+n+(i?",0":"")+")";return e?"top:0;left:0;"+Ha+":"+o+";":[["top",0],["left",0],[$s,o]]}function gd(a){var t=[],e=a.get("fontSize"),r=a.getTextColor();r&&t.push("color:"+r),t.push("font:"+a.getFont()),e&&t.push("line-height:"+Math.round(e*3/2)+"px");var n=a.get("textShadowColor"),i=a.get("textShadowBlur")||0,o=a.get("textShadowOffsetX")||0,s=a.get("textShadowOffsetY")||0;return n&&i&&t.push("text-shadow:"+o+"px "+s+"px "+i+"px "+n),D(["decoration","align"],function(l){var u=a.get(l);u&&t.push("text-"+l+":"+u)}),t.join(";")}function dd(a,t,e){var r=[],n=a.get("transitionDuration"),i=a.get("backgroundColor"),o=a.get("shadowBlur"),s=a.get("shadowColor"),l=a.get("shadowOffsetX"),u=a.get("shadowOffsetY"),v=a.getModel("textStyle"),c=Wo(a,"html"),f=l+"px "+u+"px "+o+"px "+s;return r.push("box-shadow:"+f),t&&n&&r.push(fd(n,e)),i&&r.push("background-color:"+i),D(["width","color","radius"],function(h){var g="border-"+h,d=Ta(g),p=a.get(d);p!=null&&r.push(g+":"+p+(h==="color"?"":"px"))}),r.push(gd(v)),c!=null&&r.push("padding:"+hr(c).join("px ")+"px"),r.join(";")+";"}function Vi(a,t,e,r,n){var i=t&&t.painter;if(e){var o=i&&i.getViewportRoot();o&&Cv(a,o,document.body,r,n)}else{a[0]=r,a[1]=n;var s=i&&i.getViewportRootOffset();s&&(a[0]+=s.offsetLeft,a[1]+=s.offsetTop)}a[2]=a[0]/t.getWidth(),a[3]=a[1]/t.getHeight()}var pd=function(){function a(t,e,r){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,ue.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var i=this._zr=e.getZr(),o=this._appendToBody=r&&r.appendToBody;Vi(this._styleCoord,i,o,e.getWidth()/2,e.getHeight()/2),o?document.body.appendChild(n):t.appendChild(n),this._container=t;var s=this;n.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},n.onmousemove=function(l){if(l=l||window.event,!s._enterable){var u=i.handler,v=i.painter.getViewportRoot();Tv(v,l,!0),u.dispatch("mousemove",l)}},n.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return a.prototype.update=function(t){var e=this._container,r=ld(e,"position"),n=e.style;n.position!=="absolute"&&r!=="absolute"&&(n.position="relative");var i=t.get("alwaysShowContent");i&&this._moveIfResized(),this._alwaysShowContent=i,this.el.className=t.get("className")||""},a.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el,n=r.style,i=this._styleCoord;r.innerHTML?n.cssText=vd+dd(t,!this._firstShow,this._longHide)+Gi(i[0],i[1],!0)+("border-color:"+St(e)+";")+(t.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):n.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},a.prototype.setContent=function(t,e,r,n,i){var o=this.el;if(t==null){o.innerHTML="";return}var s="";if(J(i)&&r.get("trigger")==="item"&&!Us(r)&&(s=hd(r,n,i)),J(t))o.innerHTML=t+s;else if(t){o.innerHTML="",j(t)||(t=[t]);for(var l=0;l<t.length;l++)Mv(t[l])&&t[l].parentNode!==o&&o.appendChild(t[l]);if(s&&o.childNodes.length){var u=document.createElement("div");u.innerHTML=s,o.appendChild(u)}}},a.prototype.setEnterable=function(t){this._enterable=t},a.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]},a.prototype.moveTo=function(t,e){var r=this._styleCoord;if(Vi(r,this._zr,this._appendToBody,t,e),r[0]!=null&&r[1]!=null){var n=this.el.style,i=Gi(r[0],r[1]);D(i,function(o){n[o[0]]=o[1]})}},a.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},a.prototype.hide=function(){var t=this,e=this.el.style;e.visibility="hidden",e.opacity="0",ue.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},a.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(F(this.hide,this),t)):this.hide())},a.prototype.isShow=function(){return this._show},a.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},a}();const md=pd;var yd=function(){function a(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),zi(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return a.prototype.update=function(t){var e=t.get("alwaysShowContent");e&&this._moveIfResized(),this._alwaysShowContent=e},a.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},a.prototype.setContent=function(t,e,r,n,i){var o=this;Ie(t)&&re(""),this.el&&this._zr.remove(this.el);var s=r.getModel("textStyle");this.el=new ie({style:{rich:e.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:n,textShadowColor:s.get("textShadowColor"),fill:r.get(["textStyle","color"]),padding:Wo(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")}),D(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){o.el.style[u]=r.get(u)}),D(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){o.el.style[u]=s.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},a.prototype.setEnterable=function(t){this._enterable=t},a.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),r=Ni(t.style);return[e.width+r.left+r.right,e.height+r.top+r.bottom]},a.prototype.moveTo=function(t,e){var r=this.el;if(r){var n=this._styleCoord;zi(n,this._zr,t,e),t=n[0],e=n[1];var i=r.style,o=ze(i.borderWidth||0),s=Ni(i);r.x=t+o+s.left,r.y=e+o+s.top,r.markRedraw()}},a.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},a.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},a.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(F(this.hide,this),t)):this.hide())},a.prototype.isShow=function(){return this._show},a.prototype.dispose=function(){this._zr.remove(this.el)},a}();function ze(a){return Math.max(0,a)}function Ni(a){var t=ze(a.shadowBlur||0),e=ze(a.shadowOffsetX||0),r=ze(a.shadowOffsetY||0);return{left:ze(t-e),right:ze(t+e),top:ze(t-r),bottom:ze(t+r)}}function zi(a,t,e,r){a[0]=e,a[1]=r,a[2]=a[0]/t.getWidth(),a[3]=a[1]/t.getHeight()}const Sd=yd;var bd=new ne({shape:{x:-1,y:-1,width:2,height:2}}),_d=function(a){G(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,r){if(!(ue.node||!r.getDom())){var n=e.getComponent("tooltip"),i=this._renderMode=Dv(n.get("renderMode"));this._tooltipContent=i==="richText"?new Sd(r):new md(r.getDom(),r,{appendToBody:n.get("appendToBody",!0)})}},t.prototype.render=function(e,r,n){if(!(ue.node||!n.getDom())){this.group.removeAll(),this._tooltipModel=e,this._ecModel=r,this._api=n;var i=this._tooltipContent;i.update(e),i.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&e.get("transitionDuration")?mr(this,"_updatePosition",50,"fixRate"):tr(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var e=this._tooltipModel,r=e.get("triggerOn");zs("itemTooltip",this._api,F(function(n,i,o){r!=="none"&&(r.indexOf(n)>=0?this._tryShow(i,o):n==="leave"&&this._hide(o))},this))},t.prototype._keepShow=function(){var e=this._tooltipModel,r=this._ecModel,n=this._api,i=e.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&i!=="none"&&i!=="click"){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!n.isDisposed()&&o.manuallyShowTip(e,r,n,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(e,r,n,i){if(!(i.from===this.uid||ue.node||!n.getDom())){var o=Bi(i,n);this._ticket="";var s=i.dataByCoordSys,l=Td(i,r,n);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:i.position,positionDefault:"bottom"},o)}else if(i.tooltip&&i.x!=null&&i.y!=null){var v=bd;v.x=i.x,v.y=i.y,v.update(),te(v).tooltipConfig={name:null,option:i.tooltip},this._tryShow({offsetX:i.x,offsetY:i.y,target:v},o)}else if(s)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:s,tooltipOption:i.tooltipOption},o);else if(i.seriesIndex!=null){if(this._manuallyAxisShowTip(e,r,n,i))return;var c=Bs(i,r),f=c.point[0],h=c.point[1];f!=null&&h!=null&&this._tryShow({offsetX:f,offsetY:h,target:c.el,position:i.position,positionDefault:"bottom"},o)}else i.x!=null&&i.y!=null&&(n.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:n.getZr().findHover(i.x,i.y).target},o))}},t.prototype.manuallyHideTip=function(e,r,n,i){var o=this._tooltipContent;this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,i.from!==this.uid&&this._hide(Bi(i,n))},t.prototype._manuallyAxisShowTip=function(e,r,n,i){var o=i.seriesIndex,s=i.dataIndex,l=r.getComponent("axisPointer").coordSysAxesInfo;if(!(o==null||s==null||l==null)){var u=r.getSeriesByIndex(o);if(u){var v=u.getData(),c=Dt([v.getItemModel(s),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(c.get("trigger")==="axis")return n.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:s,position:i.position}),!0}}},t.prototype._tryShow=function(e,r){var n=e.target,i=this._tooltipModel;if(i){this._lastX=e.offsetX,this._lastY=e.offsetY;var o=e.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,e);else if(n){this._lastDataByCoordSys=null;var s,l;Fo(n,function(u){if(te(u).dataIndex!=null)return s=u,!0;if(te(u).tooltipConfig!=null)return l=u,!0},!0),s?this._showSeriesItemTooltip(e,s,r):l?this._showComponentItemTooltip(e,l,r):this._hide(r)}else this._lastDataByCoordSys=null,this._hide(r)}},t.prototype._showOrMove=function(e,r){var n=e.get("showDelay");r=F(r,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(r,n):r()},t.prototype._showAxisTooltip=function(e,r){var n=this._ecModel,i=this._tooltipModel,o=[r.offsetX,r.offsetY],s=Dt([r.tooltipOption],i),l=this._renderMode,u=[],v=er("section",{blocks:[],noHeader:!0}),c=[],f=new xr;D(e,function(y){D(y.dataByAxis,function(S){var b=n.getComponent(S.axisDim+"Axis",S.axisIndex),x=S.value;if(!(!b||x==null)){var _=Vs(x,b.axis,n,S.seriesDataIndices,S.valueLabelOpt),w=er("section",{header:_,noHeader:!Vo(_),sortBlocks:!0,blocks:[]});v.blocks.push(w),D(S.seriesDataIndices,function(A){var T=n.getSeriesByIndex(A.seriesIndex),M=A.dataIndexInside,C=T.getDataParams(M);if(!(C.dataIndex<0)){C.axisDim=S.axisDim,C.axisIndex=S.axisIndex,C.axisType=S.axisType,C.axisId=S.axisId,C.axisValue=Ho(b.axis,{value:x}),C.axisValueLabel=_,C.marker=f.makeTooltipMarker("item",St(C.color),l);var I=un(T.formatTooltip(M,!0,null)),P=I.frag;if(P){var L=Dt([T],i).get("valueFormatter");w.blocks.push(L?Y({valueFormatter:L},P):P)}I.text&&c.push(I.text),u.push(C)}})}})}),v.blocks.reverse(),c.reverse();var h=r.position,g=s.get("order"),d=vn(v,f,l,g,n.get("useUTC"),s.get("textStyle"));d&&c.unshift(d);var p=l==="richText"?`

`:"<br/>",m=c.join(p);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(e,u)?this._updatePosition(s,h,o[0],o[1],this._tooltipContent,u):this._showTooltipContent(s,m,u,Math.random()+"",o[0],o[1],h,null,f)})},t.prototype._showSeriesItemTooltip=function(e,r,n){var i=this._ecModel,o=te(r),s=o.seriesIndex,l=i.getSeriesByIndex(s),u=o.dataModel||l,v=o.dataIndex,c=o.dataType,f=u.getData(c),h=this._renderMode,g=e.positionDefault,d=Dt([f.getItemModel(v),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,g?{position:g}:null),p=d.get("trigger");if(!(p!=null&&p!=="item")){var m=u.getDataParams(v,c),y=new xr;m.marker=y.makeTooltipMarker("item",St(m.color),h);var S=un(u.formatTooltip(v,!1,c)),b=d.get("order"),x=d.get("valueFormatter"),_=S.frag,w=_?vn(x?Y({valueFormatter:x},_):_,y,h,b,i.get("useUTC"),d.get("textStyle")):S.text,A="item_"+u.name+"_"+v;this._showOrMove(d,function(){this._showTooltipContent(d,w,m,A,e.offsetX,e.offsetY,e.position,e.target,y)}),n({type:"showTip",dataIndexInside:v,dataIndex:f.getRawIndex(v),seriesIndex:s,from:this.uid})}},t.prototype._showComponentItemTooltip=function(e,r,n){var i=te(r),o=i.tooltipConfig,s=o.option||{};if(J(s)){var l=s;s={content:l,formatter:l}}var u=[s],v=this._ecModel.getComponent(i.componentMainType,i.componentIndex);v&&u.push(v),u.push({formatter:s.content});var c=e.positionDefault,f=Dt(u,this._tooltipModel,c?{position:c}:null),h=f.get("content"),g=Math.random()+"",d=new xr;this._showOrMove(f,function(){var p=tt(f.get("formatterParams")||{});this._showTooltipContent(f,h,p,g,e.offsetX,e.offsetY,e.position,r,d)}),n({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(e,r,n,i,o,s,l,u,v){if(this._ticket="",!(!e.get("showContent")||!e.get("show"))){var c=this._tooltipContent;c.setEnterable(e.get("enterable"));var f=e.get("formatter");l=l||e.get("position");var h=r,g=this._getNearestPoint([o,s],n,e.get("trigger"),e.get("borderColor")),d=g.color;if(f)if(J(f)){var p=e.ecModel.get("useUTC"),m=j(n)?n[0]:n,y=m&&m.axisType&&m.axisType.indexOf("time")>=0;h=f,y&&(h=fo(m.axisValue,h,p)),h=So(h,n,!0)}else if(oe(f)){var S=F(function(b,x){b===this._ticket&&(c.setContent(x,v,e,d,l),this._updatePosition(e,l,o,s,c,n,u))},this);this._ticket=i,h=f(n,i,S)}else h=f;c.setContent(h,v,e,d,l),c.show(e,d),this._updatePosition(e,l,o,s,c,n,u)}},t.prototype._getNearestPoint=function(e,r,n,i){if(n==="axis"||j(r))return{color:i||(this._renderMode==="html"?"#fff":"none")};if(!j(r))return{color:i||r.color||r.borderColor}},t.prototype._updatePosition=function(e,r,n,i,o,s,l){var u=this._api.getWidth(),v=this._api.getHeight();r=r||e.get("position");var c=o.getSize(),f=e.get("align"),h=e.get("verticalAlign"),g=l&&l.getBoundingRect().clone();if(l&&g.applyTransform(l.transform),oe(r)&&(r=r([n,i],s,o.el,g,{viewSize:[u,v],contentSize:c.slice()})),j(r))n=B(r[0],u),i=B(r[1],v);else if(Ie(r)){var d=r;d.width=c[0],d.height=c[1];var p=Ue(d,{width:u,height:v});n=p.x,i=p.y,f=null,h=null}else if(J(r)&&l){var m=Ad(r,g,c,e.get("borderWidth"));n=m[0],i=m[1]}else{var m=xd(n,i,o,u,v,f?null:20,h?null:20);n=m[0],i=m[1]}if(f&&(n-=Fi(f)?c[0]/2:f==="right"?c[0]:0),h&&(i-=Fi(h)?c[1]/2:h==="bottom"?c[1]:0),Us(e)){var m=wd(n,i,o,u,v);n=m[0],i=m[1]}o.moveTo(n,i)},t.prototype._updateContentNotChangedOnAxis=function(e,r){var n=this._lastDataByCoordSys,i=this._cbParamsList,o=!!n&&n.length===e.length;return o&&D(n,function(s,l){var u=s.dataByAxis||[],v=e[l]||{},c=v.dataByAxis||[];o=o&&u.length===c.length,o&&D(u,function(f,h){var g=c[h]||{},d=f.seriesDataIndices||[],p=g.seriesDataIndices||[];o=o&&f.value===g.value&&f.axisType===g.axisType&&f.axisId===g.axisId&&d.length===p.length,o&&D(d,function(m,y){var S=p[y];o=o&&m.seriesIndex===S.seriesIndex&&m.dataIndex===S.dataIndex}),i&&D(f.seriesDataIndices,function(m){var y=m.seriesIndex,S=r[y],b=i[y];S&&b&&b.data!==S.data&&(o=!1)})})}),this._lastDataByCoordSys=e,this._cbParamsList=r,!!o},t.prototype._hide=function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},t.prototype.dispose=function(e,r){ue.node||!r.getDom()||(tr(this,"_updatePosition"),this._tooltipContent.dispose(),ca("itemTooltip",r))},t.type="tooltip",t}(ke);function Dt(a,t,e){var r=t.ecModel,n;e?(n=new xe(e,r,r),n=new xe(t.option,n,r)):n=t;for(var i=a.length-1;i>=0;i--){var o=a[i];o&&(o instanceof xe&&(o=o.get("tooltip",!0)),J(o)&&(o={formatter:o}),o&&(n=new xe(o,n,r)))}return n}function Bi(a,t){return a.dispatchAction||F(t.dispatchAction,t)}function xd(a,t,e,r,n,i,o){var s=e.getSize(),l=s[0],u=s[1];return i!=null&&(a+l+i+2>r?a-=l+i:a+=i),o!=null&&(t+u+o>n?t-=u+o:t+=o),[a,t]}function wd(a,t,e,r,n){var i=e.getSize(),o=i[0],s=i[1];return a=Math.min(a+o,r)-o,t=Math.min(t+s,n)-s,a=Math.max(a,0),t=Math.max(t,0),[a,t]}function Ad(a,t,e,r){var n=e[0],i=e[1],o=Math.ceil(Math.SQRT2*r)+8,s=0,l=0,u=t.width,v=t.height;switch(a){case"inside":s=t.x+u/2-n/2,l=t.y+v/2-i/2;break;case"top":s=t.x+u/2-n/2,l=t.y-i-o;break;case"bottom":s=t.x+u/2-n/2,l=t.y+v+o;break;case"left":s=t.x-n-o,l=t.y+v/2-i/2;break;case"right":s=t.x+u+o,l=t.y+v/2-i/2}return[s,l]}function Fi(a){return a==="center"||a==="middle"}function Td(a,t,e){var r=Iv(a).queryOptionMap,n=r.keys()[0];if(!(!n||n==="series")){var i=Pv(t,n,r.get(n),{useDefault:!1,enableAll:!1,enableNone:!1}),o=i.models[0];if(o){var s=e.getViewOfComponentModel(o),l;if(s.group.traverse(function(u){var v=te(u).tooltipConfig;if(v&&v.name===a.name)return l=u,!0}),l)return{componentMainType:n,componentIndex:o.componentIndex,el:l}}}}const Md=_d;function Cd(a){ge(Fs),a.registerComponentModel(od),a.registerComponentView(Md),a.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Qr),a.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Qr)}var Dd=function(a){G(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(Re),Id=function(a){G(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,n){if(this.group.removeAll(),!!e.get("show")){var i=this.group,o=e.getModel("textStyle"),s=e.getModel("subtextStyle"),l=e.get("textAlign"),u=La(e.get("textBaseline"),e.get("textVerticalAlign")),v=new ie({style:me(o,{text:e.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),c=v.getBoundingRect(),f=e.get("subtext"),h=new ie({style:me(s,{text:f,fill:s.getTextColor(),y:c.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),g=e.get("link"),d=e.get("sublink"),p=e.get("triggerEvent",!0);v.silent=!g&&!p,h.silent=!d&&!p,g&&v.on("click",function(){cn(g,"_"+e.get("target"))}),d&&h.on("click",function(){cn(d,"_"+e.get("subtarget"))}),te(v).eventData=te(h).eventData=p?{componentType:"title",componentIndex:e.componentIndex}:null,i.add(v),f&&i.add(h);var m=i.getBoundingRect(),y=e.getBoxLayoutParams();y.width=m.width,y.height=m.height;var S=Ue(y,{width:n.getWidth(),height:n.getHeight()},e.get("padding"));l||(l=e.get("left")||e.get("right"),l==="middle"&&(l="center"),l==="right"?S.x+=S.width:l==="center"&&(S.x+=S.width/2)),u||(u=e.get("top")||e.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?S.y+=S.height:u==="middle"&&(S.y+=S.height/2),u=u||"top"),i.x=S.x,i.y=S.y,i.markRedraw();var b={align:l,verticalAlign:u};v.setStyle(b),h.setStyle(b),m=i.getBoundingRect();var x=S.margin,_=e.getItemStyle(["color","opacity"]);_.fill=e.get("backgroundColor");var w=new ne({shape:{x:m.x-x[3],y:m.y-x[0],width:m.width+x[1]+x[3],height:m.height+x[0]+x[2],r:e.get("borderRadius")},style:_,subPixelOptimize:!0,silent:!0});i.add(w)}},t.type="title",t}(ke);function Pd(a){a.registerComponentModel(Dd),a.registerComponentView(Id)}var Ld=function(a,t){if(t==="all")return{type:"all",title:a.getLocaleModel().get(["legend","selector","all"])};if(t==="inverse")return{type:"inverse",title:a.getLocaleModel().get(["legend","selector","inverse"])}},Rd=function(a){G(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return t.prototype.init=function(e,r,n){this.mergeDefaultAndTheme(e,n),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(e,r){a.prototype.mergeOption.call(this,e,r),this._updateSelector(e)},t.prototype._updateSelector=function(e){var r=e.selector,n=this.ecModel;r===!0&&(r=e.selector=["all","inverse"]),j(r)&&D(r,function(i,o){J(i)&&(i={type:i}),r[o]=pe(i,Ld(n,i.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&this.get("selectedMode")==="single"){for(var r=!1,n=0;n<e.length;n++){var i=e[n].get("name");if(this.isSelected(i)){this.select(i),r=!0;break}}!r&&this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var r=[],n=[];e.eachRawSeries(function(l){var u=l.name;n.push(u);var v;if(l.legendVisualProvider){var c=l.legendVisualProvider,f=c.getAllNames();e.isSeriesFiltered(l)||(n=n.concat(f)),f.length?r=r.concat(f):v=!0}else v=!0;v&&Lv(l)&&r.push(l.name)}),this._availableNames=n;var i=this.get("data")||r,o=W(),s=H(i,function(l){return(J(l)||Oe(l))&&(l={name:l}),o.get(l.name)?null:(o.set(l.name,!0),new xe(l,this,this.ecModel))},this);this._data=yt(s,function(l){return!!l})},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var r=this.option.selected,n=this.get("selectedMode");if(n==="single"){var i=this._data;D(i,function(o){r[o.get("name")]=!1})}r[e]=!0},t.prototype.unSelect=function(e){this.get("selectedMode")!=="single"&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var r=this.option.selected;r.hasOwnProperty(e)||(r[e]=!0),this[r[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var e=this._data,r=this.option.selected;D(e,function(n){r[n.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var e=this._data,r=this.option.selected;D(e,function(n){var i=n.get("name",!0);r.hasOwnProperty(i)||(r[i]=!0),r[i]=!r[i]})},t.prototype.isSelected=function(e){var r=this.option.selected;return!(r.hasOwnProperty(e)&&!r[e])&&Ce(this._availableNames,e)>=0},t.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(Re);const ha=Rd;var vt=ee,fa=D,jt=X,kd=function(a){G(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!1,e}return t.prototype.init=function(){this.group.add(this._contentGroup=new jt),this.group.add(this._selectorGroup=new jt),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(e,r,n){var i=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!e.get("show",!0)){var o=e.get("align"),s=e.get("orient");(!o||o==="auto")&&(o=e.get("left")==="right"&&s==="vertical"?"right":"left");var l=e.get("selector",!0),u=e.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=s==="horizontal"?"end":"start"),this.renderInner(o,e,r,n,l,s,u);var v=e.getBoxLayoutParams(),c={width:n.getWidth(),height:n.getHeight()},f=e.get("padding"),h=Ue(v,c,f),g=this.layoutInner(e,o,h,i,l,u),d=Ue(Q({width:g.width,height:g.height},v),c,f);this.group.x=d.x-g.x,this.group.y=d.y-g.y,this.group.markRedraw(),this.group.add(this._backgroundEl=nd(g,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,r,n,i,o,s,l){var u=this.getContentGroup(),v=W(),c=r.get("selectedMode"),f=[];n.eachRawSeries(function(h){!h.get("legendHoverLink")&&f.push(h.id)}),fa(r.getData(),function(h,g){var d=h.get("name");if(!this.newlineDisabled&&(d===""||d===`
`)){var p=new jt;p.newline=!0,u.add(p);return}var m=n.getSeriesByName(d)[0];if(!v.get(d))if(m){var y=m.getData(),S=y.getVisual("legendLineStyle")||{},b=y.getVisual("legendIcon"),x=y.getVisual("style"),_=this._createItem(m,d,g,h,r,e,S,x,b,c,i);_.on("click",vt(Hi,d,null,i,f)).on("mouseover",vt(ga,m.name,null,i,f)).on("mouseout",vt(da,m.name,null,i,f)),v.set(d,!0)}else n.eachRawSeries(function(w){if(!v.get(d)&&w.legendVisualProvider){var A=w.legendVisualProvider;if(!A.containName(d))return;var T=A.indexOfName(d),M=A.getItemVisual(T,"style"),C=A.getItemVisual(T,"legendIcon"),I=Rv(M.fill);I&&I[3]===0&&(I[3]=.2,M=Y(Y({},M),{fill:kv(I,"rgba")}));var P=this._createItem(w,d,g,h,r,e,{},M,C,c,i);P.on("click",vt(Hi,null,d,i,f)).on("mouseover",vt(ga,null,d,i,f)).on("mouseout",vt(da,null,d,i,f)),v.set(d,!0)}},this)},this),o&&this._createSelector(o,r,i,s,l)},t.prototype._createSelector=function(e,r,n,i,o){var s=this.getSelectorGroup();fa(e,function(u){var v=u.type,c=new ie({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){n.dispatchAction({type:v==="all"?"legendAllSelect":"legendInverseSelect"})}});s.add(c);var f=r.getModel("selectorLabel"),h=r.getModel(["emphasis","selectorLabel"]);at(c,{normal:f,emphasis:h},{defaultText:u.title}),ra(c)})},t.prototype._createItem=function(e,r,n,i,o,s,l,u,v,c,f){var h=e.visualDrawType,g=o.get("itemWidth"),d=o.get("itemHeight"),p=o.isSelected(r),m=i.get("symbolRotate"),y=i.get("symbolKeepAspect"),S=i.get("icon");v=S||v||"roundRect";var b=Od(v,i,l,u,h,p,f),x=new jt,_=i.getModel("textStyle");if(oe(e.getLegendIcon)&&(!S||S==="inherit"))x.add(e.getLegendIcon({itemWidth:g,itemHeight:d,icon:v,iconRotate:m,itemStyle:b.itemStyle,lineStyle:b.lineStyle,symbolKeepAspect:y}));else{var w=S==="inherit"&&e.getData().getVisual("symbol")?m==="inherit"?e.getData().getVisual("symbolRotate"):m:0;x.add(Ed({itemWidth:g,itemHeight:d,icon:v,iconRotate:w,itemStyle:b.itemStyle,lineStyle:b.lineStyle,symbolKeepAspect:y}))}var A=s==="left"?g+5:-5,T=s,M=o.get("formatter"),C=r;J(M)&&M?C=M.replace("{name}",r??""):oe(M)&&(C=M(r));var I=i.get("inactiveColor");x.add(new ie({style:me(_,{text:C,x:A,y:d/2,fill:p?_.getTextColor():I,align:T,verticalAlign:"middle"})}));var P=new ne({shape:x.getBoundingRect(),invisible:!0}),L=i.getModel("tooltip");return L.get("show")&&Da({el:P,componentModel:o,itemName:r,itemTooltipOption:L.option}),x.add(P),x.eachChild(function(R){R.silent=!0}),P.silent=!c,this.getContentGroup().add(x),ra(x),x.__legendDataIndex=n,x},t.prototype.layoutInner=function(e,r,n,i,o,s){var l=this.getContentGroup(),u=this.getSelectorGroup();Ot(e.get("orient"),l,e.get("itemGap"),n.width,n.height);var v=l.getBoundingRect(),c=[-v.x,-v.y];if(u.markRedraw(),l.markRedraw(),o){Ot("horizontal",u,e.get("selectorItemGap",!0));var f=u.getBoundingRect(),h=[-f.x,-f.y],g=e.get("selectorButtonGap",!0),d=e.getOrient().index,p=d===0?"width":"height",m=d===0?"height":"width",y=d===0?"y":"x";s==="end"?h[d]+=v[p]+g:c[d]+=f[p]+g,h[1-d]+=v[m]/2-f[m]/2,u.x=h[0],u.y=h[1],l.x=c[0],l.y=c[1];var S={x:0,y:0};return S[p]=v[p]+g+f[p],S[m]=Math.max(v[m],f[m]),S[y]=Math.min(0,f[y]+h[1-d]),S}else return l.x=c[0],l.y=c[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(ke);function Od(a,t,e,r,n,i,o){function s(p,m){p.lineWidth==="auto"&&(p.lineWidth=m.lineWidth>0?2:0),fa(p,function(y,S){p[S]==="inherit"&&(p[S]=m[S])})}var l=t.getModel("itemStyle"),u=l.getItemStyle(),v=a.lastIndexOf("empty",0)===0?"fill":"stroke",c=l.getShallow("decal");u.decal=!c||c==="inherit"?r.decal:Bo(c,o),u.fill==="inherit"&&(u.fill=r[n]),u.stroke==="inherit"&&(u.stroke=r[v]),u.opacity==="inherit"&&(u.opacity=(n==="fill"?r:e).opacity),s(u,r);var f=t.getModel("lineStyle"),h=f.getLineStyle();if(s(h,e),u.fill==="auto"&&(u.fill=r.fill),u.stroke==="auto"&&(u.stroke=r.fill),h.stroke==="auto"&&(h.stroke=r.fill),!i){var g=t.get("inactiveBorderWidth"),d=u[v];u.lineWidth=g==="auto"?r.lineWidth>0&&d?2:0:u.lineWidth,u.fill=t.get("inactiveColor"),u.stroke=t.get("inactiveBorderColor"),h.stroke=f.get("inactiveColor"),h.lineWidth=f.get("inactiveWidth")}return{itemStyle:u,lineStyle:h}}function Ed(a){var t=a.icon||"roundRect",e=Se(t,0,0,a.itemWidth,a.itemHeight,a.itemStyle.fill,a.symbolKeepAspect);return e.setStyle(a.itemStyle),e.rotation=(a.iconRotate||0)*Math.PI/180,e.setOrigin([a.itemWidth/2,a.itemHeight/2]),t.indexOf("empty")>-1&&(e.style.stroke=e.style.fill,e.style.fill="#fff",e.style.lineWidth=2),e}function Hi(a,t,e,r){da(a,t,e,r),e.dispatchAction({type:"legendToggleSelect",name:a??t}),ga(a,t,e,r)}function js(a){for(var t=a.getZr().storage.getDisplayList(),e,r=0,n=t.length;r<n&&!(e=t[r].states.emphasis);)r++;return e&&e.hoverLayer}function ga(a,t,e,r){js(e)||e.dispatchAction({type:"highlight",seriesName:a,name:t,excludeSeriesId:r})}function da(a,t,e,r){js(e)||e.dispatchAction({type:"downplay",seriesName:a,name:t,excludeSeriesId:r})}const Js=kd;function Gd(a){var t=a.findComponents({mainType:"legend"});t&&t.length&&a.filterSeries(function(e){for(var r=0;r<t.length;r++)if(!t[r].isSelected(e.name))return!1;return!0})}function It(a,t,e){var r={},n=a==="toggleSelected",i;return e.eachComponent("legend",function(o){n&&i!=null?o[i?"select":"unSelect"](t.name):a==="allSelect"||a==="inverseSelect"?o[a]():(o[a](t.name),i=o.isSelected(t.name));var s=o.getData();D(s,function(l){var u=l.get("name");if(!(u===`
`||u==="")){var v=o.isSelected(u);r.hasOwnProperty(u)?r[u]=r[u]&&v:r[u]=v}})}),a==="allSelect"||a==="inverseSelect"?{selected:r}:{name:t.name,selected:r}}function Vd(a){a.registerAction("legendToggleSelect","legendselectchanged",ee(It,"toggleSelected")),a.registerAction("legendAllSelect","legendselectall",ee(It,"allSelect")),a.registerAction("legendInverseSelect","legendinverseselect",ee(It,"inverseSelect")),a.registerAction("legendSelect","legendselected",ee(It,"select")),a.registerAction("legendUnSelect","legendunselected",ee(It,"unSelect"))}function qs(a){a.registerComponentModel(ha),a.registerComponentView(Js),a.registerProcessor(a.PRIORITY.PROCESSOR.SERIES_FILTER,Gd),a.registerSubTypeDefaulter("legend",function(){return"plain"}),Vd(a)}var Nd=function(a){G(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(e,r,n){var i=Ca(e);a.prototype.init.call(this,e,r,n),Wi(this,e,i)},t.prototype.mergeOption=function(e,r){a.prototype.mergeOption.call(this,e,r),Wi(this,this.option,e)},t.type="legend.scroll",t.defaultOption=dr(ha.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(ha);function Wi(a,t,e){var r=a.getOrient(),n=[1,1];n[r.index]=0,Go(t,e,{type:"box",ignoreSize:!!n})}const zd=Nd;var Zi=X,Fr=["width","height"],Hr=["x","y"],Bd=function(a){G(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!0,e._currentIndex=0,e}return t.prototype.init=function(){a.prototype.init.call(this),this.group.add(this._containerGroup=new Zi),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Zi)},t.prototype.resetInner=function(){a.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(e,r,n,i,o,s,l){var u=this;a.prototype.renderInner.call(this,e,r,n,i,o,s,l);var v=this._controllerGroup,c=r.get("pageIconSize",!0),f=j(c)?c:[c,c];g("pagePrev",0);var h=r.getModel("pageTextStyle");v.add(new ie({name:"pageText",style:{text:"xx/xx",fill:h.getTextColor(),font:h.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),g("pageNext",1);function g(d,p){var m=d+"DataIndex",y=Aa(r.get("pageIcons",!0)[r.getOrient().name][p],{onclick:F(u._pageGo,u,m,r,i)},{x:-f[0]/2,y:-f[1]/2,width:f[0],height:f[1]});y.name=d,v.add(y)}},t.prototype.layoutInner=function(e,r,n,i,o,s){var l=this.getSelectorGroup(),u=e.getOrient().index,v=Fr[u],c=Hr[u],f=Fr[1-u],h=Hr[1-u];o&&Ot("horizontal",l,e.get("selectorItemGap",!0));var g=e.get("selectorButtonGap",!0),d=l.getBoundingRect(),p=[-d.x,-d.y],m=tt(n);o&&(m[v]=n[v]-d[v]-g);var y=this._layoutContentAndController(e,i,m,u,v,f,h,c);if(o){if(s==="end")p[u]+=y[v]+g;else{var S=d[v]+g;p[u]-=S,y[c]-=S}y[v]+=d[v]+g,p[1-u]+=y[h]+y[f]/2-d[f]/2,y[f]=Math.max(y[f],d[f]),y[h]=Math.min(y[h],d[h]+p[1-u]),l.x=p[0],l.y=p[1],l.markRedraw()}return y},t.prototype._layoutContentAndController=function(e,r,n,i,o,s,l,u){var v=this.getContentGroup(),c=this._containerGroup,f=this._controllerGroup;Ot(e.get("orient"),v,e.get("itemGap"),i?n.width:null,i?null:n.height),Ot("horizontal",f,e.get("pageButtonItemGap",!0));var h=v.getBoundingRect(),g=f.getBoundingRect(),d=this._showController=h[o]>n[o],p=[-h.x,-h.y];r||(p[i]=v[u]);var m=[0,0],y=[-g.x,-g.y],S=La(e.get("pageButtonGap",!0),e.get("itemGap",!0));if(d){var b=e.get("pageButtonPosition",!0);b==="end"?y[i]+=n[o]-g[o]:m[i]+=g[o]+S}y[1-i]+=h[s]/2-g[s]/2,v.setPosition(p),c.setPosition(m),f.setPosition(y);var x={x:0,y:0};if(x[o]=d?n[o]:h[o],x[s]=Math.max(h[s],g[s]),x[l]=Math.min(0,g[l]+y[1-i]),c.__rectSize=n[o],d){var _={x:0,y:0};_[o]=Math.max(n[o]-g[o]-S,0),_[s]=x[s],c.setClipPath(new ne({shape:_})),c.__rectSize=_[o]}else f.eachChild(function(A){A.attr({invisible:!0,silent:!0})});var w=this._getPageInfo(e);return w.pageIndex!=null&&se(v,{x:w.contentPosition[0],y:w.contentPosition[1]},d?e:null),this._updatePageInfoView(e,w),x},t.prototype._pageGo=function(e,r,n){var i=this._getPageInfo(r)[e];i!=null&&n.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:r.id})},t.prototype._updatePageInfoView=function(e,r){var n=this._controllerGroup;D(["pagePrev","pageNext"],function(v){var c=v+"DataIndex",f=r[c]!=null,h=n.childOfName(v);h&&(h.setStyle("fill",f?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),h.cursor=f?"pointer":"default")});var i=n.childOfName("pageText"),o=e.get("pageFormatter"),s=r.pageIndex,l=s!=null?s+1:0,u=r.pageCount;i&&o&&i.setStyle("text",J(o)?o.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):o({current:l,total:u}))},t.prototype._getPageInfo=function(e){var r=e.get("scrollDataIndex",!0),n=this.getContentGroup(),i=this._containerGroup.__rectSize,o=e.getOrient().index,s=Fr[o],l=Hr[o],u=this._findTargetItemIndex(r),v=n.children(),c=v[u],f=v.length,h=f?1:0,g={contentPosition:[n.x,n.y],pageCount:h,pageIndex:h-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!c)return g;var d=b(c);g.contentPosition[o]=-d.s;for(var p=u+1,m=d,y=d,S=null;p<=f;++p)S=b(v[p]),(!S&&y.e>m.s+i||S&&!x(S,m.s))&&(y.i>m.i?m=y:m=S,m&&(g.pageNextDataIndex==null&&(g.pageNextDataIndex=m.i),++g.pageCount)),y=S;for(var p=u-1,m=d,y=d,S=null;p>=-1;--p)S=b(v[p]),(!S||!x(y,S.s))&&m.i<y.i&&(y=m,g.pagePrevDataIndex==null&&(g.pagePrevDataIndex=m.i),++g.pageCount,++g.pageIndex),m=S;return g;function b(_){if(_){var w=_.getBoundingRect(),A=w[l]+_[l];return{s:A,e:A+w[s],i:_.__legendDataIndex}}}function x(_,w){return _.e>=w&&_.s<=w+i}},t.prototype._findTargetItemIndex=function(e){if(!this._showController)return 0;var r,n=this.getContentGroup(),i;return n.eachChild(function(o,s){var l=o.__legendDataIndex;i==null&&l!=null&&(i=s),l===e&&(r=s)}),r??i},t.type="legend.scroll",t}(Js);const Fd=Bd;function Hd(a){a.registerAction("legendScroll","legendscroll",function(t,e){var r=t.scrollDataIndex;r!=null&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},function(n){n.setScrollDataIndex(r)})})}function Wd(a){ge(qs),a.registerComponentModel(zd),a.registerComponentView(Fd),Hd(a)}function Zd(a){ge(qs),ge(Wd)}var Ud=function(a){G(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.inside",t.defaultOption=dr(or.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(or);const Xd=Ud;var Wa=Le();function $d(a,t,e){Wa(a).coordSysRecordMap.each(function(r){var n=r.dataZoomInfoMap.get(t.uid);n&&(n.getRange=e)})}function Yd(a,t){for(var e=Wa(a).coordSysRecordMap,r=e.keys(),n=0;n<r.length;n++){var i=r[n],o=e.get(i),s=o.dataZoomInfoMap;if(s){var l=t.uid,u=s.get(l);u&&(s.removeKey(l),s.keys().length||Ks(e,o))}}}function Ks(a,t){if(t){a.removeKey(t.model.uid);var e=t.controller;e&&e.dispose()}}function jd(a,t){var e={model:t,containsPoint:ee(qd,t),dispatchAction:ee(Jd,a),dataZoomInfoMap:null,controller:null},r=e.controller=new Ms(a.getZr());return D(["pan","zoom","scrollMove"],function(n){r.on(n,function(i){var o=[];e.dataZoomInfoMap.each(function(s){if(i.isAvailableBehavior(s.model.option)){var l=(s.getRange||{})[n],u=l&&l(s.dzReferCoordSysInfo,e.model.mainType,e.controller,i);!s.model.get("disabled",!0)&&u&&o.push({dataZoomId:s.model.id,start:u[0],end:u[1]})}}),o.length&&e.dispatchAction(o)})}),e}function Jd(a,t){a.isDisposed()||a.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function qd(a,t,e,r){return a.coordinateSystem.containPoint([e,r])}function Kd(a){var t,e="type_",r={type_true:2,type_move:1,type_false:0,type_undefined:-1},n=!0;return a.each(function(i){var o=i.model,s=o.get("disabled",!0)?!1:o.get("zoomLock",!0)?"move":!0;r[e+s]>r[e+t]&&(t=s),n=n&&o.get("preventDefaultMouseMove",!0)}),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!n}}}function Qd(a){a.registerProcessor(a.PRIORITY.PROCESSOR.FILTER,function(t,e){var r=Wa(e),n=r.coordSysRecordMap||(r.coordSysRecordMap=W());n.each(function(i){i.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(i){var o=Hs(i);D(o.infoList,function(s){var l=s.model.uid,u=n.get(l)||n.set(l,jd(e,s.model)),v=u.dataZoomInfoMap||(u.dataZoomInfoMap=W());v.set(i.uid,{dzReferCoordSysInfo:s,model:i,getRange:null})})}),n.each(function(i){var o=i.controller,s,l=i.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(s=l.get(u))}if(!s){Ks(n,i);return}var v=Kd(l);o.enable(v.controlType,v.opt),o.setPointerChecker(i.containsPoint),mr(i,"dispatchAction",s.model.get("throttle",!0),"fixRate")})})}var ep=function(a){G(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return t.prototype.render=function(e,r,n){if(a.prototype.render.apply(this,arguments),e.noTarget()){this._clear();return}this.range=e.getPercentRange(),$d(n,e,{pan:F(Wr.pan,this),zoom:F(Wr.zoom,this),scrollMove:F(Wr.scrollMove,this)})},t.prototype.dispose=function(){this._clear(),a.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){Yd(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(Ws),Wr={zoom:function(a,t,e,r){var n=this.range,i=n.slice(),o=a.axisModels[0];if(o){var s=Zr[t](null,[r.originX,r.originY],o,e,a),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(i[1]-i[0])+i[0],u=Math.max(1/r.scale,0);i[0]=(i[0]-l)*u+l,i[1]=(i[1]-l)*u+l;var v=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(Sr(0,i,[0,100],0,v.minSpan,v.maxSpan),this.range=i,n[0]!==i[0]||n[1]!==i[1])return i}},pan:Ui(function(a,t,e,r,n,i){var o=Zr[r]([i.oldX,i.oldY],[i.newX,i.newY],t,n,e);return o.signal*(a[1]-a[0])*o.pixel/o.pixelLength}),scrollMove:Ui(function(a,t,e,r,n,i){var o=Zr[r]([0,0],[i.scrollDelta,i.scrollDelta],t,n,e);return o.signal*(a[1]-a[0])*i.scrollDelta})};function Ui(a){return function(t,e,r,n){var i=this.range,o=i.slice(),s=t.axisModels[0];if(s){var l=a(o,s,t,e,r,n);if(Sr(l,o,[0,100],"all"),this.range=o,i[0]!==o[0]||i[1]!==o[1])return o}}}var Zr={grid:function(a,t,e,r,n){var i=e.axis,o={},s=n.model.coordinateSystem.getRect();return a=a||[0,0],i.dim==="x"?(o.pixel=t[0]-a[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=i.inverse?1:-1):(o.pixel=t[1]-a[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=i.inverse?-1:1),o},polar:function(a,t,e,r,n){var i=e.axis,o={},s=n.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return a=a?s.pointToCoord(a):[0,0],t=s.pointToCoord(t),e.mainType==="radiusAxis"?(o.pixel=t[0]-a[0],o.pixelLength=l[1]-l[0],o.pixelStart=l[0],o.signal=i.inverse?1:-1):(o.pixel=t[1]-a[1],o.pixelLength=u[1]-u[0],o.pixelStart=u[0],o.signal=i.inverse?-1:1),o},singleAxis:function(a,t,e,r,n){var i=e.axis,o=n.model.coordinateSystem.getRect(),s={};return a=a||[0,0],i.orient==="horizontal"?(s.pixel=t[0]-a[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=i.inverse?1:-1):(s.pixel=t[1]-a[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=i.inverse?-1:1),s}};const tp=ep;function rp(a){Zs(a),a.registerComponentModel(Xd),a.registerComponentView(tp),Qd(a)}var ap=function(a){G(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=dr(or.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(or);const np=ap;var Pt=ne,Xi=7,ip=1,Ur=30,op=7,Lt="horizontal",$i="vertical",sp=5,lp=["line","bar","candlestick","scatter"],up={easing:"cubicOut",duration:100,delay:0},vp=function(a){G(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e._displayables={},e}return t.prototype.init=function(e,r){this.api=r,this._onBrush=F(this._onBrush,this),this._onBrushEnd=F(this._onBrushEnd,this)},t.prototype.render=function(e,r,n,i){if(a.prototype.render.apply(this,arguments),mr(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),e.get("show")===!1){this.group.removeAll();return}if(e.noTarget()){this._clear(),this.group.removeAll();return}(!i||i.type!=="dataZoom"||i.from!==this.uid)&&this._buildView(),this._updateView()},t.prototype.dispose=function(){this._clear(),a.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){tr(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var r=this._displayables.sliderGroup=new X;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(r),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,r=this.api,n=e.get("brushSelect"),i=n?op:0,o=this._findCoordRect(),s={width:r.getWidth(),height:r.getHeight()},l=this._orient===Lt?{right:s.width-o.x-o.width,top:s.height-Ur-Xi-i,width:o.width,height:Ur}:{right:Xi,top:o.y,width:Ur,height:o.height},u=Ca(e.option);D(["right","top","width","height"],function(c){u[c]==="ph"&&(u[c]=l[c])});var v=Ue(u,s);this._location={x:v.x,y:v.y},this._size=[v.width,v.height],this._orient===$i&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,r=this._location,n=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),o=i&&i.get("inverse"),s=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(n===Lt&&!o?{scaleY:l?1:-1,scaleX:1}:n===Lt&&o?{scaleY:l?1:-1,scaleX:-1}:n===$i&&!o?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var u=e.getBoundingRect([s]);e.x=r.x-u.x,e.y=r.y-u.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,r=this._size,n=this._displayables.sliderGroup,i=e.get("brushSelect");n.add(new Pt({silent:!0,shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var o=new Pt({shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:"transparent"},z2:0,onclick:F(this._onClickPanel,this)}),s=this.api.getZr();i?(o.on("mousedown",this._onBrushStart,this),o.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),n.add(o)},t.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!e)return;var r=this._size,n=this._shadowSize||[],i=e.series,o=i.getRawData(),s=i.getShadowDim&&i.getShadowDim(),l=s&&o.getDimensionInfo(s)?i.getShadowDim():e.otherDim;if(l==null)return;var u=this._shadowPolygonPts,v=this._shadowPolylinePts;if(o!==this._shadowData||l!==this._shadowDim||r[0]!==n[0]||r[1]!==n[1]){var c=o.getDataExtent(l),f=(c[1]-c[0])*.3;c=[c[0]-f,c[1]+f];var h=[0,r[1]],g=[0,r[0]],d=[[r[0],0],[0,0]],p=[],m=g[1]/(o.count()-1),y=0,S=Math.round(o.count()/r[0]),b;o.each([l],function(T,M){if(S>0&&M%S){y+=m;return}var C=T==null||isNaN(T)||T==="",I=C?0:q(T,c,h,!0);C&&!b&&M?(d.push([d[d.length-1][0],0]),p.push([p[p.length-1][0],0])):!C&&b&&(d.push([y,0]),p.push([y,0])),d.push([y,I]),p.push([y,I]),y+=m,b=C}),u=this._shadowPolygonPts=d,v=this._shadowPolylinePts=p}this._shadowData=o,this._shadowDim=l,this._shadowSize=[r[0],r[1]];var x=this.dataZoomModel;function _(T){var M=x.getModel(T?"selectedDataBackground":"dataBackground"),C=new X,I=new Ft({shape:{points:u},segmentIgnoreThreshold:1,style:M.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),P=new Ht({shape:{points:v},segmentIgnoreThreshold:1,style:M.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return C.add(I),C.add(P),C}for(var w=0;w<3;w++){var A=_(w===1);this._displayables.sliderGroup.add(A),this._displayables.dataShadowSegs.push(A)}},t.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,r=e.get("showDataShadow");if(r!==!1){var n,i=this.ecModel;return e.eachTargetAxis(function(o,s){var l=e.getAxisProxy(o,s).getTargetSeriesModels();D(l,function(u){if(!n&&!(r!==!0&&Ce(lp,u.get("type"))<0)){var v=i.getComponent(He(o),s).axis,c=cp(o),f,h=u.coordinateSystem;c!=null&&h.getOtherAxis&&(f=h.getOtherAxis(v).inverse),c=u.getData().mapDimension(c),n={thisAxis:v,series:u,thisDim:o,otherDim:c,otherAxisInverse:f}}},this)},this),n}},t.prototype._renderHandle=function(){var e=this.group,r=this._displayables,n=r.handles=[null,null],i=r.handleLabels=[null,null],o=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,u=this.api,v=l.get("borderRadius")||0,c=l.get("brushSelect"),f=r.filler=new Pt({silent:c,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});o.add(f),o.add(new Pt({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:v},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:ip,fill:"rgba(0,0,0,0)"}})),D([0,1],function(S){var b=l.get("handleIcon");!Ov[b]&&b.indexOf("path://")<0&&b.indexOf("image://")<0&&(b="path://"+b);var x=Se(b,-1,0,2,2,null,!0);x.attr({cursor:Yi(this._orient),draggable:!0,drift:F(this._onDragMove,this,S),ondragend:F(this._onDragEnd,this),onmouseover:F(this._showDataInfo,this,!0),onmouseout:F(this._showDataInfo,this,!1),z2:5});var _=x.getBoundingRect(),w=l.get("handleSize");this._handleHeight=B(w,this._size[1]),this._handleWidth=_.width/_.height*this._handleHeight,x.setStyle(l.getModel("handleStyle").getItemStyle()),x.style.strokeNoScale=!0,x.rectHover=!0,x.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),ra(x);var A=l.get("handleColor");A!=null&&(x.style.fill=A),o.add(n[S]=x);var T=l.getModel("textStyle");e.add(i[S]=new ie({silent:!0,invisible:!0,style:me(T,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:T.getTextColor(),font:T.getFont()}),z2:10}))},this);var h=f;if(c){var g=B(l.get("moveHandleSize"),s[1]),d=r.moveHandle=new ne({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:g}}),p=g*.8,m=r.moveHandleIcon=Se(l.get("moveHandleIcon"),-p/2,-p/2,p,p,"#fff",!0);m.silent=!0,m.y=s[1]+g/2-.5,d.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var y=Math.min(s[1]/2,Math.max(g,10));h=r.moveZone=new ne({invisible:!0,shape:{y:s[1]-y,height:g+y}}),h.on("mouseover",function(){u.enterEmphasis(d)}).on("mouseout",function(){u.leaveEmphasis(d)}),o.add(d),o.add(m),o.add(h)}h.attr({draggable:!0,cursor:Yi(this._orient),drift:F(this._onDragMove,this,"all"),ondragstart:F(this._showDataInfo,this,!0),ondragend:F(this._onDragEnd,this),onmouseover:F(this._showDataInfo,this,!0),onmouseout:F(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),r=this._getViewExtent();this._handleEnds=[q(e[0],[0,100],r,!0),q(e[1],[0,100],r,!0)]},t.prototype._updateInterval=function(e,r){var n=this.dataZoomModel,i=this._handleEnds,o=this._getViewExtent(),s=n.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];Sr(r,i,o,n.get("zoomLock")?"all":e,s.minSpan!=null?q(s.minSpan,l,o,!0):null,s.maxSpan!=null?q(s.maxSpan,l,o,!0):null);var u=this._range,v=this._range=gt([q(i[0],o,l,!0),q(i[1],o,l,!0)]);return!u||u[0]!==v[0]||u[1]!==v[1]},t.prototype._updateView=function(e){var r=this._displayables,n=this._handleEnds,i=gt(n.slice()),o=this._size;D([0,1],function(h){var g=r.handles[h],d=this._handleHeight;g.attr({scaleX:d/2,scaleY:d/2,x:n[h]+(h?-1:1),y:o[1]/2-d/2})},this),r.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:o[1]});var s={x:i[0],width:i[1]-i[0]};r.moveHandle&&(r.moveHandle.setShape(s),r.moveZone.setShape(s),r.moveZone.getBoundingRect(),r.moveHandleIcon&&r.moveHandleIcon.attr("x",s.x+s.width/2));for(var l=r.dataShadowSegs,u=[0,i[0],i[1],o[0]],v=0;v<l.length;v++){var c=l[v],f=c.getClipPath();f||(f=new ne,c.setClipPath(f)),f.setShape({x:u[v],y:0,width:u[v+1]-u[v],height:o[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var r=this.dataZoomModel,n=this._displayables,i=n.handleLabels,o=this._orient,s=["",""];if(r.get("showDetail")){var l=r.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,v=this._range,c=e?l.calculateDataWindow({start:v[0],end:v[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(c[0],u),this._formatLabel(c[1],u)]}}var f=gt(this._handleEnds.slice());h.call(this,0),h.call(this,1);function h(g){var d=yo(n.handles[g].parent,this.group),p=Ev(g===0?"right":"left",d),m=this._handleWidth/2+sp,y=ta([f[g]+(g===0?-m:m),this._size[1]/2],d);i[g].setStyle({x:y[0],y:y[1],verticalAlign:o===Lt?"middle":p,align:o===Lt?p:"center",text:s[g]})}},t.prototype._formatLabel=function(e,r){var n=this.dataZoomModel,i=n.get("labelFormatter"),o=n.get("labelPrecision");(o==null||o==="auto")&&(o=r.getPixelPrecision());var s=e==null||isNaN(e)?"":r.type==="category"||r.type==="time"?r.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(o,20));return oe(i)?i(e,s):J(i)?i.replace("{value}",s):s},t.prototype._showDataInfo=function(e){e=this._dragging||e;var r=this._displayables,n=r.handleLabels;n[0].attr("invisible",!e),n[1].attr("invisible",!e),r.moveHandle&&this.api[e?"enterEmphasis":"leaveEmphasis"](r.moveHandle,1)},t.prototype._onDragMove=function(e,r,n,i){this._dragging=!0,Nt(i.event);var o=this._displayables.sliderGroup.getLocalTransform(),s=ta([r,n],o,!0),l=this._updateInterval(e,s[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var e=this.dataZoomModel.get("realtime");!e&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var r=this._size,n=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(n[0]<0||n[0]>r[0]||n[1]<0||n[1]>r[1])){var i=this._handleEnds,o=(i[0]+i[1])/2,s=this._updateInterval("all",n[0]-o);this._updateView(),s&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){var r=e.offsetX,n=e.offsetY;this._brushStart=new we(r,n),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(this._brushing){var r=this._displayables.brushRect;if(this._brushing=!1,!!r){r.attr("ignore",!0);var n=r.shape,i=+new Date;if(!(i-this._brushStartTime<200&&Math.abs(n.width)<5)){var o=this._getViewExtent(),s=[0,100];this._range=gt([q(n.x,o,s,!0),q(n.x+n.width,o,s,!0)]),this._handleEnds=[n.x,n.x+n.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(Nt(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,r){var n=this._displayables,i=this.dataZoomModel,o=n.brushRect;o||(o=n.brushRect=new Pt({silent:!0,style:i.getModel("brushStyle").getItemStyle()}),n.sliderGroup.add(o)),o.attr("ignore",!1);var s=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(e,r),v=l.transformCoordToLocal(s.x,s.y),c=this._size;u[0]=Math.max(Math.min(c[0],u[0]),0),o.setShape({x:v[0],y:0,width:u[0]-v[0],height:c[1]})},t.prototype._dispatchZoomAction=function(e){var r=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?up:null,start:r[0],end:r[1]})},t.prototype._findCoordRect=function(){var e,r=Hs(this.dataZoomModel).infoList;if(!e&&r.length){var n=r[0].model.coordinateSystem;e=n.getRect&&n.getRect()}if(!e){var i=this.api.getWidth(),o=this.api.getHeight();e={x:i*.2,y:o*.2,width:i*.6,height:o*.6}}return e},t.type="dataZoom.slider",t}(Ws);function cp(a){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[a]}function Yi(a){return a==="vertical"?"ns-resize":"ew-resize"}const hp=vp;function fp(a){a.registerComponentModel(np),a.registerComponentView(hp),Zs(a)}function gp(a){ge(rp),ge(fp)}var ji={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},dp=function(){function a(t){var e=this._condVal=J(t)?new RegExp(t):Nv(t)?t:null;if(e==null){var r="";re(r)}}return a.prototype.evaluate=function(t){var e=typeof t;return J(e)?this._condVal.test(t):Oe(e)?this._condVal.test(t+""):!1},a}(),pp=function(){function a(){}return a.prototype.evaluate=function(){return this.value},a}(),mp=function(){function a(){}return a.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(!t[e].evaluate())return!1;return!0},a}(),yp=function(){function a(){}return a.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].evaluate())return!0;return!1},a}(),Sp=function(){function a(){}return a.prototype.evaluate=function(){return!this.child.evaluate()},a}(),bp=function(){function a(){}return a.prototype.evaluate=function(){for(var t=!!this.valueParser,e=this.getValue,r=e(this.valueGetterParam),n=t?this.valueParser(r):null,i=0;i<this.subCondList.length;i++)if(!this.subCondList[i].evaluate(t?n:r))return!1;return!0},a}();function Za(a,t){if(a===!0||a===!1){var e=new pp;return e.value=a,e}var r="";return Qs(a)||re(r),a.and?Ji("and",a,t):a.or?Ji("or",a,t):a.not?_p(a,t):xp(a,t)}function Ji(a,t,e){var r=t[a],n="";j(r)||re(n),r.length||re(n);var i=a==="and"?new mp:new yp;return i.children=H(r,function(o){return Za(o,e)}),i.children.length||re(n),i}function _p(a,t){var e=a.not,r="";Qs(e)||re(r);var n=new Sp;return n.child=Za(e,t),n.child||re(r),n}function xp(a,t){for(var e="",r=t.prepareGetValue(a),n=[],i=pr(a),o=a.parser,s=o?Zo(o):null,l=0;l<i.length;l++){var u=i[l];if(!(u==="parser"||t.valueGetterAttrMap.get(u))){var v=et(ji,u)?ji[u]:u,c=a[u],f=s?s(c):c,h=Gv(v,f)||v==="reg"&&new dp(f);h||re(e),n.push(h)}}n.length||re(e);var g=new bp;return g.valueGetterParam=r,g.valueParser=s,g.getValue=t.getValue,g.subCondList=n,g}function Qs(a){return Ie(a)&&!Vv(a)}var wp=function(){function a(t,e){this._cond=Za(t,e)}return a.prototype.evaluate=function(){return this._cond.evaluate()},a}();function Ap(a,t){return new wp(a,t)}var Tp={type:"echarts:filter",transform:function(a){for(var t=a.upstream,e,r=Ap(a.config,{valueGetterAttrMap:W({dimension:!0}),prepareGetValue:function(s){var l="",u=s.dimension;et(s,"dimension")||re(l);var v=t.getDimensionInfo(u);return v||re(l),{dimIdx:v.index}},getValue:function(s){return t.retrieveValueFromItem(e,s.dimIdx)}}),n=[],i=0,o=t.count();i<o;i++)e=t.getRawDataItem(i),r.evaluate()&&n.push(e);return{data:n}}},Mp={type:"echarts:sort",transform:function(a){var t=a.upstream,e=a.config,r="",n=mt(e);n.length||re(r);var i=[];D(n,function(v){var c=v.dimension,f=v.order,h=v.parser,g=v.incomparable;if(c==null&&re(r),f!=="asc"&&f!=="desc"&&re(r),g&&g!=="min"&&g!=="max"){var d="";re(d)}if(f!=="asc"&&f!=="desc"){var p="";re(p)}var m=t.getDimensionInfo(c);m||re(r);var y=h?Zo(h):null;h&&!y&&re(r),i.push({dimIdx:m.index,parser:y,comparator:new zv(f,g)})});var o=t.sourceFormat;o!==Bv&&o!==Fv&&re(r);for(var s=[],l=0,u=t.count();l<u;l++)s.push(t.getRawDataItem(l));return s.sort(function(v,c){for(var f=0;f<i.length;f++){var h=i[f],g=t.retrieveValueFromItem(v,h.dimIdx),d=t.retrieveValueFromItem(c,h.dimIdx);h.parser&&(g=h.parser(g),d=h.parser(d));var p=h.comparator.evaluate(g,d);if(p!==0)return p}return 0}),{data:s}}};function Cp(a){a.registerTransform(Tp),a.registerTransform(Mp)}var _e=Io.CMD;function pt(a,t){return Math.abs(a-t)<1e-5}function pa(a){var t=a.data,e=a.len(),r=[],n,i=0,o=0,s=0,l=0;function u(P,L){n&&n.length>2&&r.push(n),n=[P,L]}function v(P,L,R,k){pt(P,R)&&pt(L,k)||n.push(P,L,R,k,R,k)}function c(P,L,R,k,E,O){var V=Math.abs(L-P),N=Math.tan(V/4)*4/3,z=L<P?-1:1,$=Math.cos(P),U=Math.sin(P),Z=Math.cos(L),ae=Math.sin(L),K=$*E+R,Ee=U*O+k,Te=Z*E+R,nt=ae*O+k,it=E*N*z,xt=O*N*z;n.push(K-it*U,Ee+xt*$,Te+it*ae,nt-xt*Z,Te,nt)}for(var f,h,g,d,p=0;p<e;){var m=t[p++],y=p===1;switch(y&&(i=t[p],o=t[p+1],s=i,l=o,(m===_e.L||m===_e.C||m===_e.Q)&&(n=[s,l])),m){case _e.M:i=s=t[p++],o=l=t[p++],u(s,l);break;case _e.L:f=t[p++],h=t[p++],v(i,o,f,h),i=f,o=h;break;case _e.C:n.push(t[p++],t[p++],t[p++],t[p++],i=t[p++],o=t[p++]);break;case _e.Q:f=t[p++],h=t[p++],g=t[p++],d=t[p++],n.push(i+2/3*(f-i),o+2/3*(h-o),g+2/3*(f-g),d+2/3*(h-d),g,d),i=g,o=d;break;case _e.A:var S=t[p++],b=t[p++],x=t[p++],_=t[p++],w=t[p++],A=t[p++]+w;p+=1;var T=!t[p++];f=Math.cos(w)*x+S,h=Math.sin(w)*_+b,y?(s=f,l=h,u(s,l)):v(i,o,f,h),i=Math.cos(A)*x+S,o=Math.sin(A)*_+b;for(var M=(T?-1:1)*Math.PI/2,C=w;T?C>A:C<A;C+=M){var I=T?Math.max(C+M,A):Math.min(C+M,A);c(C,I,S,b,x,_)}break;case _e.R:s=i=t[p++],l=o=t[p++],f=s+t[p++],h=l+t[p++],u(f,l),v(f,l,f,h),v(f,h,s,h),v(s,h,s,l),v(s,l,f,l);break;case _e.Z:n&&v(i,o,s,l),i=s,o=l;break}}return n&&n.length>2&&r.push(n),r}function ma(a,t,e,r,n,i,o,s,l,u){if(pt(a,e)&&pt(t,r)&&pt(n,o)&&pt(i,s)){l.push(o,s);return}var v=2/u,c=v*v,f=o-a,h=s-t,g=Math.sqrt(f*f+h*h);f/=g,h/=g;var d=e-a,p=r-t,m=n-o,y=i-s,S=d*d+p*p,b=m*m+y*y;if(S<c&&b<c){l.push(o,s);return}var x=f*d+h*p,_=-f*m-h*y,w=S-x*x,A=b-_*_;if(w<c&&x>=0&&A<c&&_>=0){l.push(o,s);return}var T=[],M=[];rr(a,e,n,o,.5,T),rr(t,r,i,s,.5,M),ma(T[0],M[0],T[1],M[1],T[2],M[2],T[3],M[3],l,u),ma(T[4],M[4],T[5],M[5],T[6],M[6],T[7],M[7],l,u)}function Dp(a,t){var e=pa(a),r=[];t=t||1;for(var n=0;n<e.length;n++){var i=e[n],o=[],s=i[0],l=i[1];o.push(s,l);for(var u=2;u<i.length;){var v=i[u++],c=i[u++],f=i[u++],h=i[u++],g=i[u++],d=i[u++];ma(s,l,v,c,f,h,g,d,o,t),s=g,l=d}r.push(o)}return r}function el(a,t,e){var r=a[t],n=a[1-t],i=Math.abs(r/n),o=Math.ceil(Math.sqrt(i*e)),s=Math.floor(e/o);s===0&&(s=1,o=e);for(var l=[],u=0;u<o;u++)l.push(s);var v=o*s,c=e-v;if(c>0)for(var u=0;u<c;u++)l[u%o]+=1;return l}function qi(a,t,e){for(var r=a.r0,n=a.r,i=a.startAngle,o=a.endAngle,s=Math.abs(o-i),l=s*n,u=n-r,v=l>Math.abs(u),c=el([l,u],v?0:1,t),f=(v?s:u)/c.length,h=0;h<c.length;h++)for(var g=(v?u:s)/c[h],d=0;d<c[h];d++){var p={};v?(p.startAngle=i+f*h,p.endAngle=i+f*(h+1),p.r0=r+g*d,p.r=r+g*(d+1)):(p.startAngle=i+g*d,p.endAngle=i+g*(d+1),p.r0=r+f*h,p.r=r+f*(h+1)),p.clockwise=a.clockwise,p.cx=a.cx,p.cy=a.cy,e.push(p)}}function Ip(a,t,e){for(var r=a.width,n=a.height,i=r>n,o=el([r,n],i?0:1,t),s=i?"width":"height",l=i?"height":"width",u=i?"x":"y",v=i?"y":"x",c=a[s]/o.length,f=0;f<o.length;f++)for(var h=a[l]/o[f],g=0;g<o[f];g++){var d={};d[u]=f*c,d[v]=g*h,d[s]=c,d[l]=h,d.x+=a.x,d.y+=a.y,e.push(d)}}function Ki(a,t,e,r){return a*r-e*t}function Pp(a,t,e,r,n,i,o,s){var l=e-a,u=r-t,v=o-n,c=s-i,f=Ki(v,c,l,u);if(Math.abs(f)<1e-6)return null;var h=a-n,g=t-i,d=Ki(h,g,v,c)/f;return d<0||d>1?null:new we(d*l+a,d*u+t)}function Lp(a,t,e){var r=new we;we.sub(r,e,t),r.normalize();var n=new we;we.sub(n,a,t);var i=n.dot(r);return i}function ct(a,t){var e=a[a.length-1];e&&e[0]===t[0]&&e[1]===t[1]||a.push(t)}function Rp(a,t,e){for(var r=a.length,n=[],i=0;i<r;i++){var o=a[i],s=a[(i+1)%r],l=Pp(o[0],o[1],s[0],s[1],t.x,t.y,e.x,e.y);l&&n.push({projPt:Lp(l,t,e),pt:l,idx:i})}if(n.length<2)return[{points:a},{points:a}];n.sort(function(p,m){return p.projPt-m.projPt});var u=n[0],v=n[n.length-1];if(v.idx<u.idx){var c=u;u=v,v=c}for(var f=[u.pt.x,u.pt.y],h=[v.pt.x,v.pt.y],g=[f],d=[h],i=u.idx+1;i<=v.idx;i++)ct(g,a[i].slice());ct(g,h),ct(g,f);for(var i=v.idx+1;i<=u.idx+r;i++)ct(d,a[i%r].slice());return ct(d,f),ct(d,h),[{points:g},{points:d}]}function Qi(a){var t=a.points,e=[],r=[];Uo(t,e,r);var n=new ce(e[0],e[1],r[0]-e[0],r[1]-e[1]),i=n.width,o=n.height,s=n.x,l=n.y,u=new we,v=new we;return i>o?(u.x=v.x=s+i/2,u.y=l,v.y=l+o):(u.y=v.y=l+o/2,u.x=s,v.x=s+i),Rp(t,u,v)}function sr(a,t,e,r){if(e===1)r.push(t);else{var n=Math.floor(e/2),i=a(t);sr(a,i[0],n,r),sr(a,i[1],e-n,r)}return r}function kp(a,t){for(var e=[],r=0;r<t;r++)e.push(Ra(a));return e}function Op(a,t){t.setStyle(a.style),t.z=a.z,t.z2=a.z2,t.zlevel=a.zlevel}function Ep(a){for(var t=[],e=0;e<a.length;)t.push([a[e++],a[e++]]);return t}function Gp(a,t){var e=[],r=a.shape,n;switch(a.type){case"rect":Ip(r,t,e),n=ne;break;case"sector":qi(r,t,e),n=Ae;break;case"circle":qi({r0:0,r:r.r,startAngle:0,endAngle:Math.PI*2,cx:r.cx,cy:r.cy},t,e),n=Ae;break;default:var i=a.getComputedTransform(),o=i?Math.sqrt(Math.max(i[0]*i[0]+i[1]*i[1],i[2]*i[2]+i[3]*i[3])):1,s=H(Dp(a.getUpdatedPathProxy(),o),function(m){return Ep(m)}),l=s.length;if(l===0)sr(Qi,{points:s[0]},t,e);else if(l===t)for(var u=0;u<l;u++)e.push({points:s[u]});else{var v=0,c=H(s,function(m){var y=[],S=[];Uo(m,y,S);var b=(S[1]-y[1])*(S[0]-y[0]);return v+=b,{poly:m,area:b}});c.sort(function(m,y){return y.area-m.area});for(var f=t,u=0;u<l;u++){var h=c[u];if(f<=0)break;var g=u===l-1?f:Math.ceil(h.area/v*t);g<0||(sr(Qi,{points:h.poly},g,e),f-=g)}}n=Ft;break}if(!n)return kp(a,t);for(var d=[],u=0;u<e.length;u++){var p=new n;p.setShape(e[u]),Op(a,p),d.push(p)}return d}function Vp(a,t){var e=a.length,r=t.length;if(e===r)return[a,t];for(var n=[],i=[],o=e<r?a:t,s=Math.min(e,r),l=Math.abs(r-e)/6,u=(s-2)/6,v=Math.ceil(l/u)+1,c=[o[0],o[1]],f=l,h=2;h<s;){var g=o[h-2],d=o[h-1],p=o[h++],m=o[h++],y=o[h++],S=o[h++],b=o[h++],x=o[h++];if(f<=0){c.push(p,m,y,S,b,x);continue}for(var _=Math.min(f,v-1)+1,w=1;w<=_;w++){var A=w/_;rr(g,p,y,b,A,n),rr(d,m,S,x,A,i),g=n[3],d=i[3],c.push(n[1],i[1],n[2],i[2],g,d),p=n[5],m=i[5],y=n[6],S=i[6]}f-=_-1}return o===a?[c,t]:[a,c]}function eo(a,t){for(var e=a.length,r=a[e-2],n=a[e-1],i=[],o=0;o<t.length;)i[o++]=r,i[o++]=n;return i}function Np(a,t){for(var e,r,n,i=[],o=[],s=0;s<Math.max(a.length,t.length);s++){var l=a[s],u=t[s],v=void 0,c=void 0;l?u?(e=Vp(l,u),v=e[0],c=e[1],r=v,n=c):(c=eo(n||l,l),v=l):(v=eo(r||u,u),c=u),i.push(v),o.push(c)}return[i,o]}function to(a){for(var t=0,e=0,r=0,n=a.length,i=0,o=n-2;i<n;o=i,i+=2){var s=a[o],l=a[o+1],u=a[i],v=a[i+1],c=s*v-u*l;t+=c,e+=(s+u)*c,r+=(l+v)*c}return t===0?[a[0]||0,a[1]||0]:[e/t/3,r/t/3,t]}function zp(a,t,e,r){for(var n=(a.length-2)/6,i=1/0,o=0,s=a.length,l=s-2,u=0;u<n;u++){for(var v=u*6,c=0,f=0;f<s;f+=2){var h=f===0?v:(v+f-2)%l+2,g=a[h]-e[0],d=a[h+1]-e[1],p=t[f]-r[0],m=t[f+1]-r[1],y=p-g,S=m-d;c+=y*y+S*S}c<i&&(i=c,o=u)}return o}function Bp(a){for(var t=[],e=a.length,r=0;r<e;r+=2)t[r]=a[e-r-2],t[r+1]=a[e-r-1];return t}function Fp(a,t,e,r){for(var n=[],i,o=0;o<a.length;o++){var s=a[o],l=t[o],u=to(s),v=to(l);i==null&&(i=u[2]<0!=v[2]<0);var c=[],f=[],h=0,g=1/0,d=[],p=s.length;i&&(s=Bp(s));for(var m=zp(s,l,u,v)*6,y=p-2,S=0;S<y;S+=2){var b=(m+S)%y+2;c[S+2]=s[b]-u[0],c[S+3]=s[b+1]-u[1]}if(c[0]=s[m]-u[0],c[1]=s[m+1]-u[1],e>0)for(var x=r/e,_=-r/2;_<=r/2;_+=x){for(var w=Math.sin(_),A=Math.cos(_),T=0,S=0;S<s.length;S+=2){var M=c[S],C=c[S+1],I=l[S]-v[0],P=l[S+1]-v[1],L=I*A-P*w,R=I*w+P*A;d[S]=L,d[S+1]=R;var k=L-M,E=R-C;T+=k*k+E*E}if(T<g){g=T,h=_;for(var O=0;O<d.length;O++)f[O]=d[O]}}else for(var V=0;V<p;V+=2)f[V]=l[V]-v[0],f[V+1]=l[V+1]-v[1];n.push({from:c,to:f,fromCp:u,toCp:v,rotation:-h})}return n}function lr(a){return a.__isCombineMorphing}var tl="__mOriginal_";function ur(a,t,e){var r=tl+t,n=a[r]||a[t];a[r]||(a[r]=a[t]);var i=e.replace,o=e.after,s=e.before;a[t]=function(){var l=arguments,u;return s&&s.apply(this,l),i?u=i.apply(this,l):u=n.apply(this,l),o&&o.apply(this,l),u}}function Et(a,t){var e=tl+t;a[e]&&(a[t]=a[e],a[e]=null)}function ro(a,t){for(var e=0;e<a.length;e++)for(var r=a[e],n=0;n<r.length;){var i=r[n],o=r[n+1];r[n++]=t[0]*i+t[2]*o+t[4],r[n++]=t[1]*i+t[3]*o+t[5]}}function rl(a,t){var e=a.getUpdatedPathProxy(),r=t.getUpdatedPathProxy(),n=Np(pa(e),pa(r)),i=n[0],o=n[1],s=a.getComputedTransform(),l=t.getComputedTransform();function u(){this.transform=null}s&&ro(i,s),l&&ro(o,l),ur(t,"updateTransform",{replace:u}),t.transform=null;var v=Fp(i,o,10,Math.PI),c=[];ur(t,"buildPath",{replace:function(f){for(var h=t.__morphT,g=1-h,d=[],p=0;p<v.length;p++){var m=v[p],y=m.from,S=m.to,b=m.rotation*h,x=m.fromCp,_=m.toCp,w=Math.sin(b),A=Math.cos(b);Hv(d,x,_,h);for(var T=0;T<y.length;T+=2){var M=y[T],C=y[T+1],I=S[T],P=S[T+1],L=M*g+I*h,R=C*g+P*h;c[T]=L*A-R*w+d[0],c[T+1]=L*w+R*A+d[1]}var k=c[0],E=c[1];f.moveTo(k,E);for(var T=2;T<y.length;){var I=c[T++],P=c[T++],O=c[T++],V=c[T++],N=c[T++],z=c[T++];k===I&&E===P&&O===N&&V===z?f.lineTo(N,z):f.bezierCurveTo(I,P,O,V,N,z),k=N,E=z}}}})}function Ua(a,t,e){if(!a||!t)return t;var r=e.done,n=e.during;rl(a,t),t.__morphT=0;function i(){Et(t,"buildPath"),Et(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape()}return t.animateTo({__morphT:1},Q({during:function(o){t.dirtyShape(),n&&n(o)},done:function(){i(),r&&r()}},e)),t}function Hp(a,t,e,r,n,i){var o=16;a=n===e?0:Math.round(32767*(a-e)/(n-e)),t=i===r?0:Math.round(32767*(t-r)/(i-r));for(var s=0,l,u=(1<<o)/2;u>0;u/=2){var v=0,c=0;(a&u)>0&&(v=1),(t&u)>0&&(c=1),s+=u*u*(3*v^c),c===0&&(v===1&&(a=u-1-a,t=u-1-t),l=a,a=t,t=l)}return s}function vr(a){var t=1/0,e=1/0,r=-1/0,n=-1/0,i=H(a,function(s){var l=s.getBoundingRect(),u=s.getComputedTransform(),v=l.x+l.width/2+(u?u[4]:0),c=l.y+l.height/2+(u?u[5]:0);return t=Math.min(v,t),e=Math.min(c,e),r=Math.max(v,r),n=Math.max(c,n),[v,c]}),o=H(i,function(s,l){return{cp:s,z:Hp(s[0],s[1],t,e,r,n),path:a[l]}});return o.sort(function(s,l){return s.z-l.z}).map(function(s){return s.path})}function al(a){return Gp(a.path,a.count)}function ya(){return{fromIndividuals:[],toIndividuals:[],count:0}}function Wp(a,t,e){var r=[];function n(x){for(var _=0;_<x.length;_++){var w=x[_];lr(w)?n(w.childrenRef()):w instanceof be&&r.push(w)}}n(a);var i=r.length;if(!i)return ya();var o=e.dividePath||al,s=o({path:t,count:i});if(s.length!==i)return console.error("Invalid morphing: unmatched splitted path"),ya();r=vr(r),s=vr(s);for(var l=e.done,u=e.during,v=e.individualDelay,c=new Rt,f=0;f<i;f++){var h=r[f],g=s[f];g.parent=t,g.copyTransform(c),v||rl(h,g)}t.__isCombineMorphing=!0,t.childrenRef=function(){return s};function d(x){for(var _=0;_<s.length;_++)s[_].addSelfToZr(x)}ur(t,"addSelfToZr",{after:function(x){d(x)}}),ur(t,"removeSelfFromZr",{after:function(x){for(var _=0;_<s.length;_++)s[_].removeSelfFromZr(x)}});function p(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,Et(t,"addSelfToZr"),Et(t,"removeSelfFromZr")}var m=s.length;if(v)for(var y=m,S=function(){y--,y===0&&(p(),l&&l())},f=0;f<m;f++){var b=v?Q({delay:(e.delay||0)+v(f,m,r[f],s[f]),done:S},e):e;Ua(r[f],s[f],b)}else t.__morphT=0,t.animateTo({__morphT:1},Q({during:function(x){for(var _=0;_<m;_++){var w=s[_];w.__morphT=t.__morphT,w.dirtyShape()}u&&u(x)},done:function(){p();for(var x=0;x<a.length;x++)Et(a[x],"updateTransform");l&&l()}},e));return t.__zr&&d(t.__zr),{fromIndividuals:r,toIndividuals:s,count:m}}function Zp(a,t,e){var r=t.length,n=[],i=e.dividePath||al;function o(h){for(var g=0;g<h.length;g++){var d=h[g];lr(d)?o(d.childrenRef()):d instanceof be&&n.push(d)}}if(lr(a)){o(a.childrenRef());var s=n.length;if(s<r)for(var l=0,u=s;u<r;u++)n.push(Ra(n[l++%s]));n.length=r}else{n=i({path:a,count:r});for(var v=a.getComputedTransform(),u=0;u<n.length;u++)n[u].setLocalTransform(v);if(n.length!==r)return console.error("Invalid morphing: unmatched splitted path"),ya()}n=vr(n),t=vr(t);for(var c=e.individualDelay,u=0;u<r;u++){var f=c?Q({delay:(e.delay||0)+c(u,r,n[u],t[u])},e):e;Ua(n[u],t[u],f)}return{fromIndividuals:n,toIndividuals:t,count:t.length}}function ao(a){return j(a[0])}function no(a,t){for(var e=[],r=a.length,n=0;n<r;n++)e.push({one:a[n],many:[]});for(var n=0;n<t.length;n++){var i=t[n].length,o=void 0;for(o=0;o<i;o++)e[o%r].many.push(t[n][o])}for(var s=0,n=r-1;n>=0;n--)if(!e[n].many.length){var l=e[s].many;if(l.length<=1)if(s)s=0;else return e;var i=l.length,u=Math.ceil(i/2);e[n].many=l.slice(u,i),e[s].many=l.slice(0,u),s++}return e}var Up={clone:function(a){for(var t=[],e=1-Math.pow(1-a.path.style.opacity,1/a.count),r=0;r<a.count;r++){var n=Ra(a.path);n.setStyle("opacity",e),t.push(n)}return t},split:null};function Xr(a,t,e,r,n,i){if(!a.length||!t.length)return;var o=ka("update",r,n);if(!(o&&o.duration>0))return;var s=r.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},o),u,v;ao(a)&&(u=a,v=t),ao(t)&&(u=t,v=a);function c(m,y,S,b,x){var _=m.many,w=m.one;if(_.length===1&&!x){var A=y?_[0]:w,T=y?w:_[0];if(lr(A))c({many:[A],one:T},!0,S,b,!0);else{var M=s?Q({delay:s(S,b)},l):l;Ua(A,T,M),i(A,T,A,T,M)}}else for(var C=Q({dividePath:Up[e],individualDelay:s&&function(E,O,V,N){return s(E+S,b)}},l),I=y?Wp(_,w,C):Zp(w,_,C),P=I.fromIndividuals,L=I.toIndividuals,R=P.length,k=0;k<R;k++){var M=s?Q({delay:s(k,R)},l):l;i(P[k],L[k],y?_[k]:m.one,y?m.one:_[k],M)}}for(var f=u?u===a:a.length>t.length,h=u?no(v,u):no(f?t:a,[f?a:t]),g=0,d=0;d<h.length;d++)g+=h[d].many.length;for(var p=0,d=0;d<h.length;d++)c(h[d],f,p,g),p+=h[d].many.length}function Je(a){if(!a)return[];if(j(a)){for(var t=[],e=0;e<a.length;e++)t.push(Je(a[e]));return t}var r=[];return a.traverse(function(n){n instanceof be&&!n.disableMorphing&&!n.invisible&&!n.ignore&&r.push(n)}),r}var nl=1e4,Xp=Le();function $p(a){for(var t=a.dimensions,e=0;e<t.length;e++){var r=a.getDimensionInfo(t[e]);if(r&&r.otherDims.itemGroupId===0)return t[e]}}function io(a){var t=[];return D(a,function(e){var r=e.data;if(!(r.count()>nl))for(var n=r.getIndices(),i=$p(r),o=0;o<n.length;o++)t.push({dataGroupId:e.dataGroupId,data:r,dim:e.dim||i,divide:e.divide,dataIndex:o})}),t}function $r(a,t,e){a.traverse(function(r){r instanceof be&&le(r,{style:{opacity:0}},t,{dataIndex:e,isFrom:!0})})}function Yr(a){if(a.parent){var t=a.getComputedTransform();a.setLocalTransform(t),a.parent.remove(a)}}function ht(a){a.stopAnimation(),a.isGroup&&a.traverse(function(t){t.stopAnimation()})}function Yp(a,t,e){var r=ka("update",e,t);r&&a.traverse(function(n){if(n instanceof ea){var i=Wv(n);i&&n.animateFrom({style:i},r)}})}function jp(a,t){var e=a.length;if(e!==t.length)return!1;for(var r=0;r<e;r++){var n=a[r],i=t[r];if(n.data.getId(n.dataIndex)!==i.data.getId(i.dataIndex))return!1}return!0}function il(a,t,e){var r=io(a),n=io(t);function i(m,y,S,b,x){(S||m)&&y.animateFrom({style:S&&S!==m?Y(Y({},S.style),m.style):m.style},x)}function o(m){for(var y=0;y<m.length;y++)if(m[y].dim)return m[y].dim}var s=o(r),l=o(n),u=!1;function v(m,y){return function(S){var b=S.data,x=S.dataIndex;if(y)return b.getId(x);var _=S.dataGroupId,w=m?s||l:l||s,A=w&&b.getDimensionInfo(w),T=A&&A.ordinalMeta;if(A){var M=b.get(A.name,x);return T&&T.categories[M]||M+""}var C=b.getRawDataItem(x);return C&&C.groupId?C.groupId+"":_||b.getId(x)}}var c=jp(r,n),f={};if(!c)for(var h=0;h<n.length;h++){var g=n[h],d=g.data.getItemGraphicEl(g.dataIndex);d&&(f[d.id]=!0)}function p(m,y){var S=r[y],b=n[m],x=b.data.hostModel,_=S.data.getItemGraphicEl(S.dataIndex),w=b.data.getItemGraphicEl(b.dataIndex);if(_===w){w&&Yp(w,b.dataIndex,x);return}_&&f[_.id]||w&&(ht(w),_?(ht(_),Yr(_),u=!0,Xr(Je(_),Je(w),b.divide,x,m,i)):$r(w,x,m))}new hn(r,n,v(!0,c),v(!1,c),null,"multiple").update(p).updateManyToOne(function(m,y){var S=n[m],b=S.data,x=b.hostModel,_=b.getItemGraphicEl(S.dataIndex),w=yt(H(y,function(A){return r[A].data.getItemGraphicEl(r[A].dataIndex)}),function(A){return A&&A!==_&&!f[A.id]});_&&(ht(_),w.length?(D(w,function(A){ht(A),Yr(A)}),u=!0,Xr(Je(w),Je(_),S.divide,x,m,i)):$r(_,x,S.dataIndex))}).updateOneToMany(function(m,y){var S=r[y],b=S.data.getItemGraphicEl(S.dataIndex);if(!(b&&f[b.id])){var x=yt(H(m,function(w){return n[w].data.getItemGraphicEl(n[w].dataIndex)}),function(w){return w&&w!==b}),_=n[m[0]].data.hostModel;x.length&&(D(x,function(w){return ht(w)}),b?(ht(b),Yr(b),u=!0,Xr(Je(b),Je(x),S.divide,_,m[0],i)):D(x,function(w){return $r(w,_,m[0])}))}}).updateManyToMany(function(m,y){new hn(y,m,function(S){return r[S].data.getId(r[S].dataIndex)},function(S){return n[S].data.getId(n[S].dataIndex)}).update(function(S,b){p(m[S],y[b])}).execute()}).execute(),u&&D(t,function(m){var y=m.data,S=y.hostModel,b=S&&e.getViewOfSeriesModel(S),x=ka("update",S,0);b&&S.isAnimationEnabled()&&x&&x.duration>0&&b.group.traverse(function(_){_ instanceof be&&!_.animators.length&&_.animateFrom({style:{opacity:0}},x)})})}function oo(a){var t=a.getModel("universalTransition").get("seriesKey");return t||a.id}function so(a){return j(a)?a.sort().join(","):a}function Be(a){if(a.hostModel)return a.hostModel.getModel("universalTransition").get("divideShape")}function Jp(a,t){var e=W(),r=W(),n=W();return D(a.oldSeries,function(i,o){var s=a.oldDataGroupIds[o],l=a.oldData[o],u=oo(i),v=so(u);r.set(v,{dataGroupId:s,data:l}),j(u)&&D(u,function(c){n.set(c,{key:v,dataGroupId:s,data:l})})}),D(t.updatedSeries,function(i){if(i.isUniversalTransitionEnabled()&&i.isAnimationEnabled()){var o=i.get("dataGroupId"),s=i.getData(),l=oo(i),u=so(l),v=r.get(u);if(v)e.set(u,{oldSeries:[{dataGroupId:v.dataGroupId,divide:Be(v.data),data:v.data}],newSeries:[{dataGroupId:o,divide:Be(s),data:s}]});else if(j(l)){var c=[];D(l,function(g){var d=r.get(g);d.data&&c.push({dataGroupId:d.dataGroupId,divide:Be(d.data),data:d.data})}),c.length&&e.set(u,{oldSeries:c,newSeries:[{dataGroupId:o,data:s,divide:Be(s)}]})}else{var f=n.get(l);if(f){var h=e.get(f.key);h||(h={oldSeries:[{dataGroupId:f.dataGroupId,data:f.data,divide:Be(f.data)}],newSeries:[]},e.set(f.key,h)),h.newSeries.push({dataGroupId:o,data:s,divide:Be(s)})}}}}),e}function lo(a,t){for(var e=0;e<a.length;e++){var r=t.seriesIndex!=null&&t.seriesIndex===a[e].seriesIndex||t.seriesId!=null&&t.seriesId===a[e].id;if(r)return e}}function qp(a,t,e,r){var n=[],i=[];D(mt(a.from),function(o){var s=lo(t.oldSeries,o);s>=0&&n.push({dataGroupId:t.oldDataGroupIds[s],data:t.oldData[s],divide:Be(t.oldData[s]),dim:o.dimension})}),D(mt(a.to),function(o){var s=lo(e.updatedSeries,o);if(s>=0){var l=e.updatedSeries[s].getData();i.push({dataGroupId:t.oldDataGroupIds[s],data:l,divide:Be(l),dim:o.dimension})}}),n.length>0&&i.length>0&&il(n,i,r)}function Kp(a){a.registerUpdateLifecycle("series:beforeupdate",function(t,e,r){D(mt(r.seriesTransition),function(n){D(mt(n.to),function(i){for(var o=r.updatedSeries,s=0;s<o.length;s++)(i.seriesIndex!=null&&i.seriesIndex===o[s].seriesIndex||i.seriesId!=null&&i.seriesId===o[s].id)&&(o[s][wr]=!0)})})}),a.registerUpdateLifecycle("series:transition",function(t,e,r){var n=Xp(e);if(n.oldSeries&&r.updatedSeries&&r.optionChanged){var i=r.seriesTransition;if(i)D(mt(i),function(h){qp(h,n,r,e)});else{var o=Jp(n,r);D(o.keys(),function(h){var g=o.get(h);il(g.oldSeries,g.newSeries,e)})}D(r.updatedSeries,function(h){h[wr]&&(h[wr]=!1)})}for(var s=t.getSeries(),l=n.oldSeries=[],u=n.oldDataGroupIds=[],v=n.oldData=[],c=0;c<s.length;c++){var f=s[c].getData();f.count()<nl&&(l.push(s[c]),u.push(s[c].get("dataGroupId")),v.push(f))}})}ge([Pd,Cd,Xg,Zv,Cp,Uv,Xv,zc,ah,yh,mg,lg,vf,Kp,Zd,gp]);function tm(a,t="default"){const{isDark:e}=ll(),r=Ja(()=>t==="default"?t:e?"dark":"light");let n=null,i=v;const o=ul({});i=fl(v,200);const s=Ja(()=>r.value!=="dark"?o.value:{backgroundColor:"transparent",...o.value});function l(f=t){const h=Mt(a);!h||!Mt(h)||(n=bn.init(h,f),dl(window,"resize",i))}function u(f,h=!0){var g;if(o.value=f,((g=Mt(a))==null?void 0:g.offsetHeight)===0){qa(()=>{u(Mt(s))},30);return}gl(()=>{qa(()=>{!n&&(l(r.value),!n)||(h&&(n==null||n.clear()),n==null||n.setOption(Mt(s)))},30)})}function v(){n==null||n.resize()}vl(()=>window.removeEventListener("resize",i)),cl(()=>r.value,f=>{n&&(n.dispose(),l(f),u(o.value))}),hl(()=>{n&&(n.dispose(),n=null)});function c(){return n||l(r.value),n}return{setOptions:u,resize:v,echarts:bn,getInstance:c}}export{tm as u};
