import{ab as T,d as P,a as g,ac as F,aj as w,af as C,an as L,p as _,cP as H,ci as q,cp as G,am as O,ai as J,_ as K,ak as U,c as j,ch as Y,m as z,cS as Z,aa as Q,S as W,a0 as X,o as ee,w as ae,f as B,k as S,x as $,g as R,u as f,j as V,z as te,q as A,F as oe,G as ne,I as re,y as se,J as ce,s as le}from"./index-2d318566.js";import{B as ie}from"./index-649ab5be.js";import{u as ue,N as de}from"./index-f93f27f2.js";import{_ as me}from"./plugin-vue_export-helper-c27b6911.js";import{r as fe,u as _e}from"./use-route-e384b3a3.js";const[M,N]=T("tabbar"),be={route:Boolean,fixed:w,border:w,zIndex:C,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:L(0),safeAreaInsetBottom:{type:Boolean,default:null}},D=Symbol(M);var ve=P({name:M,props:be,emits:["change","update:modelValue"],setup(a,{emit:b,slots:o}){const u=g(),{linkChildren:v}=F(D),l=ue(u,N),p=()=>{var t;return(t=a.safeAreaInsetBottom)!=null?t:a.fixed},n=()=>{var t;const{fixed:r,zIndex:e,border:s}=a;return _("div",{ref:u,role:"tablist",style:H(e),class:[N({fixed:r}),{[q]:s,"van-safe-area-bottom":p()}]},[(t=o.default)==null?void 0:t.call(o)])};return v({props:a,setActive:(t,r)=>{G(a.beforeChange,{args:[t],done(){b("update:modelValue",t),b("change",t),r()}})}}),()=>a.fixed&&a.placeholder?l(n):n()}});const pe=O(ve),[he,k]=T("tabbar-item"),ge=J({},fe,{dot:Boolean,icon:String,name:C,badge:C,badgeProps:Object,iconPrefix:String});var xe=P({name:he,props:ge,emits:["click"],setup(a,{emit:b,slots:o}){const u=_e(),v=K().proxy,{parent:l,index:p}=U(D);if(!l)return;const n=j(()=>{var r;const{route:e,modelValue:s}=l.props;if(e&&"$route"in v){const{$route:h}=v,{to:m}=a,i=Z(m)?m:{path:m};return!!h.matched.find(x=>{const y="path"in i&&i.path===x.path,c="name"in i&&i.name===x.name;return y||c})}return((r=a.name)!=null?r:p.value)===s}),d=r=>{var e;n.value||l.setActive((e=a.name)!=null?e:p.value,u),b("click",r)},t=()=>{if(o.icon)return o.icon({active:n.value});if(a.icon)return _(Q,{name:a.icon,classPrefix:a.iconPrefix},null)};return()=>{var r;const{dot:e,badge:s}=a,{activeColor:h,inactiveColor:m}=l.props,i=n.value?h:m;return _("div",{role:"tab",class:k({active:n.value}),style:{color:i},tabindex:0,"aria-selected":n.value,onClick:d},[_(Y,z({dot:e,class:k("icon"),content:s},a.badgeProps),{default:t}),_("div",{class:k("text")},[(r=o.default)==null?void 0:r.call(o,{active:n.value})])])}}});const ye=O(xe);const Be={class:"layout__container"},ke={class:"layout__header"},Ce=P({name:"Layout"}),Pe=Object.assign(Ce,{props:{withHeader:{type:Boolean,default:!0},title:{type:String,default:""}},emits:["change"],setup(a,{emit:b}){const o=W();X();const u=g(!1),v=j(()=>{var e;return((e=o.currentRoute.value.meta)==null?void 0:e.level)>1}),l=g(!1),p=()=>{o.back()};ee(()=>{});const n=g(!0),d=g("Name"),t=[{title:"首页",to:{name:"Home"},icon:"home-o"},{title:"案例",to:{name:"Demo"},icon:"apps-o"},{title:"我的",to:{name:"About"},icon:"user-o"}];ae(()=>o,()=>{const e=t.some(s=>s.to.name===o.currentRoute.value.name);d.value=t.findIndex(s=>s.to.name===o.currentRoute.value.name),n.value=e},{deep:!0,immediate:!0});const r=e=>{b("change",e)};return(e,s)=>{var y;const h=de,m=ie,i=ye,x=pe;return B(),S("div",Be,[$("div",ke,[e.$slots.header?V(e.$slots,"header",{key:1},void 0,!0):(B(),R(h,{key:0,fixed:f(u),placeholder:f(u),"safe-area-inset-top":"","left-arrow":f(v),title:a.title||((y=e.$route.meta)==null?void 0:y.title),onClickLeft:p},null,8,["fixed","placeholder","left-arrow","title"]))]),$("div",{class:te(["layout__body",{"show-navbar":f(l)},{"show-tabbar":f(n)}])},[V(e.$slots,"default",{},void 0,!0),_(m,{bottom:"10vh"})],2),f(n)?(B(),R(x,z({key:0,modelValue:f(d),"onUpdate:modelValue":s[0]||(s[0]=c=>ce(d)?d.value=c:null),class:"layout-tabbar",fixed:!1,border:"","z-index":9,route:""},e.$attrs,{onChange:r}),{default:A(()=>[(B(),S(oe,null,ne(t,(c,E)=>{var I;return _(i,{id:"tabbar-item-"+((I=c.to)==null?void 0:I.name),key:c.to+E,icon:c.icon,to:c.to},{default:A(()=>[re(se(c.title),1)]),_:2},1032,["id","icon","to"])}),64))]),_:1},16,["modelValue"])):le("",!0)])}}}),Ve=me(Pe,[["__scopeId","data-v-4c574a1f"]]);export{Ve as _};
