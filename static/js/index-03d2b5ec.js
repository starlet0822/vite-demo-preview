import{Z as w,d as C,a as g,c as T,_ as L,cO as M,c5 as A,cw as J,cP as K,o as F,bk as X,bn as Y,w as q,p as u,X as H,m as $,aI as W,$ as y,av as Q,cQ as ee,c9 as te,B as ae,cR as oe,a3 as S,ao as ne,at as V,cj as re,ct as se,ad as le,a1 as ce,a2 as ie,cS as ue,Q as de,a6 as me,f as B,k as N,x as O,g as j,u as p,j as z,q as D,F as fe,G as ve,I as be,y as _e,J as he,s as ge,z as pe}from"./index-5560da19.js";import{N as ye}from"./index-0e6beb51.js";import{_ as xe}from"./plugin-vue_export-helper-c27b6911.js";import{u as ke}from"./use-placeholder-87cf9818.js";import{r as Be,u as Ce}from"./use-route-23f883a9.js";const[Pe,P]=w("back-top"),Ie={right:y,bottom:y,zIndex:y,target:[String,Object],offset:Q(200),immediate:Boolean,teleport:{type:[String,Object],default:"body"}};var we=C({name:Pe,inheritAttrs:!1,props:Ie,emits:["click"],setup(e,{emit:_,slots:n,attrs:f}){let d=!1;const l=g(!1),m=g(),a=g(),v=T(()=>L(M(e.zIndex),{right:A(e.right),bottom:A(e.bottom)})),o=c=>{var i;_("click",c),(i=a.value)==null||i.scrollTo({top:0,behavior:e.immediate?"auto":"smooth"})},r=()=>{l.value=a.value?ee(a.value)>=+e.offset:!1},t=()=>{const{target:c}=e;if(typeof c=="string"){const i=document.querySelector(c);if(i)return i}else return c},s=()=>{te&&ae(()=>{a.value=e.target?t():oe(m.value),r()})};return J("scroll",K(r,100),{target:a}),F(s),X(()=>{d&&(l.value=!0,d=!1)}),Y(()=>{l.value&&e.teleport&&(l.value=!1,d=!0)}),q(()=>e.target,s),()=>{const c=u("div",$({ref:e.teleport?void 0:m,class:P({active:l.value}),style:v.value,onClick:o},f),[n.default?n.default():u(H,{name:"back-top",class:P("icon")},null)]);return e.teleport?[u("div",{ref:m,class:P("placeholder")},null),u(W,{to:e.teleport},{default:()=>[c]})]:c}}});const Te=S(we),[U,E]=w("tabbar"),$e={route:Boolean,fixed:V,border:V,zIndex:y,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:Q(0),safeAreaInsetBottom:{type:Boolean,default:null}},Z=Symbol(U);var Se=C({name:U,props:$e,emits:["change","update:modelValue"],setup(e,{emit:_,slots:n}){const f=g(),{linkChildren:d}=ne(Z),l=ke(f,E),m=()=>{var o;return(o=e.safeAreaInsetBottom)!=null?o:e.fixed},a=()=>{var o;const{fixed:r,zIndex:t,border:s}=e;return u("div",{ref:f,role:"tablist",style:M(t),class:[E({fixed:r}),{[re]:s,"van-safe-area-bottom":m()}]},[(o=n.default)==null?void 0:o.call(n)])};return d({props:e,setActive:(o,r)=>{se(e.beforeChange,{args:[o],done(){_("update:modelValue",o),_("change",o),r()}})}}),()=>e.fixed&&e.placeholder?l(a):a()}});const Re=S(Se),[Ae,I]=w("tabbar-item"),Ve=L({},Be,{dot:Boolean,icon:String,name:y,badge:y,badgeProps:Object,iconPrefix:String});var Ne=C({name:Ae,props:Ve,emits:["click"],setup(e,{emit:_,slots:n}){const f=Ce(),d=le().proxy,{parent:l,index:m}=ce(Z);if(!l)return;const a=T(()=>{var r;const{route:t,modelValue:s}=l.props;if(t&&"$route"in d){const{$route:c}=d,{to:i}=e,h=ue(i)?i:{path:i};return!!c.matched.find(x=>{const k="path"in h&&h.path===x.path,b="name"in h&&h.name===x.name;return k||b})}return((r=e.name)!=null?r:m.value)===s}),v=r=>{var t;a.value||l.setActive((t=e.name)!=null?t:m.value,f),_("click",r)},o=()=>{if(n.icon)return n.icon({active:a.value});if(e.icon)return u(H,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var r;const{dot:t,badge:s}=e,{activeColor:c,inactiveColor:i}=l.props,h=a.value?c:i;return u("div",{role:"tab",class:I({active:a.value}),style:{color:h},tabindex:0,"aria-selected":a.value,onClick:v},[u(ie,$({dot:t,class:I("icon"),content:s},e.badgeProps),{default:o}),u("div",{class:I("text")},[(r=n.default)==null?void 0:r.call(n,{active:a.value})])])}}});const Oe=S(Ne);const je={class:"layout__container"},ze={class:"layout__header"},De=C({name:"Layout"}),Ee=Object.assign(De,{props:{withHeader:{type:Boolean,default:!0},title:{type:String,default:""}},emits:["change"],setup(e,{emit:_}){const n=de();me();const f=g(!1),d=T(()=>{var t;return((t=n.currentRoute.value.meta)==null?void 0:t.level)>1}),l=g(!1),m=()=>{n.back()};F(()=>{});const a=g(!0),v=g("Name"),o=[{title:"首页",to:{name:"Home"},icon:"home-o"},{title:"案例",to:{name:"Demo"},icon:"apps-o"},{title:"我的",to:{name:"About"},icon:"user-o"}];q(()=>n,()=>{const t=o.some(s=>s.to.name===n.currentRoute.value.name);v.value=o.findIndex(s=>s.to.name===n.currentRoute.value.name),a.value=t},{deep:!0,immediate:!0});const r=t=>{_("change",t)};return(t,s)=>{var k;const c=ye,i=Oe,h=Re,x=Te;return B(),N("div",je,[O("div",ze,[t.$slots.header?z(t.$slots,"header",{key:1},void 0,!0):(B(),j(c,{key:0,fixed:p(f),placeholder:p(f),"safe-area-inset-top":"","left-arrow":p(d),title:e.title||((k=t.$route.meta)==null?void 0:k.title),onClickLeft:m},null,8,["fixed","placeholder","left-arrow","title"]))]),O("div",{class:pe(["layout__body",{"layout__body--show-navbar":p(l)},{"layout__body--show-tabbar":p(a)}])},[z(t.$slots,"default",{},void 0,!0),p(a)?(B(),j(h,$({key:0,modelValue:p(v),"onUpdate:modelValue":s[0]||(s[0]=b=>he(v)?v.value=b:null),class:"layout-tabbar",fixed:!0,border:"","z-index":9,route:""},t.$attrs,{onChange:r}),{default:D(()=>[(B(),N(fe,null,ve(o,(b,G)=>{var R;return u(i,{id:"tabbar-item-"+((R=b.to)==null?void 0:R.name),key:b.to+G,icon:b.icon,to:b.to,replace:""},{default:D(()=>[be(_e(b.title),1)]),_:2},1032,["id","icon","to"])}),64))]),_:1},16,["modelValue"])):ge("",!0),u(x,{right:"5vw",bottom:"10vh"})],2)])}}}),Qe=xe(Ee,[["__scopeId","data-v-e8908f76"]]);export{Qe as _};
