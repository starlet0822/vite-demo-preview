import{a1 as T,d as C,a as g,c as $,a2 as D,cO as M,cg as O,cd as Y,cP as Z,o as q,bl as W,bo as X,w as F,p as i,P as U,m as I,aJ as ee,a3 as y,av as H,cQ as te,ca as ae,B as J,cR as oe,a7 as R,c5 as ne,ax as V,ck as re,cu as le,ak as se,a5 as ce,a6 as ue,cS as ie,U as de,aa as me,cT as fe,f as B,k as N,x as P,g as j,u as p,j as z,q as E,F as ve,G as be,y as _e,J as he,s as ge,z as pe}from"./index-77177c83.js";import{N as ye}from"./index-7f52ffa2.js";import{_ as xe}from"./plugin-vue_export-helper-c27b6911.js";import{u as ke}from"./use-placeholder-5c3b86a0.js";import{r as Be,u as Ce}from"./use-route-304183c5.js";const[Pe,w]=T("back-top"),we={right:y,bottom:y,zIndex:y,target:[String,Object],offset:H(200),immediate:Boolean,teleport:{type:[String,Object],default:"body"}};var Se=C({name:Pe,inheritAttrs:!1,props:we,emits:["click"],setup(e,{emit:f,slots:r,attrs:v}){let d=!1;const s=g(!1),m=g(),a=g(),b=$(()=>D(M(e.zIndex),{right:O(e.right),bottom:O(e.bottom)})),o=c=>{var u;f("click",c),(u=a.value)==null||u.scrollTo({top:0,behavior:e.immediate?"auto":"smooth"})},l=()=>{s.value=a.value?te(a.value)>=+e.offset:!1},t=()=>{const{target:c}=e;if(typeof c=="string"){const u=document.querySelector(c);if(u)return u}else return c},n=()=>{ae&&J(()=>{a.value=e.target?t():oe(m.value),l()})};return Y("scroll",Z(l,100),{target:a}),q(n),W(()=>{d&&(s.value=!0,d=!1)}),X(()=>{s.value&&e.teleport&&(s.value=!1,d=!0)}),F(()=>e.target,n),()=>{const c=i("div",I({ref:e.teleport?void 0:m,class:w({active:s.value}),style:b.value,onClick:o},v),[r.default?r.default():i(U,{name:"back-top",class:w("icon")},null)]);return e.teleport?[i("div",{ref:m,class:w("placeholder")},null),i(ee,{to:e.teleport},{default:()=>[c]})]:c}}});const Te=R(Se),[G,L]=T("tabbar"),$e={route:Boolean,fixed:V,border:V,zIndex:y,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:H(0),safeAreaInsetBottom:{type:Boolean,default:null}},K=Symbol(G);var Ie=C({name:G,props:$e,emits:["change","update:modelValue"],setup(e,{emit:f,slots:r}){const v=g(),{linkChildren:d}=ne(K),s=ke(v,L),m=()=>{var o;return(o=e.safeAreaInsetBottom)!=null?o:e.fixed},a=()=>{var o;const{fixed:l,zIndex:t,border:n}=e;return i("div",{ref:v,role:"tablist",style:M(t),class:[L({fixed:l}),{[re]:n,"van-safe-area-bottom":m()}]},[(o=r.default)==null?void 0:o.call(r)])};return d({props:e,setActive:(o,l)=>{le(e.beforeChange,{args:[o],done(){f("update:modelValue",o),f("change",o),l()}})}}),()=>e.fixed&&e.placeholder?s(a):a()}});const Re=R(Ie),[Ae,S]=T("tabbar-item"),Oe=D({},Be,{dot:Boolean,icon:String,name:y,badge:y,badgeProps:Object,iconPrefix:String});var Ve=C({name:Ae,props:Oe,emits:["click"],setup(e,{emit:f,slots:r}){const v=Ce(),d=se().proxy,{parent:s,index:m}=ce(K);if(!s)return;const a=$(()=>{var l;const{route:t,modelValue:n}=s.props;if(t&&"$route"in d){const{$route:c}=d,{to:u}=e,h=ie(u)?u:{path:u};return!!c.matched.find(x=>{const k="path"in h&&h.path===x.path,_="name"in h&&h.name===x.name;return k||_})}return((l=e.name)!=null?l:m.value)===n}),b=l=>{var t;a.value||s.setActive((t=e.name)!=null?t:m.value,v),f("click",l)},o=()=>{if(r.icon)return r.icon({active:a.value});if(e.icon)return i(U,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var l;const{dot:t,badge:n}=e,{activeColor:c,inactiveColor:u}=s.props,h=a.value?c:u;return i("div",{role:"tab",class:S({active:a.value}),style:{color:h},tabindex:0,"aria-selected":a.value,onClick:b},[i(ue,I({dot:t,class:S("icon"),content:n},e.badgeProps),{default:o}),i("div",{class:S("text")},[(l=r.default)==null?void 0:l.call(r,{active:a.value})])])}}});const Ne=R(Ve);const je={class:"layout__container"},ze={class:"layout__header"},Ee=C({name:"Layout"}),Le=Object.assign(Ee,{props:{withHeader:{type:Boolean,default:!0},title:{type:String,default:""}},emits:["change","body-scroll"],setup(e,{emit:f}){const r=de();me();const v=g(!1),d=$(()=>{var t;return((t=r.currentRoute.value.meta)==null?void 0:t.level)>1}),s=g(!1),m=()=>{r.back()};q(async()=>{await J();const t=document.querySelector(".layout__container .layout__body");fe(t,"scroll",n=>{f("body-scroll",n)})});const a=g(!0),b=g("Name"),o=[{title:"首页",to:{name:"Home"},icon:"home-o"},{title:"案例",to:{name:"Demo"},icon:"apps-o"},{title:"我的",to:{name:"About"},icon:"user-o"}];F(()=>r,()=>{const t=o.some(n=>n.to.name===r.currentRoute.value.name);b.value=o.findIndex(n=>n.to.name===r.currentRoute.value.name),a.value=t},{deep:!0,immediate:!0});const l=t=>{f("change",t)};return(t,n)=>{var k;const c=ye,u=Ne,h=Re,x=Te;return B(),N("div",je,[P("div",ze,[t.$slots.header?z(t.$slots,"header",{key:1},void 0,!0):(B(),j(c,{key:0,fixed:p(v),placeholder:p(v),"safe-area-inset-top":"","left-arrow":p(d),title:e.title||((k=t.$route.meta)==null?void 0:k.title),onClickLeft:m},null,8,["fixed","placeholder","left-arrow","title"]))]),P("div",{class:pe(["layout__body",{"layout__body--show-navbar":p(s)},{"layout__body--show-tabbar":p(a)}])},[z(t.$slots,"default",{},void 0,!0),p(a)?(B(),j(h,I({key:0,modelValue:p(b),"onUpdate:modelValue":n[0]||(n[0]=_=>he(b)?b.value=_:null),class:"layout-tabbar",fixed:!0,border:"","z-index":9,route:""},t.$attrs,{onChange:l}),{default:E(()=>[(B(),N(ve,null,be(o,(_,Q)=>{var A;return i(u,{id:"tabbar-item-"+((A=_.to)==null?void 0:A.name),key:_.to+Q,to:_.to,icon:_.icon,replace:""},{default:E(()=>[P("span",null,_e(_.title),1)]),_:2},1032,["id","to","icon"])}),64))]),_:1},16,["modelValue"])):ge("",!0),i(x,{right:"5vw",bottom:"10vh"})],2)])}}}),He=xe(Le,[["__scopeId","data-v-9486822a"]]);export{He as _};
