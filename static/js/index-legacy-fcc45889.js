!function(){function r(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,n){var e=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=e){var o,t,a,i,l=[],u=!0,c=!1;try{if(a=(e=e.call(r)).next,0===n){if(Object(e)!==e)return;u=!1}else for(;!(u=(o=a.call(e)).done)&&(l.push(o.value),l.length!==n);u=!0);}catch(f){c=!0,t=f}finally{try{if(!u&&null!=e.return&&(i=e.return(),Object(i)!==i))return}finally{if(c)throw t}}return l}}(r,e)||function(r,e){if(!r)return;if("string"==typeof r)return n(r,e);var o=Object.prototype.toString.call(r).slice(8,-1);"Object"===o&&r.constructor&&(o=r.constructor.name);if("Map"===o||"Set"===o)return Array.from(r);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return n(r,e)}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(r,n){(null==n||n>r.length)&&(n=r.length);for(var e=0,o=new Array(n);e<n;e++)o[e]=r[e];return o}System.register(["./index-legacy-344aed7a.js"],(function(n,e){"use strict";var o,t,a,i,l,u,c,f,s,d,v,g,y,h,m,p,b,w,S,j,x;return{setters:[function(r){o=r.a1,t=r.d,a=r.a,i=r.ak,l=r.c,u=r.cg,c=r.ct,f=r.w,s=r.ca,d=r.at,v=r.o,g=r.B,y=r.p,h=r.a3,m=r.ax,p=r.au,b=r.v,w=r.M,S=r.m,j=r.P,x=r.a7}],execute:function(){var e=r(o("image"),2),z=e[0],I=e[1],L={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:h,height:h,radius:h,lazyLoad:Boolean,iconSize:h,showError:m,errorIcon:p("photo-fail"),iconPrefix:String,showLoading:m,loadingIcon:p("photo")},A=t({name:z,props:L,emits:["load","error"],setup:function(r,n){var e=n.emit,o=n.slots,t=a(!1),h=a(!0),m=a(),p=i().proxy.$Lazyload,x=l((function(){var n={width:u(r.width),height:u(r.height)};return c(r.radius)&&(n.overflow="hidden",n.borderRadius=u(r.radius)),n}));f((function(){return r.src}),(function(){t.value=!1,h.value=!0}));var z=function(r){h.value&&(h.value=!1,e("load",r))},L=function(){var r=new Event("load");Object.defineProperty(r,"target",{value:m.value,enumerable:!0}),z(r)},A=function(r){t.value=!0,h.value=!1,e("error",r)},P=function(n,e,o){return o?o():y(j,{name:n,size:r.iconSize,class:e,classPrefix:r.iconPrefix},null)},$=function(){if(!t.value&&r.src){var n={alt:r.alt,class:I("img"),style:{objectFit:r.fit,objectPosition:r.position}};return r.lazyLoad?b(y("img",S({ref:m},n),null),[[w("lazy"),r.src]]):y("img",S({ref:m,src:r.src,onLoad:z,onError:A},n),null)}},E=function(r){var n=r.el,e=function(){n===m.value&&h.value&&L()};m.value?e():g(e)},O=function(r){r.el!==m.value||t.value||A()};return p&&s&&(p.$on("loaded",E),p.$on("error",O),d((function(){p.$off("loaded",E),p.$off("error",O)}))),v((function(){g((function(){var n;(null==(n=m.value)?void 0:n.complete)&&!r.lazyLoad&&L()}))})),function(){var n;return y("div",{class:I({round:r.round,block:r.block}),style:x.value},[$(),h.value&&r.showLoading?y("div",{class:I("loading")},[P(r.loadingIcon,I("loading-icon"),o.loading)]):t.value&&r.showError?y("div",{class:I("error")},[P(r.errorIcon,I("error-icon"),o.error)]):void 0,null==(n=o.default)?void 0:n.call(o)])}}});n("I",x(A))}}}))}();
