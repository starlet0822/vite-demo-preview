import{ab as I,d as C,a as g,c as w,ai as L,cQ as M,c0 as R,cz as J,cT as K,o as F,be as Z,bh as W,w as U,p as u,aa as q,m as S,aB as X,af as x,an as H,cS as ee,c7 as te,B as ae,cU as oe,am as $,ac as ne,aj as V,ci as re,cp as se,Y as le,ak as ce,ch as ie,cV as ue,Q as de,_ as me,f as B,k as N,x as O,g as j,u as p,j as z,q as D,F as fe,G as ve,I as be,y as _e,J as he,s as ge,z as pe}from"./index-bf5293ec.js";import{u as xe,N as ke}from"./index-190fcdfb.js";import{_ as ye}from"./plugin-vue_export-helper-c27b6911.js";import{r as Be,u as Ce}from"./use-route-27ae2cd1.js";const[Pe,P]=I("back-top"),Te={right:x,bottom:x,zIndex:x,target:[String,Object],offset:H(200),immediate:Boolean,teleport:{type:[String,Object],default:"body"}};var Ie=C({name:Pe,inheritAttrs:!1,props:Te,emits:["click"],setup(e,{emit:_,slots:n,attrs:f}){let d=!1;const l=g(!1),m=g(),a=g(),v=w(()=>L(M(e.zIndex),{right:R(e.right),bottom:R(e.bottom)})),o=c=>{var i;_("click",c),(i=a.value)==null||i.scrollTo({top:0,behavior:e.immediate?"auto":"smooth"})},r=()=>{l.value=a.value?ee(a.value)>=+e.offset:!1},t=()=>{const{target:c}=e;if(typeof c=="string"){const i=document.querySelector(c);if(i)return i}else return c},s=()=>{te&&ae(()=>{a.value=e.target?t():oe(m.value),r()})};return J("scroll",K(r,100),{target:a}),F(s),Z(()=>{d&&(l.value=!0,d=!1)}),W(()=>{l.value&&e.teleport&&(l.value=!1,d=!0)}),U(()=>e.target,s),()=>{const c=u("div",S({ref:e.teleport?void 0:m,class:P({active:l.value}),style:v.value,onClick:o},f),[n.default?n.default():u(q,{name:"back-top",class:P("icon")},null)]);return e.teleport?[u("div",{ref:m,class:P("placeholder")},null),u(X,{to:e.teleport},{default:()=>[c]})]:c}}});const we=$(Ie),[Q,E]=I("tabbar"),Se={route:Boolean,fixed:V,border:V,zIndex:x,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:H(0),safeAreaInsetBottom:{type:Boolean,default:null}},Y=Symbol(Q);var $e=C({name:Q,props:Se,emits:["change","update:modelValue"],setup(e,{emit:_,slots:n}){const f=g(),{linkChildren:d}=ne(Y),l=xe(f,E),m=()=>{var o;return(o=e.safeAreaInsetBottom)!=null?o:e.fixed},a=()=>{var o;const{fixed:r,zIndex:t,border:s}=e;return u("div",{ref:f,role:"tablist",style:M(t),class:[E({fixed:r}),{[re]:s,"van-safe-area-bottom":m()}]},[(o=n.default)==null?void 0:o.call(n)])};return d({props:e,setActive:(o,r)=>{se(e.beforeChange,{args:[o],done(){_("update:modelValue",o),_("change",o),r()}})}}),()=>e.fixed&&e.placeholder?l(a):a()}});const Ae=$($e),[Re,T]=I("tabbar-item"),Ve=L({},Be,{dot:Boolean,icon:String,name:x,badge:x,badgeProps:Object,iconPrefix:String});var Ne=C({name:Re,props:Ve,emits:["click"],setup(e,{emit:_,slots:n}){const f=Ce(),d=le().proxy,{parent:l,index:m}=ce(Y);if(!l)return;const a=w(()=>{var r;const{route:t,modelValue:s}=l.props;if(t&&"$route"in d){const{$route:c}=d,{to:i}=e,h=ue(i)?i:{path:i};return!!c.matched.find(k=>{const y="path"in h&&h.path===k.path,b="name"in h&&h.name===k.name;return y||b})}return((r=e.name)!=null?r:m.value)===s}),v=r=>{var t;a.value||l.setActive((t=e.name)!=null?t:m.value,f),_("click",r)},o=()=>{if(n.icon)return n.icon({active:a.value});if(e.icon)return u(q,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var r;const{dot:t,badge:s}=e,{activeColor:c,inactiveColor:i}=l.props,h=a.value?c:i;return u("div",{role:"tab",class:T({active:a.value}),style:{color:h},tabindex:0,"aria-selected":a.value,onClick:v},[u(ie,S({dot:t,class:T("icon"),content:s},e.badgeProps),{default:o}),u("div",{class:T("text")},[(r=n.default)==null?void 0:r.call(n,{active:a.value})])])}}});const Oe=$(Ne);const je={class:"layout__container"},ze={class:"layout__header"},De=C({name:"Layout"}),Ee=Object.assign(De,{props:{withHeader:{type:Boolean,default:!0},title:{type:String,default:""}},emits:["change"],setup(e,{emit:_}){const n=de();me();const f=g(!1),d=w(()=>{var t;return((t=n.currentRoute.value.meta)==null?void 0:t.level)>1}),l=g(!1),m=()=>{n.back()};F(()=>{});const a=g(!0),v=g("Name"),o=[{title:"首页",to:{name:"Home"},icon:"home-o"},{title:"案例",to:{name:"Demo"},icon:"apps-o"},{title:"我的",to:{name:"About"},icon:"user-o"}];U(()=>n,()=>{const t=o.some(s=>s.to.name===n.currentRoute.value.name);v.value=o.findIndex(s=>s.to.name===n.currentRoute.value.name),a.value=t},{deep:!0,immediate:!0});const r=t=>{_("change",t)};return(t,s)=>{var y;const c=ke,i=Oe,h=Ae,k=we;return B(),N("div",je,[O("div",ze,[t.$slots.header?z(t.$slots,"header",{key:1},void 0,!0):(B(),j(c,{key:0,fixed:p(f),placeholder:p(f),"safe-area-inset-top":"","left-arrow":p(d),title:e.title||((y=t.$route.meta)==null?void 0:y.title),onClickLeft:m},null,8,["fixed","placeholder","left-arrow","title"]))]),O("div",{class:pe(["layout__body",{"show-navbar":p(l)},{"show-tabbar":p(a)}])},[z(t.$slots,"default",{},void 0,!0),p(a)?(B(),j(h,S({key:0,modelValue:p(v),"onUpdate:modelValue":s[0]||(s[0]=b=>he(v)?v.value=b:null),class:"layout-tabbar",fixed:!0,border:"","z-index":9,route:""},t.$attrs,{onChange:r}),{default:D(()=>[(B(),N(fe,null,ve(o,(b,G)=>{var A;return u(i,{id:"tabbar-item-"+((A=b.to)==null?void 0:A.name),key:b.to+G,icon:b.icon,to:b.to},{default:D(()=>[be(_e(b.title),1)]),_:2},1032,["id","icon","to"])}),64))]),_:1},16,["modelValue"])):ge("",!0),u(k,{right:"5vw",bottom:"10vh"})],2)])}}}),qe=ye(Ee,[["__scopeId","data-v-ce448824"]]);export{qe as _};
