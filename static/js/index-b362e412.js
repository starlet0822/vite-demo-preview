import{_ as pe}from"./index-03d2b5ec.js";import{d as Q,Q as J,a as t,c as W,o as K,O as X,M as Y,f,k as b,p as n,q as c,x as i,u as e,J as U,F as P,G as A,v as H,y as w,A as Z,g as z,s as ee,U as te,I as ie,V as fe,W as me,X as re,Y as ve,P as he,i as ge}from"./index-5560da19.js";/* empty css              */import{_ as ye}from"./index-fb7ed376.js";import{L as oe,P as se,D as ue,a as de}from"./index-5456a41c.js";import{_ as ae}from"./index-c420e702.js";import"./index-462a24ae.js";import"./index-ef67e059.js";import{S as _e}from"./index-c2f99ee5.js";import{g as q}from"./dict-e1f4519f.js";import{_ as E}from"./plugin-vue_export-helper-c27b6911.js";import{_ as ce}from"./index-dabc938b.js";import{T as we}from"./index-f6547fca.js";import{C as ke,R as Se}from"./index-8ea4ee1f.js";import{T as Fe,a as xe,S as Ce}from"./index-e2b6ecb5.js";import"./index-0e6beb51.js";import"./use-placeholder-87cf9818.js";import"./use-route-23f883a9.js";import"./use-id-e390e938.js";import"./index-b9dd3661.js";import"./use-sync-prop-ref-d69e1c72.js";import"./index-7fe5bd41.js";import"./index-9a989bb3.js";const $e={class:"mock-list"},be={class:"list-wrapper"},Re={class:"item-name"},Te={class:"item-time"},Le={class:"item-user"},Ve=Q({name:"ListDemo"}),Me=Object.assign(Ve,{setup(G){J(),t(null);const v=t(1),T=t(20),_=t(0),o=t([]),r=t(!0),k=t(!1),a=t(!1),S=W(()=>o.value.length?"没有更多了":"");t(null);const F=t({order:"asc",prop:"createTime"}),p=async()=>{try{a.value&&(o.value=[],a.value=!1);const m={pageNo:v.value,pageSize:T.value,...F.value},x=await te.getWorkOrderList(m);if(x.code===0){v.value+=1;const{rows:M,total:I}=x.data??{};_.value=I,o.value=v.value===1?M:o.value.concat(M),o.value.length>=_.value&&(k.value=!0)}}catch(m){console.error("捕获异常",m)}finally{r.value=!1}},L=()=>{a.value=!0,k.value=!1,r.value=!0,v.value=1,p()};K(()=>{p()});const h=new Map([["-1","全部"],["0","处理中"],["1","已完结"],["2","被退回"]]),R=new Map([["0","#2e6cf3"],["1","#ff0000"],["2","#05a081"]]);document.querySelector(".todo-list");const V=X("2003-10-08 08:43").isBefore("2003-10-08 08:43","m");return console.log("flag:",V),q(h),(m,x)=>{const M=_e,I=oe,C=ae,u=se,d=Y("waves");return f(),b("div",$e,[n(M,{modelValue:e(F).name,"onUpdate:modelValue":x[0]||(x[0]=l=>e(F).name=l),shape:"round",placeholder:"搜索关键词","show-action":!0},{action:c(()=>[i("div",{onClick:L},"搜索")]),_:1},8,["modelValue"]),n(u,{modelValue:e(a),"onUpdate:modelValue":x[2]||(x[2]=l=>U(a)?a.value=l:null),onRefresh:L},{default:c(()=>[n(I,{loading:e(r),"onUpdate:loading":x[1]||(x[1]=l=>U(r)?r.value=l:null),"immediate-check":!1,finished:e(k),"finished-text":e(S),onLoad:p},{default:c(()=>[i("ul",be,[(f(!0),b(P,null,A(e(o),(l,g)=>H((f(),b("li",{key:l.name+g,class:"list-item"},[i("div",null,[i("p",Re,w(l.name),1),i("p",Te,"发起时间："+w(l.createTime),1),i("p",Le,"处理人员："+w(l.handlingUser),1)]),i("div",{class:"item-status",style:Z({color:e(R).get(l.status)})},w(e(h).get(l.status)),5)])),[[d]])),128))])]),_:1},8,["loading","finished","finished-text"]),!e(o).length&&!e(r)?(f(),z(C,{key:0})):ee("",!0)]),_:1},8,["modelValue"])])}}}),Ue=E(Me,[["__scopeId","data-v-0f519b77"]]);const Ie={class:"mock-list"},De={class:"list-wrapper"},Ne=["onClick"],Oe={class:"item-name"},ze={class:"item-time"},je={class:"item-user"},Be=Q({name:"Filter"}),qe=Object.assign(Be,{setup(G,{expose:v}){const T=J(),_=t(!1);t(null);const o=t(1),r=t(20),k=t(0),a=t([]),S=t(!0),F=t(!1),p=t(!1),L=W(()=>a.value.length?"没有更多了":"");t(null);const h=t({order:"asc",prop:"createTime"}),R=(g,$)=>{console.log("query:",g),h.value={...h.value,...g},_.value=!1,m()},V=async()=>{var g,$;try{p.value&&(a.value=[],p.value=!1);const D={pageNo:o.value,pageSize:r.value,...h.value,type:(g=h.value.type)!=null&&g.length?($=h.value.type)==null?void 0:$.join(","):""},N=await te.getWorkOrderList(D);if(N.code===0){o.value+=1;const{rows:O,total:j}=N.data??{};k.value=j,a.value=o.value===1?O:a.value.concat(O),a.value.length>=k.value&&(F.value=!0)}}catch(D){console.error("捕获异常",D)}finally{S.value=!1}},m=()=>{p.value=!0,F.value=!1,S.value=!0,o.value=1,V()},x=g=>{T.push({path:"/list-detail",query:{...fe(g,["id","name"])}})};K(()=>{V()});const M=new Map([["-1","全部"],["0","处理中"],["1","已完结"],["2","被退回"]]),I=new Map([["0","#2e6cf3"],["1","#ff0000"],["2","#05a081"]]),C=new Map([["0","普通"],["1","售后"],["2","维修"]]),u=new Map([["0","#2e6cf3"],["1","#ff0000"],["2","#05a081"]]);document.querySelector(".todo-list");const d=X("2003-10-08 08:43").isBefore("2003-10-08 08:43","m");console.log("flag:",d);const l=[{type:"InputField",title:"关键词查询",value:"",name:"name",attrs:{placeholder:"搜索关键词"}},{type:"RadioField",title:"工单状态",value:"-1",name:"status",attrs:{options:q(M)}},{type:"CheckboxField",title:"工单类型（可多选）",value:[],name:"type",attrs:{options:q(C)}}];return v({showFilter:_}),(g,$)=>{const D=we,N=oe,O=ae,j=se,y=ce,B=me,ne=Y("waves");return f(),b("div",Ie,[n(j,{modelValue:e(p),"onUpdate:modelValue":$[1]||($[1]=s=>U(p)?p.value=s:null),onRefresh:m},{default:c(()=>[n(N,{loading:e(S),"onUpdate:loading":$[0]||($[0]=s=>U(S)?S.value=s:null),"immediate-check":!1,finished:e(F),"finished-text":e(L),onLoad:V},{default:c(()=>[i("ul",De,[(f(!0),b(P,null,A(e(a),(s,le)=>H((f(),b("li",{key:s.name+le,class:"list-item st-shadow",onClick:rt=>x(s)},[i("div",null,[i("p",Oe,[ie(w(s.name)+" ",1),n(D,{plain:"",color:e(u).get(s.type)},{default:c(()=>[ie(w(e(C).get(s.type)),1)]),_:2},1032,["color"])]),i("p",ze,"发起时间："+w(s.createTime),1),i("p",je,"处理人员："+w(s.handlingUser),1)]),i("div",{class:"item-status",style:Z({color:e(I).get(s.status)})},w(e(M).get(s.status)),5)],8,Ne)),[[ne]])),128))])]),_:1},8,["loading","finished","finished-text"]),!e(a).length&&!e(S)?(f(),z(O,{key:0})):ee("",!0)]),_:1},8,["modelValue"]),n(B,{show:e(_),"onUpdate:show":$[2]||($[2]=s=>U(_)?_.value=s:null),position:"right",closeable:!1,"close-on-popstate":"",style:{width:"85%",height:"100%"}},{default:c(()=>[n(y,{"show-header":"","form-items":l,onConfirm:R})]),_:1},8,["show"])])}}}),Qe=E(qe,[["__scopeId","data-v-6622adac"]]);const We={class:"mock-list"},Pe={class:"list-wrapper"},Ae={class:"item-name"},Ee={class:"item-time"},Ge={class:"item-user"},Je=Q({name:"ListDemo"}),Ke=Object.assign(Je,{setup(G){J(),t(null);const v=t(1),T=t(20),_=t(0),o=t([]),r=t(!0),k=t(!1),a=t(!1),S=W(()=>o.value.length?"没有更多了":""),F=t(null),p=t({order:"asc",prop:"createTime"}),L=(C,u)=>{var d;console.log("query:",C),p.value={...p.value,...C},(d=F.value)==null||d.close(),R()},h=async()=>{try{a.value&&(o.value=[],a.value=!1);const C={pageNo:v.value,pageSize:T.value,...p.value},u=await te.getWorkOrderList(C);if(u.code===0){v.value+=1;const{rows:d,total:l}=u.data??{};_.value=l,o.value=v.value===1?d:o.value.concat(d),o.value.length>=_.value&&(k.value=!0)}}catch(C){console.error("捕获异常",C)}finally{r.value=!1}},R=()=>{a.value=!0,k.value=!1,r.value=!0,v.value=1,h()},V=()=>{};K(()=>{h()});const m=new Map([["-1","全部"],["0","处理中"],["1","已完结"],["2","被退回"]]),x=new Map([["0","#2e6cf3"],["1","#ff0000"],["2","#05a081"]]);document.querySelector(".mock-list");const M=X("2003-10-08 08:43").isBefore("2003-10-08 08:43","m");console.log("flag:",M);const I=[{type:"InputField",title:"关键词查询",value:"",name:"name",attrs:{placeholder:"输入搜索关键词"}},{type:"RadioField",title:"工单状态",value:"-1",name:"status",attrs:{options:q(m)}}];return(C,u)=>{const d=re,l=_e,g=ke,$=ce,D=ue,N=de,O=Se,j=oe,y=ae,B=se,ne=Y("waves");return f(),b("div",We,[n(O,{class:"filter-wrap",type:"flex",align:"center",justify:"space-bettwen"},{default:c(()=>[n(g,{span:"20"},{default:c(()=>[n(l,{modelValue:e(p).name,"onUpdate:modelValue":u[0]||(u[0]=s=>e(p).name=s),style:{width:"100%"},shape:"round",placeholder:"搜索关键词","show-action":""},{action:c(()=>[n(d,{name:"search",class:"search-btn",onClick:R})]),_:1},8,["modelValue"])]),_:1}),n(g,{span:"4"},{default:c(()=>[n(N,{ref_key:"menuRef",ref:F,class:"filter-menu","close-on-click-outside":!1,"close-on-click-overlay":!1,onClosed:V},{default:c(()=>[n(D,{ref:"filterRef",title:"筛选"},{default:c(()=>[n($,{"form-items":I,onConfirm:u[1]||(u[1]=s=>L(s,"filter"))})]),_:1},512)]),_:1},512)]),_:1})]),_:1}),n(B,{modelValue:e(a),"onUpdate:modelValue":u[3]||(u[3]=s=>U(a)?a.value=s:null),onRefresh:R},{default:c(()=>[n(j,{loading:e(r),"onUpdate:loading":u[2]||(u[2]=s=>U(r)?r.value=s:null),"immediate-check":!1,finished:e(k),"finished-text":e(S),onLoad:h},{default:c(()=>[i("ul",Pe,[(f(!0),b(P,null,A(e(o),(s,le)=>H((f(),b("li",{key:s.name+le,class:"list-item"},[i("div",null,[i("p",Ae,w(s.name),1),i("p",Ee,"发起时间："+w(s.createTime),1),i("p",Ge,"处理人员："+w(s.handlingUser),1)]),i("div",{class:"item-status",style:Z({color:e(x).get(s.status)})},w(e(m).get(s.status)),5)])),[[ne]])),128))])]),_:1},8,["loading","finished","finished-text"]),!e(o).length&&!e(r)?(f(),z(y,{key:0})):ee("",!0)]),_:1},8,["modelValue"])])}}}),Xe=E(Ke,[["__scopeId","data-v-9de539ce"]]);const Ye={class:"mock-list"},He={class:"list-wrapper"},Ze={class:"item-name"},et={class:"item-time"},tt={class:"item-user"},ot=Q({name:"ListDemo"}),st=Object.assign(ot,{setup(G){J(),t(null);const v=t(1),T=t(20),_=t(0),o=t([]),r=t(!0),k=t(!1),a=t(!1),S=W(()=>o.value.length?"没有更多了":""),F=t(null),p=t({order:"asc",prop:"createTime"}),L=(u,d)=>{var l;console.log("query:",u),p.value={...p.value,...u},(l=F.value)==null||l.close(),R()},h=async()=>{try{a.value&&(o.value=[],a.value=!1);const u={pageNo:v.value,pageSize:T.value,...p.value},d=await te.getWorkOrderList(u);if(d.code===0){v.value+=1;const{rows:l,total:g}=d.data??{};_.value=g,o.value=v.value===1?l:o.value.concat(l),o.value.length>=_.value&&(k.value=!0)}}catch(u){console.error("捕获异常",u)}finally{r.value=!1}},R=()=>{a.value=!0,k.value=!1,r.value=!0,v.value=1,h()},V=()=>{};K(()=>{h()});const m=new Map([["-1","全部"],["0","处理中"],["1","已完结"],["2","被退回"]]),x=new Map([["0","#2e6cf3"],["1","#ff0000"],["2","#05a081"]]);document.querySelector(".todo-list");const M=[{type:"CellField",title:"排序方式",value:"asc",name:"order",attrs:{options:[{label:"升序排序",value:"asc"},{label:"倒序排序",value:"desc"}]}},{type:"CellField",title:"排序字段",value:"createTime",name:"prop",attrs:{options:[{label:"发起时间",value:"createTime"},{label:"工单名称",value:"name"}]}}],I=X("2003-10-08 08:43").isBefore("2003-10-08 08:43","m");console.log("flag:",I);const C=[{type:"InputField",title:"关键词查询",value:"",name:"name",attrs:{placeholder:"输入搜索关键词"}},{type:"RadioField",title:"工单状态",value:"-1",name:"status",attrs:{options:q(m)}}];return(u,d)=>{const l=ce,g=ue,$=de,D=oe,N=ae,O=se,j=Y("waves");return f(),b("div",Ye,[n($,{ref_key:"menuRef",ref:F,"close-on-click-outside":!1,"close-on-click-overlay":!1,onClosed:V},{default:c(()=>[n(g,{title:"排序"},{default:c(()=>[n(l,{"form-items":M,onConfirm:d[0]||(d[0]=y=>L(y,"sort"))})]),_:1}),n(g,{ref:"filterRef",title:"筛选"},{default:c(()=>[n(l,{"form-items":C,onConfirm:d[1]||(d[1]=y=>L(y,"filter"))})]),_:1},512)]),_:1},512),n(O,{modelValue:e(a),"onUpdate:modelValue":d[3]||(d[3]=y=>U(a)?a.value=y:null),onRefresh:R},{default:c(()=>[n(D,{loading:e(r),"onUpdate:loading":d[2]||(d[2]=y=>U(r)?r.value=y:null),"immediate-check":!1,finished:e(k),"finished-text":e(S),onLoad:h},{default:c(()=>[i("ul",He,[(f(!0),b(P,null,A(e(o),(y,B)=>H((f(),b("li",{key:y.name+B,class:"list-item"},[i("div",null,[i("p",Ze,w(y.name),1),i("p",et,"发起时间："+w(y.createTime),1),i("p",tt,"处理人员："+w(y.handlingUser),1)]),i("div",{class:"item-status",style:Z({color:e(x).get(y.status)})},w(e(m).get(y.status)),5)])),[[j]])),128))])]),_:1},8,["loading","finished","finished-text"]),!e(o).length&&!e(r)?(f(),z(N,{key:0})):ee("",!0)]),_:1},8,["modelValue"])])}}}),at=E(st,[["__scopeId","data-v-edfdf242"]]);const nt={class:"st-color-blue st-font-14"},lt={class:"content"},it=Q({name:"ListDemo"}),ct=Object.assign(it,{setup(G){const v={Search:Ue,Filter:Qe,SearchFilter:Xe,SortFilter:at},T=t(null),_=t("Search"),o=t([{title:"只有搜索",id:"Search"},{title:"只有筛选",id:"Filter"},{title:"搜索和筛选",id:"SearchFilter"},{title:"排序和筛选",id:"SortFilter"}]),r=W(()=>v[_.value]),k=()=>{switch(console.log("onClickRight:",_.value,T.value),_.value){case"Filter":T.value.showFilter=!0;break}};return(a,S)=>{const F=re,p=ye,L=Fe,h=xe,R=Ce,V=pe;return f(),z(V,{class:"work-order-list"},{header:c(()=>[n(p,{border:"",title:"列表页面",onClick:k},ve({_:2},[["Filter"].includes(e(_))?{name:"right",fn:c(()=>[i("span",nt,[n(F,{name:"filter-o",class:"st-font-16"}),ie(" 筛选 ")])]),key:"0"}:void 0]),1024)]),default:c(()=>[n(R,{"offset-top":0,"z-index":999},{default:c(()=>[n(h,{active:e(_),"onUpdate:active":S[0]||(S[0]=m=>U(_)?_.value=m:null),border:""},{default:c(()=>[(f(!0),b(P,null,A(e(o),m=>(f(),z(L,{key:m.id,title:m.title,name:m.id},null,8,["title","name"]))),128))]),_:1},8,["active"])]),_:1}),i("main",lt,[(f(),z(he,null,[(f(),z(ge(e(r)),{ref_key:"compRef",ref:T},null,512))],1024))])]),_:1})}}}),Ut=E(ct,[["__scopeId","data-v-0f6610be"]]);export{Ut as default};
