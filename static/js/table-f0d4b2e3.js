import{o as Or,i as Tr,a as C,b as ur,t as Cr,c as A,f as fr,d as D,e as Ar,g as xr,h as Pr,j as Rr,k as jr,l as kr,m as vr,_ as pr,n as Nr,w as L,p as dr,q as Fr,r as gr,s as mr,u as yr,v as Br,x as hr,y as Dr,z as Lr,A as Vr,B as Mr,C as Kr,D as zr,E as Wr}from"./array-method-is-strict-425bb9c7.js";import{b1 as P,a as qr,e as R,b as K,r as _,f as z,w as h,g as W,k as q,j as I,c as d,U as Ur,u as j,z as U,b2 as Hr}from"./index-77d71d8d.js";import{P as Xr,g as Jr,a as Gr}from"./constants-e510092d.js";import{d as Qr}from"./default-2af36baf.js";import{o as Zr}from"./omit-12eedb6a.js";var Yr=Or.f,re=function(r,e,t){t in r||Yr(r,t,{configurable:!0,get:function(){return e[t]},set:function(a){e[t]=a}})},ee=Tr,te=C,H=ur,ae=function(r,e,t){var a,o;return H&&ee(a=e.constructor)&&a!==t&&te(o=a.prototype)&&o!==t.prototype&&H(r,o),r},ne=Cr,oe=function(r,e){return r===void 0?arguments.length<2?"":e:ne(r)},se=C,ie=A,ce=function(r,e){se(e)&&"cause"in e&&ie(r,"cause",e.cause)},le=fr,Sr=Error,ue=le("".replace),fe=function(r){return String(Sr(r).stack)}("zxcasd"),br=/\n\s*at [^:]*:[^\n]*/,ve=br.test(fe),pe=function(r,e){if(ve&&typeof r=="string"&&!Sr.prepareStackTrace)for(;e--;)r=ue(r,br,"");return r},de=D,ge=Ar,me=!de(function(){var r=Error("a");return"stack"in r?(Object.defineProperty(r,"stack",ge(1,7)),r.stack!==7):!0}),ye=A,he=pe,Se=me,X=Error.captureStackTrace,be=function(r,e,t,a){Se&&(X?X(r,e):ye(r,"stack",he(t,a)))},J=xr,Ee=Pr,G=A,_e=Rr,Q=ur,Z=jr,Y=re,$e=ae,Ie=oe,we=ce,Oe=be,Te=kr,Ce=function(r,e,t,a){var o="stackTraceLimit",n=a?2:1,u=r.split("."),p=u[u.length-1],i=J.apply(null,u);if(i){var c=i.prototype;if(Ee(c,"cause")&&delete c.cause,!t)return i;var m=J("Error"),s=e(function(f,y){var S=Ie(a?y:f,void 0),v=a?new i(f):new i;return S!==void 0&&G(v,"message",S),Oe(v,s,v.stack,2),this&&_e(c,this)&&$e(v,this,s),arguments.length>n&&we(v,arguments[n]),v});s.prototype=c,p!=="Error"?Q?Q(s,m):Z(s,m,{name:!0}):Te&&o in i&&(Y(s,i,o),Y(s,i,"prepareStackTrace")),Z(s,i);try{c.name!==p&&G(c,"name",p),c.constructor=s}catch{}return s}},Er=pr,Ae=vr,g=Nr,_r=Ce,F="WebAssembly",rr=Ae[F],T=Error("e",{cause:7}).cause!==7,E=function(r,e){var t={};t[r]=_r(r,e,T),Er({global:!0,constructor:!0,arity:1,forced:T},t)},V=function(r,e){if(rr&&rr[r]){var t={};t[r]=_r(F+"."+r,e,T),Er({target:F,stat:!0,constructor:!0,arity:1,forced:T},t)}};E("Error",function(r){return function(t){return g(r,this,arguments)}});E("EvalError",function(r){return function(t){return g(r,this,arguments)}});E("RangeError",function(r){return function(t){return g(r,this,arguments)}});E("ReferenceError",function(r){return function(t){return g(r,this,arguments)}});E("SyntaxError",function(r){return function(t){return g(r,this,arguments)}});E("TypeError",function(r){return function(t){return g(r,this,arguments)}});E("URIError",function(r){return function(t){return g(r,this,arguments)}});V("CompileError",function(r){return function(t){return g(r,this,arguments)}});V("LinkError",function(r){return function(t){return g(r,this,arguments)}});V("RuntimeError",function(r){return function(t){return g(r,this,arguments)}});var xe=TypeError,Pe=9007199254740991,Re=function(r){if(r>Pe)throw xe("Maximum allowed index exceeded");return r},er=dr,je=Fr,ke=C,Ne=L,Fe=Ne("species"),tr=Array,Be=function(r){var e;return er(r)&&(e=r.constructor,je(e)&&(e===tr||er(e.prototype))?e=void 0:ke(e)&&(e=e[Fe],e===null&&(e=void 0))),e===void 0?tr:e},De=Be,$r=function(r,e){return new(De(r))(e===0?0:e)},Le=D,Ve=L,Me=gr,Ke=Ve("species"),ze=function(r){return Me>=51||!Le(function(){var e=[],t=e.constructor={};return t[Ke]=function(){return{foo:1}},e[r](Boolean).foo!==1})},We=pr,qe=D,Ue=dr,He=C,Xe=mr,Je=yr,ar=Re,nr=Br,Ge=$r,Qe=ze,Ze=L,Ye=gr,Ir=Ze("isConcatSpreadable"),rt=Ye>=51||!qe(function(){var r=[];return r[Ir]=!1,r.concat()[0]!==r}),et=function(r){if(!He(r))return!1;var e=r[Ir];return e!==void 0?!!e:Ue(r)},tt=!rt||!Qe("concat");We({target:"Array",proto:!0,arity:1,forced:tt},{concat:function(e){var t=Xe(this),a=Ge(t,0),o=0,n,u,p,i,c;for(n=-1,p=arguments.length;n<p;n++)if(c=n===-1?t:arguments[n],et(c))for(i=Je(c),ar(o+i),u=0;u<i;u++,o++)u in c&&nr(a,o,c[u]);else ar(o+1),nr(a,o++,c);return a.length=o,a}});var at=hr,nt=Dr,ot=at?{}.toString:function(){return"[object "+nt(this)+"]"},st=hr,it=Lr,ct=ot;st||it(Object.prototype,"toString",ct,{unsafe:!0});var lt=Vr,ut=fr,ft=Mr,vt=mr,pt=yr,dt=$r,or=ut([].push),b=function(r){var e=r==1,t=r==2,a=r==3,o=r==4,n=r==6,u=r==7,p=r==5||n;return function(i,c,m,s){for(var f=vt(i),y=ft(f),S=lt(c,m),v=pt(y),l=0,M=s||dt,w=e?M(i,v):t||u?M(i,0):void 0,$,x;v>l;l++)if((p||l in y)&&($=y[l],x=S($,l,f),r))if(e)w[l]=x;else if(x)switch(r){case 3:return!0;case 5:return $;case 6:return l;case 2:or(w,$)}else switch(r){case 4:return!1;case 7:or(w,$)}return n?-1:a||o?o:w}},gt={forEach:b(0),map:b(1),filter:b(2),some:b(3),every:b(4),find:b(5),findIndex:b(6),filterReject:b(7)},mt=gt.forEach,yt=Kr,ht=yt("forEach"),St=ht?[].forEach:function(e){return mt(this,e,arguments.length>1?arguments[1]:void 0)},sr=vr,ir=zr,bt=Wr,k=St,Et=A,wr=function(r){if(r&&r.forEach!==k)try{Et(r,"forEach",k)}catch{r.forEach=k}};for(var N in ir)ir[N]&&wr(sr[N]&&sr[N].prototype);wr(bt);/*!
 * el-table-infinite-scroll v3.0.1
 * (c) 2019-2022 yujinpan
 */function _t(r,e,t){var a;t.forEach(function(o){a=r.getAttribute(o),a!==null?e.setAttribute(o,a):e.removeAttribute(o)})}/*!
 * el-table-infinite-scroll v3.0.1
 * (c) 2019-2022 yujinpan
 */var cr="[el-table-infinite-scroll]: ",O=".el-scrollbar__wrap",B={mounted:function(e,t,a,o){var n=e.querySelector(O);if(!n)throw new Error(""+cr+O+" element not found.");n.style.overflowY="auto",setTimeout(function(){e.style.height||(n.style.height="400px",console.warn(cr+"el-table height required, otherwise will set scrollbar default height: 400px")),lr(e,n),P.mounted(n,t,a,o)},0)},updated:function(e){lr(e,e.querySelector(O))},unmounted:function(e){for(var t=e.querySelector(O),a=arguments.length,o=new Array(a>1?a-1:0),n=1;n<a;n++)o[n-1]=arguments[n];P.unmounted.apply(P,[t].concat(o))}};function lr(r,e){_t(r,e,["infinite-scroll-disabled","infinite-scroll-delay","infinite-scroll-immediate","infinite-scroll-distance"]);var t="infinite-scroll-distance",a=+(r.getAttribute(t)||0);e.setAttribute(t,(a<1?1:a)+"")}/*!
 * el-table-infinite-scroll v3.0.1
 * (c) 2019-2022 yujinpan
 */B.install=function(r){r.directive("el-table-infinite-scroll",B)};const $t={class:"truncate"},At=qr({name:"InfiniteScrollTable",__name:"table",setup(r){const e=R([]),t=R(!1),a=R(!1),o=K({}),n=K({pageNo:1,pageSize:10,total:0}),u=()=>{p()},p=async()=>{if(!t.value)try{a.value=!0;const i=Zr({...n,...o},["total"]),{success:c,data:{rows:m,total:s}={}}=await Jr(i);if(c){n.total=s??0,n.pageNo+=1;let f=[];Object.values(Gr).forEach(y=>{f=f.concat(m.filter(S=>S.type===y))}),e.value.length<=n.total&&(e.value=e.value.concat(f)),e.value.length===n.total&&(t.value=!0,Hr({message:"没有更多了~",type:"success"}))}}finally{a.value=!1}};return(i,c)=>{const m=_("el-link"),s=_("el-table-column"),f=_("el-avatar"),y=_("el-tag"),S=_("el-table"),v=_("el-card");return W(),z(v,{shadow:"never"},{header:h(()=>[q("div",$t,[I(" 表格无限滚动（ "),d(m,{href:"https://github.com/yujinpan/el-table-infinite-scroll",target:"_blank",style:{margin:"0 5px 4px 0","font-size":"16px"}},{default:h(()=>[I(" el-table-infinite-scroll ")]),_:1}),I(" ） ")])]),default:h(()=>[q("div",null,[Ur((W(),z(S,{data:e.value,"infinite-scroll-disabled":t.value,height:"500px"},{default:h(()=>[d(s,{type:"index",label:"序号",width:"55"}),d(s,{prop:"icon",label:"图标"},{default:h(({row:l})=>[d(f,{shape:"square",size:"large",src:j(Qr),style:{width:"50px",height:"50px",opacity:.5}},null,8,["src"])]),_:1}),d(s,{prop:"name",label:"插件名称","show-overflow-tooltip":""},{default:h(({row:{name:l}})=>[d(m,{style:{margin:"0 5px 4px 0","font-size":"16px"}},{default:h(()=>[I(U(l),1)]),_:2},1024)]),_:1}),d(s,{prop:"type",label:"插件类型",formatter:l=>j(Xr)[l.type]},null,8,["formatter"]),d(s,{prop:"priority",label:"权重"}),d(s,{prop:"version",label:"版本"},{default:h(({row:{version:l}})=>[d(y,null,{default:h(()=>[I("v "+U(l),1)]),_:2},1024)]),_:1})]),_:1},8,["data","infinite-scroll-disabled"])),[[j(B),u]])])]),_:1})}}});export{At as default};
