import{a1 as I,d as C,a as g,c as S,a2 as D,cN as M,cf as A,cd as Y,cO as Z,o as q,bj as W,bm as X,w as F,p as i,P as H,m as T,aH as ee,a3 as y,at as U,cP as te,ca as ae,B as G,cQ as oe,a7 as $,c3 as ne,av as N,cj as re,ct as se,aj as le,a5 as ce,a6 as ue,cR as ie,U as de,aa as me,cS as fe,f as B,k as V,x as j,g as O,u as p,j as z,q as E,F as ve,G as be,I as _e,y as he,J as ge,s as pe,z as ye}from"./index-4a1a9842.js";import{N as xe}from"./index-d9f0e8c9.js";import{_ as ke}from"./plugin-vue_export-helper-c27b6911.js";import{u as Be}from"./use-placeholder-9d7764e4.js";import{r as Ce,u as Pe}from"./use-route-4a788c49.js";const[we,P]=I("back-top"),Ie={right:y,bottom:y,zIndex:y,target:[String,Object],offset:U(200),immediate:Boolean,teleport:{type:[String,Object],default:"body"}};var Se=C({name:we,inheritAttrs:!1,props:Ie,emits:["click"],setup(e,{emit:f,slots:r,attrs:v}){let d=!1;const l=g(!1),m=g(),a=g(),b=S(()=>D(M(e.zIndex),{right:A(e.right),bottom:A(e.bottom)})),o=c=>{var u;f("click",c),(u=a.value)==null||u.scrollTo({top:0,behavior:e.immediate?"auto":"smooth"})},s=()=>{l.value=a.value?te(a.value)>=+e.offset:!1},t=()=>{const{target:c}=e;if(typeof c=="string"){const u=document.querySelector(c);if(u)return u}else return c},n=()=>{ae&&G(()=>{a.value=e.target?t():oe(m.value),s()})};return Y("scroll",Z(s,100),{target:a}),q(n),W(()=>{d&&(l.value=!0,d=!1)}),X(()=>{l.value&&e.teleport&&(l.value=!1,d=!0)}),F(()=>e.target,n),()=>{const c=i("div",T({ref:e.teleport?void 0:m,class:P({active:l.value}),style:b.value,onClick:o},v),[r.default?r.default():i(H,{name:"back-top",class:P("icon")},null)]);return e.teleport?[i("div",{ref:m,class:P("placeholder")},null),i(ee,{to:e.teleport},{default:()=>[c]})]:c}}});const Te=$(Se),[J,L]=I("tabbar"),$e={route:Boolean,fixed:N,border:N,zIndex:y,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:U(0),safeAreaInsetBottom:{type:Boolean,default:null}},K=Symbol(J);var Re=C({name:J,props:$e,emits:["change","update:modelValue"],setup(e,{emit:f,slots:r}){const v=g(),{linkChildren:d}=ne(K),l=Be(v,L),m=()=>{var o;return(o=e.safeAreaInsetBottom)!=null?o:e.fixed},a=()=>{var o;const{fixed:s,zIndex:t,border:n}=e;return i("div",{ref:v,role:"tablist",style:M(t),class:[L({fixed:s}),{[re]:n,"van-safe-area-bottom":m()}]},[(o=r.default)==null?void 0:o.call(r)])};return d({props:e,setActive:(o,s)=>{se(e.beforeChange,{args:[o],done(){f("update:modelValue",o),f("change",o),s()}})}}),()=>e.fixed&&e.placeholder?l(a):a()}});const Ae=$(Re),[Ne,w]=I("tabbar-item"),Ve=D({},Ce,{dot:Boolean,icon:String,name:y,badge:y,badgeProps:Object,iconPrefix:String});var je=C({name:Ne,props:Ve,emits:["click"],setup(e,{emit:f,slots:r}){const v=Pe(),d=le().proxy,{parent:l,index:m}=ce(K);if(!l)return;const a=S(()=>{var s;const{route:t,modelValue:n}=l.props;if(t&&"$route"in d){const{$route:c}=d,{to:u}=e,h=ie(u)?u:{path:u};return!!c.matched.find(x=>{const k="path"in h&&h.path===x.path,_="name"in h&&h.name===x.name;return k||_})}return((s=e.name)!=null?s:m.value)===n}),b=s=>{var t;a.value||l.setActive((t=e.name)!=null?t:m.value,v),f("click",s)},o=()=>{if(r.icon)return r.icon({active:a.value});if(e.icon)return i(H,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var s;const{dot:t,badge:n}=e,{activeColor:c,inactiveColor:u}=l.props,h=a.value?c:u;return i("div",{role:"tab",class:w({active:a.value}),style:{color:h},tabindex:0,"aria-selected":a.value,onClick:b},[i(ue,T({dot:t,class:w("icon"),content:n},e.badgeProps),{default:o}),i("div",{class:w("text")},[(s=r.default)==null?void 0:s.call(r,{active:a.value})])])}}});const Oe=$(je);const ze={class:"layout__container"},Ee={class:"layout__header"},Le=C({name:"Layout"}),De=Object.assign(Le,{props:{withHeader:{type:Boolean,default:!0},title:{type:String,default:""}},emits:["change","body-scroll"],setup(e,{emit:f}){const r=de();me();const v=g(!1),d=S(()=>{var t;return((t=r.currentRoute.value.meta)==null?void 0:t.level)>1}),l=g(!1),m=()=>{r.back()};q(async()=>{await G();const t=document.querySelector(".layout__container .layout__body");fe(t,"scroll",n=>{f("body-scroll",n)})});const a=g(!0),b=g("Name"),o=[{title:"首页",to:{name:"Home"},icon:"home-o"},{title:"案例",to:{name:"Demo"},icon:"apps-o"},{title:"我的",to:{name:"About"},icon:"user-o"}];F(()=>r,()=>{const t=o.some(n=>n.to.name===r.currentRoute.value.name);b.value=o.findIndex(n=>n.to.name===r.currentRoute.value.name),a.value=t},{deep:!0,immediate:!0});const s=t=>{f("change",t)};return(t,n)=>{var k;const c=xe,u=Oe,h=Ae,x=Te;return B(),V("div",ze,[j("div",Ee,[t.$slots.header?z(t.$slots,"header",{key:1},void 0,!0):(B(),O(c,{key:0,fixed:p(v),placeholder:p(v),"safe-area-inset-top":"","left-arrow":p(d),title:e.title||((k=t.$route.meta)==null?void 0:k.title),onClickLeft:m},null,8,["fixed","placeholder","left-arrow","title"]))]),j("div",{class:ye(["layout__body",{"layout__body--show-navbar":p(l)},{"layout__body--show-tabbar":p(a)}])},[z(t.$slots,"default",{},void 0,!0),p(a)?(B(),O(h,T({key:0,modelValue:p(b),"onUpdate:modelValue":n[0]||(n[0]=_=>ge(b)?b.value=_:null),class:"layout-tabbar",fixed:!0,border:"","z-index":9,route:""},t.$attrs,{onChange:s}),{default:E(()=>[(B(),V(ve,null,be(o,(_,Q)=>{var R;return i(u,{id:"tabbar-item-"+((R=_.to)==null?void 0:R.name),key:_.to+Q,icon:_.icon,to:_.to,replace:""},{default:E(()=>[_e(he(_.title),1)]),_:2},1032,["id","icon","to"])}),64))]),_:1},16,["modelValue"])):pe("",!0),i(x,{right:"5vw",bottom:"10vh"})],2)])}}}),Ge=ke(De,[["__scopeId","data-v-daab9e88"]]);export{Ge as _};
