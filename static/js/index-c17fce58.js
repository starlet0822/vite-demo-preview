import{_ as ue}from"./index-692d5e99.js";import{a1 as de,d as O,a as b,cw as me,c as Y,cg as _e,c6 as fe,cd as ge,p as c,av as j,a3 as W,cG as Z,cy as ee,cx as he,cH as ve,cI as be,cs as pe,ay as ke,a7 as ye,r as ae,cJ as $,cK as se,cL as le,t as ie,E,f as H,k as Se,x as p,y as te,u as m,q as P,J as N,z as we,ao as Ce,g as oe,U as Ve,s as T,as as xe,v as ze,I as Be,al as Te,aa as Pe,Y as Ne,Z as ne,$ as $e,M as Ae,W as Ie,Q as ct,R as ut}from"./index-77177c83.js";import{A as Ee}from"./index-6fcc0fdb.js";import{C as Me}from"./index-9425ee6f.js";import{F as Fe}from"./index-a8c33bed.js";import{o as Re,S as Ue}from"./style-18b2986c.js";import{_ as re}from"./plugin-vue_export-helper-c27b6911.js";import{B as Le}from"./index-a5f7789d.js";import"./index-7f52ffa2.js";import"./use-placeholder-5c3b86a0.js";import"./use-route-304183c5.js";import"./use-id-b74252cf.js";import"./popper-f3391c26.js";const[De,A]=de("slider"),Ye={min:j(0),max:j(100),step:j(1),range:Boolean,reverse:Boolean,disabled:Boolean,readonly:Boolean,vertical:Boolean,barHeight:W,buttonSize:W,activeColor:String,inactiveColor:String,modelValue:{type:[Number,Array],default:0}};var je=O({name:De,props:Ye,emits:["change","dragEnd","dragStart","update:modelValue"],setup(t,{emit:k,slots:v}){let l,u,_;const y=b(),f=[b(),b()],d=b(),C=me(),g=Y(()=>Number(t.max)-Number(t.min)),M=Y(()=>{const e=t.vertical?"width":"height";return{background:t.inactiveColor,[e]:_e(t.barHeight)}}),S=e=>t.range&&Array.isArray(e),X=()=>{const{modelValue:e,min:o}=t;return S(e)?`${(e[1]-e[0])*100/g.value}%`:`${(e-Number(o))*100/g.value}%`},J=()=>{const{modelValue:e,min:o}=t;return S(e)?`${(e[0]-Number(o))*100/g.value}%`:"0%"},x=Y(()=>{const o={[t.vertical?"height":"width"]:X(),background:t.activeColor};d.value&&(o.transition="none");const a=()=>t.vertical?t.reverse?"bottom":"top":t.reverse?"right":"left";return o[a()]=J(),o}),z=e=>{const o=+t.min,a=+t.max,i=+t.step;e=ke(e,o,a);const s=Math.round((e-o)/i)*i;return be(o,s)},F=()=>{const e=t.modelValue;S(e)?_=e.map(z):_=z(e)},K=e=>{var o,a;const i=(o=e[0])!=null?o:Number(t.min),s=(a=e[1])!=null?a:Number(t.max);return i>s?[s,i]:[i,s]},w=(e,o)=>{S(e)?e=K(e).map(z):e=z(e),Z(e,t.modelValue)||k("update:modelValue",e),o&&!Z(e,_)&&k("change",e)},q=e=>{if(e.stopPropagation(),t.disabled||t.readonly)return;F();const{min:o,reverse:a,vertical:i,modelValue:s}=t,h=ee(y),L=()=>i?a?h.bottom-e.clientY:e.clientY-h.top:a?h.right-e.clientX:e.clientX-h.left,D=i?h.height:h.width,B=Number(o)+L()/D*g.value;if(S(s)){const[r,Q]=s,ce=(r+Q)/2;B<=ce?w([B,Q],!0):w([r,B],!0)}else w(B,!0)},G=e=>{t.disabled||t.readonly||(C.start(e),u=t.modelValue,F(),d.value="start")},V=e=>{if(t.disabled||t.readonly)return;d.value==="start"&&k("dragStart",e),he(e,!0),C.move(e),d.value="dragging";const o=ee(y),a=t.vertical?C.deltaY.value:C.deltaX.value,i=t.vertical?o.height:o.width;let s=a/i*g.value;if(t.reverse&&(s=-s),S(_)){const h=t.reverse?1-l:l;u[h]=_[h]+s}else u=_+s;w(u)},I=e=>{t.disabled||t.readonly||(d.value==="dragging"&&(w(u,!0),k("dragEnd",e)),d.value="")},R=e=>typeof e=="number"?A("button-wrapper",["left","right"][e]):A("button-wrapper",t.reverse?"left":"right"),U=(e,o)=>{const a=d.value==="dragging";if(typeof o=="number"){const i=v[o===0?"left-button":"right-button"];let s;if(a&&Array.isArray(u)&&(s=u[0]>u[1]?l^1:l),i)return i({value:e,dragging:a,dragIndex:s})}return v.button?v.button({value:e,dragging:a}):c("div",{class:A("button"),style:pe(t.buttonSize)},null)},n=e=>{const o=typeof e=="number"?t.modelValue[e]:t.modelValue;return c("div",{ref:f[e??0],role:"slider",class:R(e),tabindex:t.disabled?void 0:0,"aria-valuemin":t.min,"aria-valuenow":o,"aria-valuemax":t.max,"aria-disabled":t.disabled||void 0,"aria-readonly":t.readonly||void 0,"aria-orientation":t.vertical?"vertical":"horizontal",onTouchstartPassive:a=>{typeof e=="number"&&(l=e),G(a)},onTouchend:I,onTouchcancel:I,onClick:ve},[U(o,e)])};return w(t.modelValue),fe(()=>t.modelValue),f.forEach(e=>{ge("touchmove",V,{target:e})}),()=>c("div",{ref:y,style:M.value,class:A({vertical:t.vertical,disabled:t.disabled}),onClick:q},[c("div",{class:A("bar"),style:x.value},[t.range?[n(0),n(1)]:n()])])}});const He=ye(je);const Oe={class:"picker-fontSize-wrapper"},Xe={class:"setting-box st-bg-white"},Je={class:we(["st-flex-center"])},Ke={class:"slider"},qe={class:"custom-button"},Ge=O({name:"PickerFontSize"}),Qe=Object.assign(Ge,{emits:["change"],setup(t,{emit:k}){const v=ae({fontSize:+$.get("fontSize")||se,fontTypes:le}),{fontSize:l,fontTypes:u}=ie(v),_=E("setSize"),y=f=>{console.log(f),$.set("fontSize",f),localStorage.setItem("fontSize",f),_(f+"px"),k("change",f)};return(f,d)=>{const C=He;return H(),Se("div",Oe,[p("div",Xe,[p("div",Je,te(m(u).get(+m(l))),1),p("div",Ke,[c(C,{modelValue:m(l),"onUpdate:modelValue":d[0]||(d[0]=g=>N(l)?l.value=g:null),max:16,min:12,step:2,onChange:y},{button:P(()=>[p("div",qe,te(m(l)),1)]),_:1},8,["modelValue"])])])])}}}),We=re(Qe,[["__scopeId","data-v-7c9c5aae"]]);const Ze={class:"content"},et={class:"st-margin-top-10"};const tt={class:"st-margin-top-10"},ot={class:"st-margin-top-10"},nt={class:"st-flex-center st-margin-top-15"},at={class:"color-wrapper"},st=O({name:"Setting"}),lt=Object.assign(st,{setup(t){Te(n=>({"78cd8b0b":m(l)}));const k=E("setThemeColor");E("themeColor");const v=b(!1),l=b($.get("themeColor")||Ce),u=n=>{console.log("主题色",n),k(n)};Pe();const _=Ve(),y=Ne(),f=E("setTheme"),d=b($.get("darkMode")==="dark"),C=n=>{f(n?"dark":"light"),d.value=n,$.set("darkMode",n?"dark":"light")},g=b(localStorage.getItem("showEruda")==="true"),M=async n=>{console.log("flag:",n),localStorage.setItem("showEruda",n?"true":"false"),ne.emit("showEruda",n)},S=ae({title:_.currentRoute.value.meta.title,screenLock:!1,showFontSize:!1,fontSize:$.get("fontSize")||se,fontTypes:le}),{title:X,screenLock:J,showFontSize:x,fontSize:z,fontTypes:F}=ie(S);b(!1);const K=()=>{x.value=!0},w=n=>{z.value=n},q=()=>{Ie({message:"敬请期待~"})},G=()=>{v.value=!0},V=b(!1),I=[{name:"退出登录",color:"#ee0a24"}],R=async n=>{console.log("item:",n),V.value=!1,await U()},U=async()=>{await y.dispatch("logout"),await y.dispatch("cacheViews/clearView"),await _.replace("/login"),ne.emit("resetPageStack")};return(n,e)=>{const o=Me,a=$e,i=Ue,s=Fe,h=Le,L=Ee,D=ue,B=Ae("waves");return H(),oe(D,{class:"page-wrapper",title:"我的设置"},{default:P(()=>[p("div",Ze,[p("div",et,[c(o,{center:"","is-link":"",title:"个人资料",to:"/edit-baseinfo"}),T("",!0),c(a,{show:m(x),"onUpdate:show":e[0]||(e[0]=r=>N(x)?x.value=r:null),position:"bottom","z-index":9999,closeable:!1},{default:P(()=>[c(We,{onChange:w})]),_:1},8,["show"]),T("",!0),T("",!0),T("",!0),c(s,{name:"eruda",label:"eruda调试","input-align":"right",center:""},{input:P(()=>[c(i,{modelValue:m(g),"onUpdate:modelValue":e[2]||(e[2]=r=>N(g)?g.value=r:null),size:m(xe)(18),onChange:M},null,8,["modelValue","size"])]),_:1})]),p("div",tt,[c(o,{center:"",title:"导航栏设置","is-link":"",to:"/setting-tabbar"}),T("",!0)]),p("div",ot,[T("",!0)]),p("div",nt,[ze((H(),oe(h,{block:"",style:{width:"80%"},type:"primary",onClick:e[3]||(e[3]=r=>V.value=!0)},{default:P(()=>[Be(" 退出登录 ")]),_:1})),[[B]])])]),c(L,{show:m(V),"onUpdate:show":e[4]||(e[4]=r=>N(V)?V.value=r:null),actions:I,"cancel-text":"取消",description:"确定要退出当前账号？","close-on-click-overlay":!1,onSelect:R},null,8,["show"]),c(a,{show:m(v),"onUpdate:show":e[6]||(e[6]=r=>N(v)?v.value=r:null)},{default:P(()=>[p("div",at,[c(m(Re),{pureColor:m(l),"onUpdate:pureColor":e[5]||(e[5]=r=>N(l)?l.value=r:null),"is-widget":!0,"disable-alpha":"",format:"hex","picker-type":"chrome","use-type":"pure",onPureColorChange:u},null,8,["pureColor"])])]),_:1},8,["show"])]),_:1})}}}),St=re(lt,[["__scopeId","data-v-8cffb11a"]]);export{St as default};
