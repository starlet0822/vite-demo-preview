import{_ as de}from"./index-4f78cf3f.js";import{a1 as me,d as G,a as b,cv as fe,c as X,cf as _e,c4 as ge,cd as he,p as i,at as K,a3 as ee,cF as te,cx as oe,cw as ve,cG as pe,cH as be,cr as ke,aw as we,a7 as ye,r as le,cI as N,cJ as re,cK as ie,t as ce,E as R,f as q,k as Se,x as k,y as ne,u as m,q as T,J as P,z as Ce,an as Ve,g as ae,U as xe,s as B,v as ze,I as Be,ak as Te,aa as Pe,Y as Ne,ab as $e,ay as se,Z as Ae,$ as Ee,M as Fe,W as Ie,Q as mt,R as ft}from"./index-4a1a9842.js";import{A as Me}from"./index-287337fd.js";import{C as Re}from"./index-59b7ecd9.js";import{F as Ue}from"./index-13b99f4f.js";import{o as Le,S as De}from"./style-a15e1b67.js";import{_ as ue}from"./plugin-vue_export-helper-c27b6911.js";import{p as je}from"./index-5fa59aed.js";import{B as Ye}from"./index-26747f1d.js";import"./index-d9f0e8c9.js";import"./use-placeholder-9d7764e4.js";import"./use-route-4a788c49.js";import"./use-id-c0fc632f.js";import"./popper-f3391c26.js";const[He,F]=me("slider"),Je={min:K(0),max:K(100),step:K(1),range:Boolean,reverse:Boolean,disabled:Boolean,readonly:Boolean,vertical:Boolean,barHeight:ee,buttonSize:ee,activeColor:String,inactiveColor:String,modelValue:{type:[Number,Array],default:0}};var Oe=G({name:He,props:Je,emits:["change","dragEnd","dragStart","update:modelValue"],setup(t,{emit:w,slots:h}){let l,u,f;const y=b(),_=[b(),b()],d=b(),C=fe(),v=X(()=>Number(t.max)-Number(t.min)),c=X(()=>{const e=t.vertical?"width":"height";return{background:t.inactiveColor,[e]:_e(t.barHeight)}}),p=e=>t.range&&Array.isArray(e),U=()=>{const{modelValue:e,min:n}=t;return p(e)?`${(e[1]-e[0])*100/v.value}%`:`${(e-Number(n))*100/v.value}%`},L=()=>{const{modelValue:e,min:n}=t;return p(e)?`${(e[0]-Number(n))*100/v.value}%`:"0%"},D=X(()=>{const n={[t.vertical?"height":"width"]:U(),background:t.activeColor};d.value&&(n.transition="none");const o=()=>t.vertical?t.reverse?"bottom":"top":t.reverse?"right":"left";return n[o()]=L(),n}),$=e=>{const n=+t.min,o=+t.max,a=+t.step;e=we(e,n,o);const s=Math.round((e-n)/a)*a;return be(n,s)},j=()=>{const e=t.modelValue;p(e)?f=e.map($):f=$(e)},x=e=>{var n,o;const a=(n=e[0])!=null?n:Number(t.min),s=(o=e[1])!=null?o:Number(t.max);return a>s?[s,a]:[a,s]},S=(e,n)=>{p(e)?e=x(e).map($):e=$(e),te(e,t.modelValue)||w("update:modelValue",e),n&&!te(e,f)&&w("change",e)},Q=e=>{if(e.stopPropagation(),t.disabled||t.readonly)return;j();const{min:n,reverse:o,vertical:a,modelValue:s}=t,r=oe(y),E=()=>a?o?r.bottom-e.clientY:e.clientY-r.top:o?r.right-e.clientX:e.clientX-r.left,J=a?r.height:r.width,z=Number(n)+E()/J*v.value;if(p(s)){const[I,M]=s,O=(I+M)/2;z<=O?S([z,M],!0):S([I,z],!0)}else S(z,!0)},W=e=>{t.disabled||t.readonly||(C.start(e),u=t.modelValue,j(),d.value="start")},Y=e=>{if(t.disabled||t.readonly)return;d.value==="start"&&w("dragStart",e),ve(e,!0),C.move(e),d.value="dragging";const n=oe(y),o=t.vertical?C.deltaY.value:C.deltaX.value,a=t.vertical?n.height:n.width;let s=o/a*v.value;if(t.reverse&&(s=-s),p(f)){const r=t.reverse?1-l:l;u[r]=f[r]+s}else u=f+s;S(u)},H=e=>{t.disabled||t.readonly||(d.value==="dragging"&&(S(u,!0),w("dragEnd",e)),d.value="")},Z=e=>typeof e=="number"?F("button-wrapper",["left","right"][e]):F("button-wrapper",t.reverse?"left":"right"),V=(e,n)=>{const o=d.value==="dragging";if(typeof n=="number"){const a=h[n===0?"left-button":"right-button"];let s;if(o&&Array.isArray(u)&&(s=u[0]>u[1]?l^1:l),a)return a({value:e,dragging:o,dragIndex:s})}return h.button?h.button({value:e,dragging:o}):i("div",{class:F("button"),style:ke(t.buttonSize)},null)},A=e=>{const n=typeof e=="number"?t.modelValue[e]:t.modelValue;return i("div",{ref:_[e??0],role:"slider",class:Z(e),tabindex:t.disabled?void 0:0,"aria-valuemin":t.min,"aria-valuenow":n,"aria-valuemax":t.max,"aria-disabled":t.disabled||void 0,"aria-readonly":t.readonly||void 0,"aria-orientation":t.vertical?"vertical":"horizontal",onTouchstartPassive:o=>{typeof e=="number"&&(l=e),W(o)},onTouchend:H,onTouchcancel:H,onClick:pe},[V(n,e)])};return S(t.modelValue),ge(()=>t.modelValue),_.forEach(e=>{he("touchmove",Y,{target:e})}),()=>i("div",{ref:y,style:c.value,class:F({vertical:t.vertical,disabled:t.disabled}),onClick:Q},[i("div",{class:F("bar"),style:D.value},[t.range?[A(0),A(1)]:A()])])}});const Xe=ye(Oe);const Ke={class:"picker-fontSize-wrapper"},qe={class:"setting-box st-bg-white"},Ge={class:Ce(["st-flex-center"])},Qe={class:"slider"},We={class:"custom-button"},Ze=G({name:"PickerFontSize"}),et=Object.assign(Ze,{emits:["change"],setup(t,{emit:w}){const h=le({fontSize:+N.get("fontSize")||re,fontTypes:ie}),{fontSize:l,fontTypes:u}=ce(h),f=R("setSize"),y=_=>{console.log(_),N.set("fontSize",_),localStorage.setItem("fontSize",_),f(_+"px"),w("change",_)};return(_,d)=>{const C=Xe;return q(),Se("div",Ke,[k("div",qe,[k("div",Ge,ne(m(u).get(+m(l))),1),k("div",Qe,[i(C,{modelValue:m(l),"onUpdate:modelValue":d[0]||(d[0]=v=>P(l)?l.value=v:null),max:16,min:12,step:2,onChange:y},{button:T(()=>[k("div",We,ne(m(l)),1)]),_:1},8,["modelValue"])])])])}}}),tt=ue(et,[["__scopeId","data-v-7c9c5aae"]]);const ot={class:"content"},nt={class:"st-margin-top-10"};const at={class:"st-margin-top-10"},st={class:"st-margin-top-10"},lt={class:"st-flex-center st-margin-top-15"},rt={class:"color-wrapper"},it=G({name:"Setting"}),ct=Object.assign(it,{setup(t){Te(o=>({cfa9ae0e:m(l)}));const w=R("setThemeColor");R("themeColor");const h=b(!1),l=b(N.get("themeColor")||Ve),u=o=>{console.log("主题色",o),w(o)};Pe();const f=xe(),y=Ne(),_=R("setTheme"),d=b(N.get("darkMode")==="dark"),C=o=>{_(o?"dark":"light"),d.value=o,N.set("darkMode",o?"dark":"light")},v="//cdn.jsdelivr.net/npm/eruda";let c=[...document.scripts].find(o=>o.src===v);const p=b(window.activeEruda),U=async o=>{L(o)},L=o=>{const a={defaults:{theme:o?"Dark":"Light"}};o?(console.log("开启eruda",c),c?(console.log("存在eruda脚本时，直接初始化eruda"),eruda.init(a)):(console.log("不存在eruda脚本时，需要创建标签"),$e("初始化中"),new Promise((s,r)=>{c=document.createElement("script"),c.type="text/javascript",c.onload=function(){eruda.init(a),window.activeEruda=!0,s(""),se()},c.onerror=function(E){r(E),se()},c.src=v,document.head.appendChild(c)}))):(console.log("关闭eruda",c),c&&c.remove(),window.eruda&&(eruda==null||eruda.destroy()))},D=le({title:f.currentRoute.value.meta.title,screenLock:!1,showFontSize:!1,fontSize:N.get("fontSize")||re,fontTypes:ie}),{title:$,screenLock:j,showFontSize:x,fontSize:S,fontTypes:Q}=ce(D);b(!1);const W=()=>{x.value=!0},Y=o=>{S.value=o},H=()=>{Ie({message:"敬请期待~"})},Z=()=>{h.value=!0},V=b(!1),A=[{name:"退出登录",color:"#ee0a24"}],e=async o=>{console.log("item:",o),V.value=!1,await n()},n=async()=>{await y.dispatch("logout"),await y.dispatch("cacheViews/clearView"),await f.replace("/login"),Ae.emit("resetPageStack")};return(o,a)=>{const s=Re,r=Ee,E=De,J=Ue,z=Ye,I=Me,M=de,O=Fe("waves");return q(),ae(M,{class:"page-wrapper",title:"我的设置"},{default:T(()=>[k("div",ot,[k("div",nt,[i(s,{center:"","is-link":"",title:"个人资料",to:"/edit-baseinfo"}),B("",!0),i(r,{show:m(x),"onUpdate:show":a[0]||(a[0]=g=>P(x)?x.value=g:null),position:"bottom","z-index":9999,closeable:!1},{default:T(()=>[i(tt,{onChange:Y})]),_:1},8,["show"]),B("",!0),B("",!0),B("",!0),i(J,{name:"eruda",label:"eruda调试","input-align":"right",center:""},{input:T(()=>[i(E,{modelValue:m(p),"onUpdate:modelValue":a[2]||(a[2]=g=>P(p)?p.value=g:null),size:m(je)(18),onChange:U},null,8,["modelValue","size"])]),_:1})]),k("div",at,[i(s,{center:"",title:"导航栏设置","is-link":"",to:"/setting-tabbar"}),B("",!0)]),k("div",st,[B("",!0)]),k("div",lt,[ze((q(),ae(z,{block:"",style:{width:"80%"},type:"primary",onClick:a[3]||(a[3]=g=>V.value=!0)},{default:T(()=>[Be(" 退出登录 ")]),_:1})),[[O]])])]),i(I,{show:m(V),"onUpdate:show":a[4]||(a[4]=g=>P(V)?V.value=g:null),actions:A,"cancel-text":"取消",description:"确定要退出当前账号？","close-on-click-overlay":!1,onSelect:e},null,8,["show"]),i(r,{show:m(h),"onUpdate:show":a[6]||(a[6]=g=>P(h)?h.value=g:null)},{default:T(()=>[k("div",rt,[i(m(Le),{pureColor:m(l),"onUpdate:pureColor":a[5]||(a[5]=g=>P(l)?l.value=g:null),"is-widget":!0,"disable-alpha":"",format:"hex","picker-type":"chrome","use-type":"pure",onPureColorChange:u},null,8,["pureColor"])])]),_:1},8,["show"])]),_:1})}}}),xt=ue(ct,[["__scopeId","data-v-260cf050"]]);export{xt as default};
