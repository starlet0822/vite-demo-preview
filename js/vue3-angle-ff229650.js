import{D as e,j as t,x as a,h as l,l as n,e as o}from"./@vue-563ebafd.js";let r=!1;var u=e({name:"Angle",props:{angle:{type:Number,default:0},size:{type:Number,default:16,validator:e=>e>=16},borderWidth:{type:Number,default:1,validator:e=>e>=1},borderColor:{type:String,default:"#666"}},emits:["update:angle","change"],setup(e,{emit:u}){const s=t(null),d=t(e.angle);a((()=>e.angle),(e=>{d.value=e}));const i=l((()=>({width:e.size+"px",height:e.size+"px",borderWidth:e.borderWidth+"px",borderColor:e.borderColor,transform:`rotate(${d.value}deg)`}))),c=t=>{s.value&&(d.value=((e,t)=>{const a=e.getBoundingClientRect(),l=a.left+a.width/2,n=a.top+a.height/2,o=Math.abs(l-t.clientX),r=Math.abs(n-t.clientY),u=r/Math.sqrt(Math.pow(o,2)+Math.pow(r,2)),s=Math.acos(u);let d=Math.floor(180/(Math.PI/s));return t.clientX>l&&t.clientY>n&&(d=180-d),t.clientX==l&&t.clientY>n&&(d=180),t.clientX>l&&t.clientY==n&&(d=90),t.clientX<l&&t.clientY>n&&(d=180+d),t.clientX<l&&t.clientY==n&&(d=270),t.clientX<l&&t.clientY<n&&(d=360-d),d})(s.value,t)%360,(()=>{let t=Number(d.value);isNaN(t)||(t=t>360||t<0?e.angle:t,d.value=360===t?0:t,u("update:angle",d.value),u("change",d.value))})())};return n((()=>{const e={drag:e=>{c(e)},end:e=>{c(e)}};s.value&&((e,t)=>{const a=function(e){var a;null==(a=t.drag)||a.call(t,e)},l=function(e){var n;document.removeEventListener("mousemove",a,!1),document.removeEventListener("mouseup",l,!1),document.onselectstart=null,document.ondragstart=null,r=!1,null==(n=t.end)||n.call(t,e)};e&&e.addEventListener("mousedown",(e=>{var n;r||(document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",a,!1),document.addEventListener("mouseup",l,!1),r=!0,null==(n=t.start)||n.call(t,e))}))})(s.value,e)})),()=>o("div",{class:"bee-angle"},[o("div",{class:"bee-angle__round",ref:s,style:i.value},null)])}});export{u as A};
