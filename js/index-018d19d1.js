import{h as e,F as s,q as a,j as o,k as r}from"./vant-f142fa12.js";import{l as t,c as i}from"./index-ac9d2ddd.js";import"./jsencrypt-522e98a3.js";import{_ as n}from"./plugin-vue_export-helper-893979e1.js";import{c as l,a as d,e as m,b8 as c,o as p,ao as u,w as f,L as h,aN as b,aM as j,N as g}from"./@vue-563ebafd.js";import"./@vant-3579f7e1.js";/* empty css                      */import"./amfe-flexible-385c80ea.js";import"./js-cookie-aaf6027b.js";import"./vue-router-2cd4af54.js";import"./vuex-423acd4f.js";import"./@vueuse-3d373d70.js";import"./lodash-es-12d03b41.js";import"./axios-0cd4f164.js";import"./qs-efaa5365.js";import"./side-channel-ebdfdc6e.js";import"./get-intrinsic-8aab7bd3.js";import"./has-symbols-1f359e75.js";import"./function-bind-c930bb92.js";import"./has-03e8e28c.js";import"./call-bind-b7e23f7e.js";import"./object-inspect-af06f273.js";import"./@antv-74afab59.js";import"./tslib-546db90a.js";import"./fecha-2b185e5a.js";import"./nprogress-4e4fc296.js";import"./vue3-hash-calendar-edea4f58.js";import"./hammerjs-ed6f6a9e.js";const w={name:"Login",components:{},data:()=>({linearGradientColor:t,showPwd:!1,loginForm:{username:"starlet",password:"666888"},saltkey:"",userInfo:{}}),computed:{disabledLogin(){return!this.loginForm.username.trim()||!this.loginForm.password}},created(){},methods:{onSubmit(e){this.userLogin()},userLogin(){return s=this,a=null,o=function*(){try{const s=this.loginForm,a=i().find((e=>e.username===s.username&&e.password===s.password));if(!a)return e("账号或密码不正确!");const{userId:o,username:r,token:t,realName:n,desc:l,roles:d}=a;this.$store.dispatch("login",a),this.$router.push({path:"/",query:{}}).catch((e=>{}))}catch(s){e({message:"登录失败"})}},new Promise(((e,r)=>{var t=e=>{try{n(o.next(e))}catch(s){r(s)}},i=e=>{try{n(o.throw(e))}catch(s){r(s)}},n=s=>s.done?e(s.value):Promise.resolve(s.value).then(t,i);n((o=o.apply(s,a)).next())}));var s,a,o}}},v={class:"login-wrapper"},y=(e=>(b("data-v-f785d860"),e=e(),j(),e))((()=>d("header",{class:"login__title"},"密码登录",-1))),_={class:"login__main layout__body"},x={class:"login__btn"};var F=n(w,[["render",function(e,t,i,n,b,j){const w=s,F=a,k=o,P=r,L=g("waves");return p(),l("div",v,[y,d("main",_,[m(P,{onSubmit:j.onSubmit},{default:c((()=>[m(w,{modelValue:b.loginForm.username,"onUpdate:modelValue":t[0]||(t[0]=e=>b.loginForm.username=e),modelModifiers:{trim:!0},class:"username",size:"large",name:"username",placeholder:"输入用户名",border:!1,autocomplete:"off",clearable:""},null,8,["modelValue"]),m(w,{modelValue:b.loginForm.password,"onUpdate:modelValue":t[1]||(t[1]=e=>b.loginForm.password=e),class:"password",size:"large",type:b.showPwd?"text":"password",name:"password",placeholder:"输入密码",border:!1,clearable:"",autocomplete:"off",onClickRightIcon:t[2]||(t[2]=e=>b.showPwd=!b.showPwd)},{"right-icon":c((()=>[b.showPwd?(p(),u(F,{key:0,name:"eye-o"})):(p(),u(F,{key:1,name:"closed-eye"}))])),_:1},8,["modelValue","type"]),d("div",x,[f((p(),u(k,{color:b.linearGradientColor,disabled:j.disabledLogin,round:!1,block:"","native-type":"submit"},{default:c((()=>[h(" 立即登录 ")])),_:1},8,["color","disabled"])),[[L]])])])),_:1},8,["onSubmit"])])])}],["__scopeId","data-v-f785d860"]]);export{F as default};
