import{g as e,F as s,i as a,B as o,V as r}from"./vant-78dd0152.js";import{l as t,c as i}from"./index-8f0421e5.js";import"./jsencrypt-522e98a3.js";import{_ as n}from"./plugin-vue_export-helper-893979e1.js";import{ak as l,al as m,l as d,b7 as c,aI as p,ai as u,v as b,A as h,aK as j,aJ as f,C as g}from"./@vue-0da0c2e3.js";import"./@vant-b0725c78.js";/* empty css                      */import"./amfe-flexible-385c80ea.js";import"./js-cookie-aaf6027b.js";import"./vue-router-1cbad9b8.js";import"./vuex-fdaeb4c6.js";import"./lodash-es-0ddda1ab.js";import"./axios-0cd4f164.js";import"./qs-efaa5365.js";import"./side-channel-ebdfdc6e.js";import"./get-intrinsic-8aab7bd3.js";import"./has-symbols-1f359e75.js";import"./function-bind-c930bb92.js";import"./has-03e8e28c.js";import"./call-bind-b7e23f7e.js";import"./object-inspect-af06f273.js";import"./@antv-74afab59.js";import"./tslib-546db90a.js";import"./fecha-2b185e5a.js";import"./nprogress-4e4fc296.js";import"./vue3-hash-calendar-e234247e.js";import"./hammerjs-ed6f6a9e.js";const w={name:"Login",components:{},data:()=>({linearGradientColor:t,showPwd:!1,loginForm:{username:"",password:""},saltkey:"",userInfo:{}}),computed:{disabledLogin(){return!this.loginForm.username.trim()||!this.loginForm.password}},created(){},methods:{onSubmit(e){this.userLogin()},userLogin(){return s=this,a=null,o=function*(){try{const s=this.loginForm,a=i().find((e=>e.username===s.username&&e.password===s.password));if(!a)return e("账号或密码不正确!");const{userId:o,username:r,token:t,realName:n,desc:l,roles:m}=a;this.$store.dispatch("login",a),this.$router.push({path:"/",query:{}}).catch((e=>{}))}catch(s){e({message:"登录失败"})}},new Promise(((e,r)=>{var t=e=>{try{n(o.next(e))}catch(s){r(s)}},i=e=>{try{n(o.throw(e))}catch(s){r(s)}},n=s=>s.done?e(s.value):Promise.resolve(s.value).then(t,i);n((o=o.apply(s,a)).next())}));var s,a,o}}},v={class:"login-wrapper"},y=(e=>(j("data-v-15cc427a"),e=e(),f(),e))((()=>m("header",{class:"login__title"},"密码登录",-1))),_={class:"login__main"},x={class:"login__btn"};var F=n(w,[["render",function(e,t,i,n,j,f){const w=s,F=a,k=o,P=r,V=g("waves");return p(),l("div",v,[y,m("main",_,[d(P,{onSubmit:f.onSubmit},{default:c((()=>[d(w,{modelValue:j.loginForm.username,"onUpdate:modelValue":t[0]||(t[0]=e=>j.loginForm.username=e),modelModifiers:{trim:!0},class:"username",size:"large",name:"username",placeholder:"输入用户名",border:!1,clearable:""},null,8,["modelValue"]),d(w,{modelValue:j.loginForm.password,"onUpdate:modelValue":t[1]||(t[1]=e=>j.loginForm.password=e),class:"password",size:"large",type:j.showPwd?"text":"password",name:"password",placeholder:"输入密码",border:!1,clearable:"",onClickRightIcon:t[2]||(t[2]=e=>j.showPwd=!j.showPwd)},{"right-icon":c((()=>[j.showPwd?(p(),u(F,{key:0,name:"eye-o"})):(p(),u(F,{key:1,name:"closed-eye"}))])),_:1},8,["modelValue","type"]),m("div",x,[b((p(),u(k,{color:j.linearGradientColor,disabled:f.disabledLogin,round:!1,block:"","native-type":"submit"},{default:c((()=>[h(" 立即登录 ")])),_:1},8,["color","disabled"])),[[V]])])])),_:1},8,["onSubmit"])])])}],["__scopeId","data-v-15cc427a"]]);export{F as default};
