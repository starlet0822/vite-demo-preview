import{h as e,F as a,p as s,j as o,k as r}from"./vant-cfb6f5c4.js";import{l as t,c as i}from"./index-a0cfc0df.js";import"./jsencrypt-522e98a3.js";import{_ as n}from"./plugin-vue_export-helper-893979e1.js";import{ak as l,al as m,l as d,b7 as c,aI as p,ai as u,v as b,A as f,aK as h,aJ as j,C as g}from"./@vue-0da0c2e3.js";import"./@vant-b0725c78.js";/* empty css                      */import"./amfe-flexible-385c80ea.js";import"./js-cookie-aaf6027b.js";import"./vue-router-1cbad9b8.js";import"./vuex-fdaeb4c6.js";import"./lodash-es-0ddda1ab.js";import"./axios-0cd4f164.js";import"./qs-efaa5365.js";import"./side-channel-ebdfdc6e.js";import"./get-intrinsic-8aab7bd3.js";import"./has-symbols-1f359e75.js";import"./function-bind-c930bb92.js";import"./has-03e8e28c.js";import"./call-bind-b7e23f7e.js";import"./object-inspect-af06f273.js";import"./@antv-74afab59.js";import"./tslib-546db90a.js";import"./fecha-2b185e5a.js";import"./nprogress-4e4fc296.js";import"./vue3-hash-calendar-e234247e.js";import"./hammerjs-ed6f6a9e.js";const w={name:"Login",components:{},data:()=>({linearGradientColor:t,showPwd:!1,loginForm:{username:"starlet",password:"666888"},saltkey:"",userInfo:{}}),computed:{disabledLogin(){return!this.loginForm.username.trim()||!this.loginForm.password}},created(){},methods:{onSubmit(e){this.userLogin()},userLogin(){return a=this,s=null,o=function*(){try{const a=this.loginForm,s=i().find((e=>e.username===a.username&&e.password===a.password));if(!s)return e("账号或密码不正确!");const{userId:o,username:r,token:t,realName:n,desc:l,roles:m}=s;this.$store.dispatch("login",s),this.$router.push({path:"/",query:{}}).catch((e=>{}))}catch(a){e({message:"登录失败"})}},new Promise(((e,r)=>{var t=e=>{try{n(o.next(e))}catch(a){r(a)}},i=e=>{try{n(o.throw(e))}catch(a){r(a)}},n=a=>a.done?e(a.value):Promise.resolve(a.value).then(t,i);n((o=o.apply(a,s)).next())}));var a,s,o}}},v={class:"login-wrapper layout__page"},y=(e=>(h("data-v-221cb7e9"),e=e(),j(),e))((()=>m("header",{class:"login__title"},"密码登录",-1))),_={class:"login__main layout__body"},k={class:"login__btn"};var x=n(w,[["render",function(e,t,i,n,h,j){const w=a,x=s,F=o,P=r,V=g("waves");return p(),l("div",v,[y,m("main",_,[d(P,{onSubmit:j.onSubmit},{default:c((()=>[d(w,{modelValue:h.loginForm.username,"onUpdate:modelValue":t[0]||(t[0]=e=>h.loginForm.username=e),modelModifiers:{trim:!0},class:"username",size:"large",name:"username",placeholder:"输入用户名",border:!1,autocomplete:"off",clearable:""},null,8,["modelValue"]),d(w,{modelValue:h.loginForm.password,"onUpdate:modelValue":t[1]||(t[1]=e=>h.loginForm.password=e),class:"password",size:"large",type:h.showPwd?"text":"password",name:"password",placeholder:"输入密码",border:!1,clearable:"",autocomplete:"off",onClickRightIcon:t[2]||(t[2]=e=>h.showPwd=!h.showPwd)},{"right-icon":c((()=>[h.showPwd?(p(),u(x,{key:0,name:"eye-o"})):(p(),u(x,{key:1,name:"closed-eye"}))])),_:1},8,["modelValue","type"]),m("div",k,[b((p(),u(F,{color:h.linearGradientColor,disabled:j.disabledLogin,round:!1,block:"","native-type":"submit"},{default:c((()=>[f(" 立即登录 ")])),_:1},8,["color","disabled"])),[[V]])])])),_:1},8,["onSubmit"])])])}],["__scopeId","data-v-221cb7e9"]]);export{x as default};
