var e=(e,t,a)=>new Promise(((s,o)=>{var i=e=>{try{n(a.next(e))}catch(t){o(t)}},l=e=>{try{n(a.throw(e))}catch(t){o(t)}},n=e=>e.done?s(e.value):Promise.resolve(e.value).then(i,l);n((a=a.apply(e,t)).next())}));import{p as t,e as a,P as s,Z as o,F as i,n as l,B as n,W as r,q as c,c as d}from"./vant-e0b5fbdf.js";import{_ as u}from"./index-eb7feec2.js";import{l as p,a as m,t as v,i as f,s as b,B as h,H as j,I as g,u as w,D as k,E as y,f as x,J as z,r as S,G as C,F as _,v as V,P,bl as U,S as T,aR as F,aQ as E}from"./@vue-52de1c01.js";import{u as I,b as L}from"./vue-router-35312974.js";import{a as M,f as q,t as B}from"./index-e3aa1ad9.js";import{a as D}from"./js-cookie-aaf6027b.js";import{_ as O}from"./plugin-vue_export-helper-893979e1.js";import{o as R}from"./vue3-colorpicker-4a089b00.js";import{u as G}from"./vuex-c830e64e.js";import{p as H}from"./index-764e346b.js";import"./@vant-0004063d.js";/* empty css                      */import"./amfe-flexible-385c80ea.js";import"./@vueuse-feee2333.js";import"./lodash-es-133975bb.js";import"./axios-0cd4f164.js";import"./qs-6446231f.js";import"./side-channel-b2edb420.js";import"./get-intrinsic-8aab7bd3.js";import"./has-symbols-1f359e75.js";import"./function-bind-c930bb92.js";import"./has-03e8e28c.js";import"./call-bind-b7e23f7e.js";import"./object-inspect-8ed24658.js";import"./@antv-8a75d63c.js";import"./tslib-546db90a.js";import"./fecha-2b185e5a.js";import"./nprogress-319be66c.js";import"./vue3-hash-calendar-68956731.js";import"./hammerjs-ed6f6a9e.js";import"./vue-types-9561ac9a.js";import"./tinycolor2-7446cab2.js";import"./@aesoper-316802a3.js";import"./vue3-angle-289b91e7.js";import"./gradient-parser-c9367eab.js";import"./@popperjs-b33e3bca.js";const J={class:"picker-fontSize-wrapper"},Q={class:"setting-box st-bg-white"},W={class:z(["st-flex-center"])},Z={class:"slider"},A={class:"custom-button"},K=p({name:"PickerFontSize"});var N=O(Object.assign(K,{emits:["change"],setup(e,{emit:a}){const s=m({fontSize:+D.get("fontSize")||M,fontTypes:q}),{fontSize:o,fontTypes:i}=v(s),l=f("setSize"),n=e=>{D.set("fontSize",e),localStorage.setItem("fontSize",e),l(e+"px"),a("change",e)};return(e,a)=>{const s=t;return b(),h("div",J,[j("div",Q,[j("div",W,g(w(i).get(+w(o))),1),j("div",Z,[k(s,{modelValue:w(o),"onUpdate:modelValue":a[0]||(a[0]=e=>x(o)?o.value=e:null),max:16,min:12,step:2,onChange:n},{button:y((()=>[j("div",A,g(w(o)),1)])),_:1},8,["modelValue"])])])])}}}),[["__scopeId","data-v-7c9c5aae"]]);const X={class:"layout__page"},Y={class:""},$={class:"st-margin-top-10"},ee=(e=>(F("data-v-6c9796a4"),e=e(),E(),e))((()=>j("div",{class:"color-point"},null,-1))),te={class:"st-margin-top-10"},ae={class:"st-margin-top-10"},se={class:"st-flex-center st-margin-top-15"},oe={class:"color-wrapper"},ie=p({name:"Setting"});var le=O(Object.assign(ie,{setup(t){U((e=>({fcb6214c:w(F)})));const p=f("setThemeColor");f("themeColor");const g=S(!1),F=S(D.get("themeColor")||B),E=e=>{p(e)};L();const O=I(),J=G(),Q=f("setTheme"),W=S("dark"===D.get("darkMode")),Z=e=>{Q(e?"dark":"light"),W.value=e,D.set("darkMode",e?"dark":"light")},A="//cdn.jsdelivr.net/npm/eruda";let K=[...document.scripts].find((e=>e.src===A));const ie=S(window.activeEruda),le=t=>e(this,null,(function*(){ne(t)})),ne=e=>{const t={defaults:{theme:e?"Dark":"Light"}};e?K?eruda.init(t):(c("初始化中"),new Promise(((e,a)=>{K=document.createElement("script"),K.type="text/javascript",K.onload=function(){eruda.init(t),window.activeEruda=!0,e(""),d()},K.onerror=function(e){a(e),d()},K.src=A,document.head.appendChild(K)}))):(K&&K.remove(),window.eruda&&(null==eruda||eruda.destroy()))},re=m({title:O.currentRoute.value.meta.title,screenLock:!1,showFontSize:!1,fontSize:D.get("fontSize")||M,fontTypes:q}),{title:ce,screenLock:de,showFontSize:ue,fontSize:pe,fontTypes:me}=v(re),ve=S(!1),fe=()=>{},be=()=>{ue.value=!0},he=e=>{pe.value=e},je=()=>{g.value=!0},ge=S(!1),we=[{name:"退出登录",color:"#ee0a24"}],ke=t=>e(this,null,(function*(){ge.value=!1,yield ye()})),ye=()=>e(this,null,(function*(){yield J.dispatch("logout"),yield J.dispatch("cacheViews/clearView"),yield O.replace("/login")}));return(e,t)=>{const c=u,d=a,p=s,m=o,v=i,f=l,S=n,U=r,I=T("doubletap"),L=T("waves");return b(),h("div",X,[C(k(c,{border:!1,class:z(["mine-nav-bar",{"nav-bar-bg":w(ve)}]),title:w(ce)},null,8,["class","title"]),[[I,fe]]),j("div",Y,[j("div",$,[k(d,{center:"","is-link":"",title:"个人资料",to:"/edit-baseinfo"}),k(d,{center:"","is-link":"",title:"修改密码",to:"/edit-baseinfo"}),k(d,{value:w(me).get(+w(pe)),center:"","is-link":"",title:"字体大小",onClick:be},null,8,["value"]),k(p,{show:w(ue),"onUpdate:show":t[0]||(t[0]=e=>x(ue)?ue.value=e:null),position:"bottom","z-index":9999,closeable:!1},{default:y((()=>[k(N,{onChange:he})])),_:1},8,["show"]),_("",!0),(b(),V(d,{key:1,center:"",title:"主题色",onClick:je},{value:y((()=>[ee])),_:1})),(b(),V(v,{key:2,name:"darkMode",label:"深色模式","input-align":"right",center:""},{input:y((()=>[k(m,{modelValue:w(W),"onUpdate:modelValue":t[1]||(t[1]=e=>x(W)?W.value=e:null),size:w(H)(18),onChange:Z},null,8,["modelValue","size"])])),_:1})),k(v,{name:"eruda",label:"eruda调试","input-align":"right",center:""},{input:y((()=>[k(m,{modelValue:w(ie),"onUpdate:modelValue":t[2]||(t[2]=e=>x(ie)?ie.value=e:null),size:w(H)(18),onChange:le},null,8,["modelValue","size"])])),_:1})]),j("div",te,[k(d,{center:"",title:"导航栏设置","is-link":"",to:"/setting-tabbar"})]),j("div",ae,[_("",!0)]),j("div",se,[C((b(),V(f,{block:"",style:{width:"80%"},type:"primary",onClick:t[3]||(t[3]=e=>ge.value=!0)},{default:y((()=>[P(" 退出登录 ")])),_:1})),[[L]])])]),k(S),k(U,{show:w(ge),"onUpdate:show":t[4]||(t[4]=e=>x(ge)?ge.value=e:null),actions:we,"cancel-text":"取消",description:"确定要退出当前账号？","close-on-click-overlay":!1,onSelect:ke},null,8,["show"]),k(p,{show:w(g),"onUpdate:show":t[6]||(t[6]=e=>x(g)?g.value=e:null)},{default:y((()=>[j("div",oe,[k(w(R),{pureColor:w(F),"onUpdate:pureColor":t[5]||(t[5]=e=>x(F)?F.value=e:null),"is-widget":!0,"disable-alpha":"",format:"hex","picker-type":"chrome","use-type":"pure",onPureColorChange:E},null,8,["pureColor"])])])),_:1},8,["show"])])}}}),[["__scopeId","data-v-6c9796a4"]]);export{le as default};
