import{p as a,q as e,r as s,c as t,h as o,n as r,j as l,R as n,B as i}from"./vant-56d7d53c.js";import{_ as p}from"./index-d91669f1.js";import{_ as d}from"./index-014fd06b.js";import{_ as m}from"./index-3f10a1ee.js";import{V as u}from"./vue-pdf-embed-d1cf4710.js";import{_ as c}from"./plugin-vue_export-helper-893979e1.js";import{r as f,b as j,aI as b,ak as v,l as _,b7 as g,u as x,f as h,ai as y,aj as P,aK as V,aJ as k,al as F,a5 as w,m as C}from"./@vue-0da0c2e3.js";import"./@vant-b0725c78.js";import"./vue-router-1cbad9b8.js";import"./index-be365d2b.js";/* empty css                      */import"./amfe-flexible-385c80ea.js";import"./js-cookie-aaf6027b.js";import"./vuex-fdaeb4c6.js";import"./lodash-es-0ddda1ab.js";import"./axios-0cd4f164.js";import"./qs-efaa5365.js";import"./side-channel-ebdfdc6e.js";import"./get-intrinsic-8aab7bd3.js";import"./has-symbols-1f359e75.js";import"./function-bind-c930bb92.js";import"./has-03e8e28c.js";import"./call-bind-b7e23f7e.js";import"./object-inspect-af06f273.js";import"./@antv-74afab59.js";import"./tslib-546db90a.js";import"./fecha-2b185e5a.js";import"./nprogress-4e4fc296.js";import"./vue3-hash-calendar-e234247e.js";import"./hammerjs-ed6f6a9e.js";import"./vue-30760876.js";const D={class:"pdf"},I=(a=>(V("data-v-87ef6828"),a=a(),k(),a))((()=>F("span",{class:"st-font-14"},w("显示全部"),-1)));var R=c({__name:"PDF",setup(i,{expose:p}){const d=f(null),c=f(1),V=f(0),k=f(!1),F=a=>{console.log("showAllPages",a,k.value),c.value=a?0:1};p({onPrint:()=>{d.value.print()}}),j((()=>{w()}));const w=()=>{a({message:"加载中..."})},C=()=>{t(),V.value=d.value.pageCount},R=()=>{o("打印失败！")},q=()=>{t(),o("加载失败！")};return(a,t)=>{const o=e,i=r,p=l,f=s,j=n,w=m;return b(),v("div",D,[_(j,{type:"flex",align:"center",class:"pdf-tools st-bg-white van-hairline--bottom st-padding-10"},{default:g((()=>[_(i,{span:"8"},{default:g((()=>[_(o,{modelValue:x(k),"onUpdate:modelValue":t[0]||(t[0]=a=>h(k)?k.value=a:null),onChange:F},{default:g((()=>[I])),_:1},8,["modelValue"])])),_:1}),x(k)?P("",!0):(b(),y(i,{key:0,span:"16"},{default:g((()=>[_(f,{modelValue:x(c),"onUpdate:modelValue":t[1]||(t[1]=a=>h(c)?c.value=a:null),"page-count":x(V),mode:"simple"},{"prev-text":g((()=>[_(p,{name:"arrow-left"})])),"next-text":g((()=>[_(p,{name:"arrow"})])),_:1},8,["modelValue","page-count"])])),_:1}))])),_:1}),_(x(u),{ref_key:"pdfRef",ref:d,class:"pdf-box",page:x(c),source:"http://storage.xuetangx.com/public_assets/xuetangx/PDF/PlayerAPI_v1.0.6.pdf",onRendered:C,onPrintingFailed:R,onLoadingFailed:q},null,8,["page"]),_(w)])}}},[["__scopeId","data-v-87ef6828"]]);const q={class:"layout__page"},A={class:"layout__header"},U={class:"layout__body st-margin-top-10"},z=C({name:"PDF"}),B=Object.assign(z,{setup(a){const e=f(null),s=()=>{e.value.onPrint()};return(a,t)=>{const o=d,r=p,l=i;return b(),v("div",q,[F("div",A,[_(r,null,{right:g((()=>[_(o,{name:"print","class-name":"st-color-blue st-font-16",onClick:s})])),_:1})]),F("div",U,[_(R,{ref_key:"pdf",ref:e},null,512)]),_(l,{target:".layout__body"})])}}});export{B as default};
