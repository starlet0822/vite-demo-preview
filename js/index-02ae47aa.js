import{D as t}from"./vant-7136ba84.js";import{f as e}from"./datetime-d5fdbd12.js";import{l as a,a as m,c as n,t as o,s as l,v as r,y as i,u,f as s}from"./@vue-52de1c01.js";const d=a({name:"DatePicker"}),f=Object.assign(d,{props:{value:{type:[Date,String],default:()=>new Date},columnsType:{type:Array,default:()=>["year","month","day"]},format:{type:String,default:""},title:{type:String,default:""},notFormat:{type:Boolean,default:!1},minDate:{type:[Date],default:()=>new Date((new Date).getFullYear()-3,0,1)},maxDate:{type:[Date],default:()=>new Date((new Date).getFullYear()-3,11,31)}},emits:["input","change","confirm","cancel"],setup(a,{emit:d}){const f=a,c=new Map([["datetime",{title:"选择完整时间",format:"YYYY-MM-DD HH:mm"}],["date",{title:"选择年月日",format:"YYYY-MM-DD"}],["time",{title:"选择时间",format:"HH:mm"}],["year-month",{title:"选择年月",format:"YYYY-MM"}],["month-day",{title:"选择月日",format:"MM-DD"}],["datehour",{title:"选择年月日小时",format:"YYYY-MM-DD HH"}]]),D=m({currentDate:n({get:()=>f.value,set(t){d("input",t)}}),getTitle:n((()=>{var t;return f.title||(null==(t=c.get(f.columnsType))?void 0:t.title)||"请选择"})),getFormat:n((()=>{var t;return f.format||(null==(t=c.get(f.columnsType))?void 0:t.format)||"YYYY-MM-DD"}))}),{currentDate:p,getTitle:y,getFormat:Y}=o(D),g=(t,e)=>("year"===t&&(e.text+="年"),"month"===t&&(e.text+="月"),"day"===t&&(e.text+="日"),e),M=t=>{const a=t.selectedValues.join("-");let m="";m=f.notFormat||"time"===f.columnsType?a:e(a,D.getFormat),d("change",m),d("confirm",m),v()},v=()=>{d("cancel",!1)};return(e,m)=>{const n=t;return l(),r(n,i({modelValue:u(p),"onUpdate:modelValue":m[0]||(m[0]=t=>s(p)?p.value=t:null),"columns-type":a.columnsType,title:u(y),"min-date":a.minDate,"max-date":a.maxDate,format:u(Y),formatter:g,"item-height":44},e.$attrs,{onConfirm:M,onCancel:v}),null,16,["modelValue","columns-type","title","min-date","max-date","format"])}}});export{f as _};
