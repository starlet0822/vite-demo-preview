var e=(e,t,s)=>new Promise(((a,o)=>{var i=e=>{try{r(s.next(e))}catch(t){o(t)}},n=e=>{try{r(s.throw(e))}catch(t){o(t)}},r=e=>e.done?a(e.value):Promise.resolve(e.value).then(i,n);r((s=s.apply(e,t)).next())}));import{Y as t,e as s,P as a,Z as o,F as i,l as n,V as r,o as l,c}from"./vant-7136ba84.js";import{l as p,a as d,t as u,i as m,s as f,B as v,H as h,I as b,u as j,D as g,E as w,f as y,J as k,r as x,v as z,F as S,G as C,P as _,bl as V,S as P}from"./@vue-52de1c01.js";import{u as T,a as U}from"./vue-router-a4543dac.js";import{_ as F,a as E,f as I,t as L}from"./index-3157abda.js";import{a as D}from"./js-cookie-aaf6027b.js";import{o as O}from"./vue3-colorpicker-119fa3f0.js";import{u as q}from"./vuex-c830e64e.js";import{p as B}from"./index-a5cbf9cf.js";import"./@vant-0004063d.js";/* empty css                      */import"./amfe-flexible-385c80ea.js";import"./@vueuse-feee2333.js";import"./lodash-es-c547d601.js";import"./axios-0cd4f164.js";import"./qs-6446231f.js";import"./side-channel-b2edb420.js";import"./get-intrinsic-8aab7bd3.js";import"./has-symbols-1f359e75.js";import"./function-bind-c930bb92.js";import"./has-03e8e28c.js";import"./call-bind-b7e23f7e.js";import"./object-inspect-8ed24658.js";import"./@antv-8a75d63c.js";import"./tslib-546db90a.js";import"./fecha-2b185e5a.js";import"./nprogress-319be66c.js";import"./vue3-hash-calendar-68956731.js";import"./hammerjs-ed6f6a9e.js";import"./vue-types-9561ac9a.js";import"./tinycolor2-7446cab2.js";import"./@aesoper-316802a3.js";import"./vue3-angle-289b91e7.js";import"./gradient-parser-c9367eab.js";import"./@popperjs-b33e3bca.js";const G={class:"picker-fontSize-wrapper"},H={class:"setting-box st-bg-white"},J={class:k(["st-flex-center"])},M={class:"slider"},R={class:"custom-button"},Y=p({name:"PickerFontSize"});var Z=F(Object.assign(Y,{emits:["change"],setup(e,{emit:s}){const a=d({fontSize:+D.get("fontSize")||E,fontTypes:I}),{fontSize:o,fontTypes:i}=u(a),n=m("setSize"),r=e=>{D.set("fontSize",e),localStorage.setItem("fontSize",e),n(e+"px"),s("change",e)};return(e,s)=>{const a=t;return f(),v("div",G,[h("div",H,[h("div",J,b(j(i).get(+j(o))),1),h("div",M,[g(a,{modelValue:j(o),"onUpdate:modelValue":s[0]||(s[0]=e=>y(o)?o.value=e:null),max:16,min:12,step:2,onChange:r},{button:w((()=>[h("div",R,b(j(o)),1)])),_:1},8,["modelValue"])])])])}}}),[["__scopeId","data-v-7c9c5aae"]]);const A={class:"page-wrapper"},K={class:"content"},N={class:"st-margin-top-10"},Q={class:"st-margin-top-10"},W={class:"st-margin-top-10"},X={class:"st-flex-center st-margin-top-15"},$={class:"color-wrapper"},ee=p({name:"Setting"});var te=F(Object.assign(ee,{setup(t){V((e=>({"0d004b2a":j(k)})));const p=m("setThemeColor");m("themeColor");const b=x(!1),k=x(D.get("themeColor")||L),F=e=>{p(e)};U();const G=T(),H=q();m("setTheme"),x("dark"===D.get("darkMode"));const J="//cdn.jsdelivr.net/npm/eruda";let M=[...document.scripts].find((e=>e.src===J));const R=x(window.activeEruda),Y=t=>e(this,null,(function*(){ee(t)})),ee=e=>{const t={defaults:{theme:e?"Dark":"Light"}};e?M?eruda.init(t):(l("初始化中"),new Promise(((e,s)=>{M=document.createElement("script"),M.type="text/javascript",M.onload=function(){eruda.init(t),window.activeEruda=!0,e(""),c()},M.onerror=function(e){s(e),c()},M.src=J,document.head.appendChild(M)}))):(M&&M.remove(),window.eruda&&(null==eruda||eruda.destroy()))},te=d({title:G.currentRoute.value.meta.title,screenLock:!1,showFontSize:!1,fontSize:D.get("fontSize")||E,fontTypes:I}),{title:se,screenLock:ae,showFontSize:oe,fontSize:ie,fontTypes:ne}=u(te);x(!1);const re=()=>{oe.value=!0},le=e=>{ie.value=e},ce=x(!1),pe=[{name:"退出登录",color:"#ee0a24"}],de=t=>e(this,null,(function*(){ce.value=!1,yield ue()})),ue=()=>e(this,null,(function*(){yield H.dispatch("logout"),yield H.dispatch("cacheViews/clearView"),yield G.replace("/login")}));return(e,t)=>{const l=s,c=a,p=o,d=i,u=n,m=r,x=P("waves");return f(),v("div",A,[h("div",K,[h("div",N,[g(l,{center:"","is-link":"",title:"个人资料",to:"/edit-baseinfo"}),(f(),z(l,{key:0,value:j(ne).get(+j(ie)),center:"","is-link":"",title:"字体大小",onClick:re},null,8,["value"])),g(c,{show:j(oe),"onUpdate:show":t[0]||(t[0]=e=>y(oe)?oe.value=e:null),position:"bottom","z-index":9999,closeable:!1},{default:w((()=>[g(Z,{onChange:le})])),_:1},8,["show"]),S("",!0),S("",!0),S("",!0),g(d,{name:"eruda",label:"eruda调试","input-align":"right",center:""},{input:w((()=>[g(p,{modelValue:j(R),"onUpdate:modelValue":t[2]||(t[2]=e=>y(R)?R.value=e:null),size:j(B)(18),onChange:Y},null,8,["modelValue","size"])])),_:1})]),h("div",Q,[g(l,{center:"",title:"导航栏设置","is-link":"",to:"/setting-tabbar"}),S("",!0)]),h("div",W,[S("",!0)]),h("div",X,[C((f(),z(u,{block:"",style:{width:"80%"},type:"primary",onClick:t[3]||(t[3]=e=>ce.value=!0)},{default:w((()=>[_(" 退出登录 ")])),_:1})),[[x]])])]),g(m,{show:j(ce),"onUpdate:show":t[4]||(t[4]=e=>y(ce)?ce.value=e:null),actions:pe,"cancel-text":"取消",description:"确定要退出当前账号？","close-on-click-overlay":!0,onSelect:de},null,8,["show"]),g(c,{show:j(b),"onUpdate:show":t[6]||(t[6]=e=>y(b)?b.value=e:null)},{default:w((()=>[h("div",$,[g(j(O),{pureColor:j(k),"onUpdate:pureColor":t[5]||(t[5]=e=>y(k)?k.value=e:null),"is-widget":!0,"disable-alpha":"",format:"hex","picker-type":"chrome","use-type":"pure",onPureColorChange:F},null,8,["pureColor"])])])),_:1},8,["show"])])}}}),[["__scopeId","data-v-32ff67f0"]]);export{te as default};
