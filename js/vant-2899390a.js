var e=Math.pow;import{u as t,r as o,a as n,i as l,w as a,b as i,n as s,l as r,m as c,g as u,c as d,d as p,e as v,q as m,p as h,s as f,t as g,T as b,v as y,x as w,y as x,F as k,z as C,A as S,o as B,B as z,C as T,D as I,E as O,G as V}from"./@vue-0da0c2e3.js";import{u as A,a as $,b as P,c as L,o as E,g as D,d as H,r as N,e as R,f as M,h as j,C as F,i as W,j as Y,k as q,l as U,m as X}from"./@vant-b0725c78.js";const Z=e=>null!=e,G=e=>"function"==typeof e,K=e=>null!==e&&"object"==typeof e,J=e=>K(e)&&G(e.then)&&G(e.catch),Q=e=>"[object Date]"===Object.prototype.toString.call(e)&&!Number.isNaN(e.getTime()),_=e=>"number"==typeof e||/^\d+(\.\d+)?$/.test(e);function ee(){}const te=Object.assign,oe="undefined"!=typeof window;function ne(e,t){const o=t.split(".");let n=e;return o.forEach((e=>{var t;n=K(n)&&null!=(t=n[e])?t:""})),n}function le(e,t,o){return t.reduce(((t,n)=>(o&&void 0===e[n]||(t[n]=e[n]),t)),{})}const ae=(e,t)=>JSON.stringify(e)===JSON.stringify(t),ie=e=>Array.isArray(e)?e:[e],se=[Number,String],re={type:Boolean,default:!0},ce=e=>({type:e,required:!0}),ue=()=>({type:Array,default:()=>[]}),de=e=>({type:Number,default:e}),pe=e=>({type:se,default:e}),ve=e=>({type:String,default:e});function me(e){const t="scrollTop"in e?e.scrollTop:e.pageYOffset;return Math.max(t,0)}function he(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}function fe(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function ge(e){he(window,e),he(document.body,e)}function be(e,t){if(e===window)return 0;const o=t?me(t):fe();return $(e).top+o}const ye=!!oe&&/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase());const we=e=>e.stopPropagation();function xe(e,t){("boolean"!=typeof e.cancelable||e.cancelable)&&e.preventDefault(),t&&we(e)}function ke(e){const o=t(e);if(!o)return!1;const n=window.getComputedStyle(o),l="none"===n.display,a=null===o.offsetParent&&"fixed"!==n.position;return l||a}const{width:Ce,height:Se}=A();function Be(e){if(Z(e))return _(e)?`${e}px`:String(e)}function ze(e){if(Z(e)){if(Array.isArray(e))return{width:Be(e[0]),height:Be(e[1])};const t=Be(e);return{width:t,height:t}}}function Te(e){const t={};return void 0!==e&&(t.zIndex=+e),t}let Ie;function Oe(e){return+(e=e.replace(/rem/g,""))*function(){if(!Ie){const e=document.documentElement,t=e.style.fontSize||window.getComputedStyle(e).fontSize;Ie=parseFloat(t)}return Ie}()}function Ve(e){if("number"==typeof e)return e;if(oe){if(e.includes("rem"))return Oe(e);if(e.includes("vw"))return function(e){return+(e=e.replace(/vw/g,""))*Ce.value/100}(e);if(e.includes("vh"))return function(e){return+(e=e.replace(/vh/g,""))*Se.value/100}(e)}return parseFloat(e)}const Ae=/-(\w)/g,$e=e=>e.replace(Ae,((e,t)=>t.toUpperCase()));const Pe=(e,t,o)=>Math.min(Math.max(e,t),o);function Le(e,t,o){const n=e.indexOf(t);return-1===n?e:"-"===t&&0!==n?e.slice(0,n):e.slice(0,n+1)+e.slice(n).replace(o,"")}const{hasOwnProperty:Ee}=Object.prototype;function De(e,t){return Object.keys(t).forEach((o=>{!function(e,t,o){const n=t[o];Z(n)&&(Ee.call(e,o)&&K(n)?e[o]=De(Object(e[o]),n):e[o]=n)}(e,t,o)})),e}const He=o("zh-CN"),Ne=n({"zh-CN":{name:"姓名",tel:"电话",save:"保存",confirm:"确认",cancel:"取消",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,t)=>`${e}年${t}月`,rangePrompt:e=>`最多选择 ${e} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:e=>`${e}折`,condition:e=>`满${e}元可用`},vanCouponCell:{title:"优惠券",count:e=>`${e}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}}});var Re={messages:()=>Ne[He.value],use(e,t){He.value=e,this.add({[e]:t})},add(e={}){De(Ne,e)}};function Me(e){const t=$e(e)+".";return(e,...o)=>{const n=Re.messages(),l=ne(n,t+e)||ne(n,e);return G(l)?l(...o):l}}function je(e,t){return t?"string"==typeof t?` ${e}--${t}`:Array.isArray(t)?t.reduce(((t,o)=>t+je(e,o)),""):Object.keys(t).reduce(((o,n)=>o+(t[n]?je(e,n):"")),""):""}function Fe(e){return(t,o)=>(t&&"string"!=typeof t&&(o=t,t=""),`${t=t?`${e}__${t}`:e}${je(t,o)}`)}function We(e){const t=`van-${e}`;return[t,Fe(t),Me(t)]}const Ye="van-hairline",qe=`${Ye}--top`,Ue=`${Ye}--left`,Xe=`${Ye}--bottom`,Ze=`${Ye}--surround`,Ge=`${Ye}--top-bottom`,Ke=`${Ye}-unset--top-bottom`,Je="van-haptics-feedback",Qe=Symbol("van-form");function _e(e,{args:t=[],done:o,canceled:n}){if(e){const l=e.apply(null,t);J(l)?l.then((e=>{e?o():n&&n()})).catch(ee):l?o():n&&n()}else o()}function et(e){return e.install=t=>{const{name:o}=e;o&&(t.component(o,e),t.component($e(`-${o}`),e))},e}const tt=Symbol();function ot(e){const t=l(tt,null);t&&a(t,(t=>{t&&e()}))}function nt(e,t){const n=((e,t)=>{const n=o(),l=()=>{n.value=$(e).height};return i((()=>{if(s(l),t)for(let e=1;e<=3;e++)setTimeout(l,100*e)})),ot((()=>s(l))),a([Ce,Se],l),n})(e,!0);return e=>r("div",{class:t("placeholder"),style:{height:n.value?`${n.value}px`:void 0}},[e()])}const[lt,at]=We("action-bar"),it=Symbol(lt);const st=et(c({name:lt,props:{placeholder:Boolean,safeAreaInsetBottom:re},setup(e,{slots:t}){const n=o(),l=nt(n,at),{linkChildren:a}=P(it);a();const i=()=>{var o;return r("div",{ref:n,class:[at(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[null==(o=t.default)?void 0:o.call(t)])};return()=>e.placeholder?l(i):i()}}));function rt(e){const t=u();t&&te(t.proxy,e)}const ct={to:[String,Object],url:String,replace:Boolean};function ut({to:e,url:t,replace:o,$router:n}){e&&n?n[o?"replace":"push"](e):t&&(o?location.replace(t):location.href=t)}function dt(){const e=u().proxy;return()=>ut(e)}const[pt,vt]=We("badge");const mt=et(c({name:pt,props:{dot:Boolean,max:se,tag:ve("div"),color:String,offset:Array,content:se,showZero:re,position:ve("top-right")},setup(e,{slots:t}){const o=()=>{if(t.content)return!0;const{content:o,showZero:n}=e;return Z(o)&&""!==o&&(n||0!==o&&"0"!==o)},n=()=>{const{dot:n,max:l,content:a}=e;if(!n&&o())return t.content?t.content():Z(l)&&_(a)&&+a>l?`${l}+`:a},l=e=>e.startsWith("-")?e.replace("-",""):`-${e}`,a=d((()=>{const o={background:e.color};if(e.offset){const[n,a]=e.offset,{position:i}=e,[s,r]=i.split("-");t.default?(o[s]="number"==typeof a?Be("top"===s?a:-a):"top"===s?Be(a):l(a),o[r]="number"==typeof n?Be("left"===r?n:-n):"left"===r?Be(n):l(n)):(o.marginTop=Be(a),o.marginLeft=Be(n))}return o})),i=()=>{if(o()||e.dot)return r("div",{class:vt([e.position,{dot:e.dot,fixed:!!t.default}]),style:a.value},[n()])};return()=>{if(t.default){const{tag:o}=e;return r(o,{class:vt("wrapper")},{default:()=>[t.default(),i()]})}return i()}}}));let ht=2e3;const[ft,gt]=We("config-provider"),bt=Symbol(ft);var yt=c({name:ft,props:{tag:ve("div"),theme:ve("light"),zIndex:Number,themeVars:Object,themeVarsDark:Object,themeVarsLight:Object,iconPrefix:String},setup(e,{slots:t}){const o=d((()=>function(e){const t={};return Object.keys(e).forEach((o=>{var n;t[`--van-${n=o,n.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,"")}`]=e[o]})),t}(te({},e.themeVars,"dark"===e.theme?e.themeVarsDark:e.themeVarsLight))));if(oe){const t=()=>{document.documentElement.classList.add(`van-theme-${e.theme}`)},o=(t=e.theme)=>{document.documentElement.classList.remove(`van-theme-${t}`)};a((()=>e.theme),((e,n)=>{n&&o(n),t()}),{immediate:!0}),p(t),v(o),m(o)}return h(bt,e),f((()=>{var t;void 0!==e.zIndex&&(t=e.zIndex,ht=t)})),()=>r(e.tag,{class:gt(),style:o.value},{default:()=>{var e;return[null==(e=t.default)?void 0:e.call(t)]}})}});const[wt,xt]=We("icon");const kt=et(c({name:wt,props:{dot:Boolean,tag:ve("i"),name:String,size:se,badge:se,color:String,badgeProps:Object,classPrefix:String},setup(e,{slots:t}){const o=l(bt,null),n=d((()=>e.classPrefix||(null==o?void 0:o.iconPrefix)||xt()));return()=>{const{tag:o,dot:l,name:a,size:i,badge:s,color:c}=e,u=(e=>null==e?void 0:e.includes("/"))(a);return r(mt,g({dot:l,tag:o,class:[n.value,u?"":`${n.value}-${a}`],style:{color:c,fontSize:Be(i)},content:s},e.badgeProps),{default:()=>{var e;return[null==(e=t.default)?void 0:e.call(t),u&&r("img",{class:xt("image"),src:a},null)]}})}}})),[Ct,St]=We("loading"),Bt=Array(12).fill(null).map(((e,t)=>r("i",{class:St("line",String(t+1))},null))),zt=r("svg",{class:St("circular"),viewBox:"25 25 50 50"},[r("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]);const Tt=et(c({name:Ct,props:{size:se,type:ve("circular"),color:String,vertical:Boolean,textSize:se,textColor:String},setup(e,{slots:t}){const o=d((()=>te({color:e.color},ze(e.size)))),n=()=>{const n="spinner"===e.type?Bt:zt;return r("span",{class:St("spinner",e.type),style:o.value},[t.icon?t.icon():n])},l=()=>{var o;if(t.default)return r("span",{class:St("text"),style:{fontSize:Be(e.textSize),color:null!=(o=e.textColor)?o:e.color}},[t.default()])};return()=>{const{type:t,vertical:o}=e;return r("div",{class:St([t,{vertical:o}]),"aria-live":"polite","aria-busy":!0},[n(),l()])}}})),[It,Ot]=We("button");const Vt=et(c({name:It,props:te({},ct,{tag:ve("button"),text:String,icon:String,type:ve("default"),size:ve("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:ve("button"),loadingSize:se,loadingText:String,loadingType:String,iconPosition:ve("left")}),emits:["click"],setup(e,{emit:t,slots:o}){const n=dt(),l=()=>e.loading?o.loading?o.loading():r(Tt,{size:e.loadingSize,type:e.loadingType,class:Ot("loading")},null):o.icon?r("div",{class:Ot("icon")},[o.icon()]):e.icon?r(kt,{name:e.icon,class:Ot("icon"),classPrefix:e.iconPrefix},null):void 0,a=()=>{let t;if(t=e.loading?e.loadingText:o.default?o.default():e.text,t)return r("span",{class:Ot("text")},[t])},i=()=>{const{color:t,plain:o}=e;if(t){const e={color:o?t:"white"};return o||(e.background=t),t.includes("gradient")?e.border=0:e.borderColor=t,e}},s=o=>{e.loading?xe(o):e.disabled||(t("click",o),n())};return()=>{const{tag:t,type:o,size:n,block:c,round:u,plain:d,square:p,loading:v,disabled:m,hairline:h,nativeType:f,iconPosition:g}=e,b=[Ot([o,n,{plain:d,block:c,round:u,square:p,loading:v,disabled:m,hairline:h}]),{[Ze]:h}];return r(t,{type:f,class:b,style:i(),disabled:m,onClick:s},{default:()=>[r("div",{class:Ot("content")},["left"===g&&l(),a(),"right"===g&&l()])]})}}})),[At,$t]=We("action-bar-button");const Pt=et(c({name:At,props:te({},ct,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean}),setup(e,{slots:t}){const o=dt(),{parent:n,index:l}=L(it),a=d((()=>{if(n){const e=n.children[l.value-1];return!(e&&"isButton"in e)}})),i=d((()=>{if(n){const e=n.children[l.value+1];return!(e&&"isButton"in e)}}));return rt({isButton:!0}),()=>{const{type:n,icon:l,text:s,color:c,loading:u,disabled:d}=e;return r(Vt,{class:$t([n,{last:i.value,first:a.value}]),size:"large",type:n,icon:l,color:c,loading:u,disabled:d,onClick:o},{default:()=>[t.default?t.default():s]})}}})),Lt={show:Boolean,zIndex:se,overlay:re,duration:se,teleport:[String,Object],lockScroll:re,lazyRender:re,beforeClose:Function,overlayStyle:Object,overlayClass:null,transitionAppear:Boolean,closeOnClickOverlay:re},Et=Object.keys(Lt);function Dt(){const e=o(0),t=o(0),n=o(0),l=o(0),a=o(0),i=o(0),s=o(""),r=()=>{n.value=0,l.value=0,a.value=0,i.value=0,s.value=""};return{move:o=>{const r=o.touches[0];n.value=(r.clientX<0?0:r.clientX)-e.value,l.value=r.clientY-t.value,a.value=Math.abs(n.value),i.value=Math.abs(l.value);var c,u;(!s.value||a.value<10&&i.value<10)&&(s.value=(c=a.value,u=i.value,c>u?"horizontal":u>c?"vertical":""))},start:o=>{r(),e.value=o.touches[0].clientX,t.value=o.touches[0].clientY},reset:r,startX:e,startY:t,deltaX:n,deltaY:l,offsetX:a,offsetY:i,direction:s,isVertical:()=>"vertical"===s.value,isHorizontal:()=>"horizontal"===s.value}}let Ht=0;function Nt(e){const t=o(!1);return a(e,(e=>{e&&(t.value=e)}),{immediate:!0}),e=>()=>t.value?e():null}const[Rt,Mt]=We("overlay");const jt=et(c({name:Rt,props:{show:Boolean,zIndex:se,duration:se,className:null,lockScroll:re,lazyRender:re,customStyle:Object},setup(e,{slots:t}){const n=o(),l=Nt((()=>e.show||!e.lazyRender))((()=>{var o;const l=te(Te(e.zIndex),e.customStyle);return Z(e.duration)&&(l.animationDuration=`${e.duration}s`),y(r("div",{ref:n,style:l,class:[Mt(),e.className]},[null==(o=t.default)?void 0:o.call(t)]),[[w,e.show]])}));return H("touchmove",(t=>{e.lockScroll&&xe(t,!0)}),{target:n}),()=>r(b,{name:"van-fade",appear:!0},{default:l})}})),Ft=te({},Lt,{round:Boolean,position:ve("center"),closeIcon:ve("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:ve("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[Wt,Yt]=We("popup");const qt=et(c({name:Wt,inheritAttrs:!1,props:Ft,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(e,{emit:t,attrs:n,slots:l}){let c,u;const f=o(),C=o(),S=Nt((()=>e.show||!e.lazyRender)),B=d((()=>{const t={zIndex:f.value};if(Z(e.duration)){t["center"===e.position?"animationDuration":"transitionDuration"]=`${e.duration}s`}return t})),z=()=>{c||(c=!0,f.value=void 0!==e.zIndex?+e.zIndex:++ht,t("open"))},T=()=>{c&&_e(e.beforeClose,{done(){c=!1,t("close"),t("update:show",!1)}})},I=o=>{t("clickOverlay",o),e.closeOnClickOverlay&&T()},O=()=>{if(e.overlay)return r(jt,{show:e.show,class:e.overlayClass,zIndex:f.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0,onClick:I},{default:l["overlay-content"]})},V=e=>{t("clickCloseIcon",e),T()},A=()=>{if(e.closeable)return r(kt,{role:"button",tabindex:0,name:e.closeIcon,class:[Yt("close-icon",e.closeIconPosition),Je],classPrefix:e.iconPrefix,onClick:V},null)},$=()=>t("opened"),P=()=>t("closed"),L=e=>t("keydown",e),N=S((()=>{var t;const{round:o,position:a,safeAreaInsetTop:i,safeAreaInsetBottom:s}=e;return y(r("div",g({ref:C,style:B.value,role:"dialog",tabindex:0,class:[Yt({round:o,[a]:a}),{"van-safe-area-top":i,"van-safe-area-bottom":s}],onKeydown:L},n),[null==(t=l.default)?void 0:t.call(l),A()]),[[w,e.show]])})),R=()=>{const{position:t,transition:o,transitionAppear:n}=e;return r(b,{name:o||("center"===t?"van-fade":`van-popup-slide-${t}`),appear:n,onAfterEnter:$,onAfterLeave:P},{default:N})};return a((()=>e.show),(e=>{e&&!c&&(z(),0===n.tabindex&&s((()=>{var e;null==(e=C.value)||e.focus()}))),!e&&c&&(c=!1,t("close"))})),rt({popupRef:C}),function(e,t){const o=Dt(),n=t=>{o.move(t);const n=o.deltaY.value>0?"10":"01",l=D(t.target,e.value),{scrollHeight:a,offsetHeight:i,scrollTop:s}=l;let r="11";0===s?r=i>=a?"00":"01":s+i>=a&&(r="10"),"11"===r||!o.isVertical()||parseInt(r,2)&parseInt(n,2)||xe(t,!0)},l=()=>{document.addEventListener("touchstart",o.start),document.addEventListener("touchmove",n,{passive:!1}),Ht||document.body.classList.add("van-overflow-hidden"),Ht++},i=()=>{Ht&&(document.removeEventListener("touchstart",o.start),document.removeEventListener("touchmove",n),Ht--,Ht||document.body.classList.remove("van-overflow-hidden"))},s=()=>t()&&i();E((()=>t()&&l())),v(s),m(s),a(t,(e=>{e?l():i()}))}(C,(()=>e.show&&e.lockScroll)),H("popstate",(()=>{e.closeOnPopstate&&(T(),u=!1)})),i((()=>{e.show&&z()})),p((()=>{u&&(t("update:show",!0),u=!1)})),v((()=>{e.show&&e.teleport&&(T(),u=!0)})),h(tt,(()=>e.show)),()=>e.teleport?r(x,{to:e.teleport},{default:()=>[O(),R()]}):r(k,null,[O(),R()])}})),[Ut,Xt]=We("action-sheet"),Zt=te({},Lt,{title:String,round:re,actions:ue(),closeIcon:ve("cross"),closeable:re,cancelText:String,description:String,closeOnPopstate:re,closeOnClickAction:Boolean,safeAreaInsetBottom:re}),Gt=[...Et,"round","closeOnPopstate","safeAreaInsetBottom"];const Kt=et(c({name:Ut,props:Zt,emits:["select","cancel","update:show"],setup(e,{slots:t,emit:o}){const n=e=>o("update:show",e),l=()=>{n(!1),o("cancel")},a=()=>{if(e.title)return r("div",{class:Xt("header")},[e.title,e.closeable&&r(kt,{name:e.closeIcon,class:[Xt("close"),Je],onClick:l},null)])},i=()=>{if(t.cancel||e.cancelText)return[r("div",{class:Xt("gap")},null),r("button",{type:"button",class:Xt("cancel"),onClick:l},[t.cancel?t.cancel():e.cancelText])]},c=(e,o)=>e.loading?r(Tt,{class:Xt("loading-icon")},null):t.action?t.action({action:e,index:o}):[r("span",{class:Xt("name")},[e.name]),e.subname&&r("div",{class:Xt("subname")},[e.subname])],u=(t,l)=>{const{color:a,loading:i,callback:u,disabled:d,className:p}=t;return r("button",{type:"button",style:{color:a},class:[Xt("item",{loading:i,disabled:d}),p],onClick:()=>{d||i||(u&&u(t),e.closeOnClickAction&&n(!1),s((()=>o("select",t,l))))}},[c(t,l)])},d=()=>{if(e.description||t.description){const o=t.description?t.description():e.description;return r("div",{class:Xt("description")},[o])}};return()=>r(qt,g({class:Xt(),position:"bottom","onUpdate:show":n},le(e,Gt)),{default:()=>{var o;return[a(),d(),r("div",{class:Xt("content")},[e.actions.map(u),null==(o=t.default)?void 0:o.call(t)]),i()]}})}})),[Jt,Qt,_t]=We("picker"),eo=e=>e.find((e=>!e.disabled))||e[0];function to(e,t){for(let o=t=Pe(t,0,e.length);o<e.length;o++)if(!e[o].disabled)return o;for(let o=t-1;o>=0;o--)if(!e[o].disabled)return o;return 0}const oo=(e,t,o)=>void 0!==t&&!!e.find((e=>e[o.value]===t));function no(e,t,o){const n=e.findIndex((e=>e[o.value]===t));return e[to(e,n)]}const[lo,ao]=We("picker-column"),io=Symbol(lo);var so=c({name:lo,props:{value:se,fields:ce(Object),options:ue(),readonly:Boolean,allowHtml:Boolean,optionHeight:ce(Number),swipeDuration:ce(se),visibleOptionNum:ce(se)},emits:["change","clickOption"],setup(e,{emit:t,slots:n}){let l,a,i,s,c;const u=o(),d=o(),p=o(0),v=o(0),m=Dt(),h=()=>e.options.length,g=()=>e.optionHeight*(+e.visibleOptionNum-1)/2,b=o=>{const n=to(e.options,o),a=-n*e.optionHeight,i=()=>{const o=e.options[n][e.fields.value];o!==e.value&&t("change",o)};l&&a!==p.value?c=i:i(),p.value=a},y=()=>e.readonly||!e.options.length,w=t=>Pe(Math.round(-t/e.optionHeight),0,h()-1),x=()=>{l=!1,v.value=0,c&&(c(),c=null)},k=e=>{if(!y()){if(m.start(e),l){const e=function(e){const{transform:t}=window.getComputedStyle(e),o=t.slice(7,t.length-1).split(", ")[5];return Number(o)}(d.value);p.value=Math.min(0,e-g())}v.value=0,a=p.value,i=Date.now(),s=a,c=null}},C=()=>{if(y())return;const t=p.value-s,o=Date.now()-i;if(o<300&&Math.abs(t)>15)return void((t,o)=>{const n=Math.abs(t/o);t=p.value+n/.003*(t<0?-1:1);const l=w(t);v.value=+e.swipeDuration,b(l)})(t,o);const n=w(p.value);v.value=200,b(n),setTimeout((()=>{l=!1}),0)},S=()=>{const o={height:`${e.optionHeight}px`};return e.options.map(((a,i)=>{const s=a[e.fields.text],{disabled:u}=a,d=a[e.fields.value],p={role:"button",style:o,tabindex:u?-1:0,class:[ao("item",{disabled:u,selected:d===e.value}),a.className],onClick:()=>(o=>{l||y()||(c=null,v.value=200,b(o),t("clickOption",e.options[o]))})(i)},m={class:"van-ellipsis",[e.allowHtml?"innerHTML":"textContent"]:s};return r("li",p,[n.option?n.option(a):r("div",m,null)])}))};return L(io),rt({stopMomentum:x}),f((()=>{const t=e.options.findIndex((t=>t[e.fields.value]===e.value)),o=-to(e.options,t)*e.optionHeight;p.value=o})),H("touchmove",(t=>{if(y())return;m.move(t),m.isVertical()&&(l=!0,xe(t,!0)),p.value=Pe(a+m.deltaY.value,-h()*e.optionHeight,e.optionHeight);const o=Date.now();o-i>300&&(i=o,s=p.value)}),{target:u}),()=>r("div",{ref:u,class:ao(),onTouchstartPassive:k,onTouchend:C,onTouchcancel:C},[r("ul",{ref:d,style:{transform:`translate3d(0, ${p.value+g()}px, 0)`,transitionDuration:`${v.value}ms`,transitionProperty:v.value?"all":"none"},class:ao("wrapper"),onTransitionend:x},[S()])])}});const[ro]=We("picker-toolbar"),co={title:String,cancelButtonText:String,confirmButtonText:String},uo=["cancel","confirm","title","toolbar"],po=Object.keys(co);var vo=c({name:ro,props:co,emits:["confirm","cancel"],setup(e,{emit:t,slots:o}){const n=()=>t("cancel"),l=()=>t("confirm"),a=()=>{const t=e.cancelButtonText||_t("cancel");return r("button",{type:"button",class:[Qt("cancel"),Je],onClick:n},[o.cancel?o.cancel():t])},i=()=>{const t=e.confirmButtonText||_t("confirm");return r("button",{type:"button",class:[Qt("confirm"),Je],onClick:l},[o.confirm?o.confirm():t])};return()=>r("div",{class:Qt("toolbar")},[o.toolbar?o.toolbar():[a(),o.title?o.title():e.title?r("div",{class:[Qt("title"),"van-ellipsis"]},[e.title]):void 0,i()]])}});let mo=0;function ho(){const e=u(),{name:t="unknown"}=(null==e?void 0:e.type)||{};return`${t}-${++mo}`}const[fo,go]=We("sticky");const bo=et(c({name:fo,props:{zIndex:se,position:ve("top"),container:Object,offsetTop:pe(0),offsetBottom:pe(0)},emits:["scroll","change"],setup(e,{emit:t,slots:l}){const i=o(),s=R(i),c=n({fixed:!1,width:0,height:0,transform:0}),u=d((()=>Ve("top"===e.position?e.offsetTop:e.offsetBottom))),p=d((()=>{const{fixed:e,height:t,width:o}=c;if(e)return{width:`${o}px`,height:`${t}px`}})),h=d((()=>{if(!c.fixed)return;const t=te(Te(e.zIndex),{width:`${c.width}px`,height:`${c.height}px`,[e.position]:`${u.value}px`});return c.transform&&(t.transform=`translate3d(0, ${c.transform}px, 0)`),t})),f=()=>{if(!i.value||ke(i))return;const{container:o,position:n}=e,l=$(i),a=me(window);if(c.width=l.width,c.height=l.height,"top"===n)if(o){const e=$(o),t=e.bottom-u.value-c.height;c.fixed=u.value>l.top&&e.bottom>0,c.transform=t<0?t:0}else c.fixed=u.value>l.top;else{const{clientHeight:e}=document.documentElement;if(o){const t=$(o),n=e-t.top-u.value-c.height;c.fixed=e-u.value<l.bottom&&e>t.top,c.transform=n<0?-n:0}else c.fixed=e-u.value<l.bottom}(e=>{t("scroll",{scrollTop:e,isFixed:c.fixed})})(a)};return a((()=>c.fixed),(e=>t("change",e))),H("scroll",f,{target:s,passive:!0}),function(e,t){if(!oe||!window.IntersectionObserver)return;const o=new IntersectionObserver((e=>{t(e[0].intersectionRatio>0)}),{root:document.body}),n=()=>{e.value&&o.unobserve(e.value)};v(n),m(n),E((()=>{e.value&&o.observe(e.value)}))}(i,f),()=>{var e;return r("div",{ref:i,style:p.value},[r("div",{class:go({fixed:c.fixed}),style:h.value},[null==(e=l.default)?void 0:e.call(l)])])}}})),[yo,wo]=We("tab");var xo=c({name:yo,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:se,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:re},setup(e,{slots:t}){const o=d((()=>{const t={},{type:o,color:n,disabled:l,isActive:a,activeColor:i,inactiveColor:s}=e;n&&"card"===o&&(t.borderColor=n,l||(a?t.backgroundColor=n:t.color=n));const r=a?i:s;return r&&(t.color=r),t})),n=()=>{const o=r("span",{class:wo("text",{ellipsis:!e.scrollable})},[t.title?t.title():e.title]);return e.dot||Z(e.badge)&&""!==e.badge?r(mt,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[o]}):o};return()=>r("div",{id:e.id,role:"tab",class:[wo([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:o.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls},[n()])}});const[ko,Co]=We("swipe"),So={loop:re,width:se,height:se,vertical:Boolean,autoplay:pe(0),duration:pe(500),touchable:re,lazyRender:Boolean,initialSwipe:pe(0),indicatorColor:String,showIndicators:re,stopPropagation:re},Bo=Symbol(ko);const zo=et(c({name:ko,props:So,emits:["change","dragStart","dragEnd"],setup(e,{emit:t,slots:l}){const c=o(),u=o(),h=n({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let f=!1;const g=Dt(),{children:b,linkChildren:y}=P(Bo),w=d((()=>b.length)),x=d((()=>h[e.vertical?"height":"width"])),k=d((()=>e.vertical?g.deltaY.value:g.deltaX.value)),C=d((()=>{if(h.rect){return(e.vertical?h.rect.height:h.rect.width)-x.value*w.value}return 0})),S=d((()=>x.value?Math.ceil(Math.abs(C.value)/x.value):w.value)),B=d((()=>w.value*x.value)),z=d((()=>(h.active+w.value)%w.value)),T=d((()=>{const t=e.vertical?"vertical":"horizontal";return g.direction.value===t})),I=d((()=>{const t={transitionDuration:`${h.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${h.offset}px)`};if(x.value){const o=e.vertical?"height":"width",n=e.vertical?"width":"height";t[o]=`${B.value}px`,t[n]=e[n]?`${e[n]}px`:""}return t})),O=(t,o=0)=>{let n=t*x.value;e.loop||(n=Math.min(n,-C.value));let l=o-n;return e.loop||(l=Pe(l,C.value,0)),l},V=({pace:o=0,offset:n=0,emitChange:l})=>{if(w.value<=1)return;const{active:a}=h,i=(t=>{const{active:o}=h;return t?e.loop?Pe(o+t,-1,w.value):Pe(o+t,0,S.value):o})(o),s=O(i,n);if(e.loop){if(b[0]&&s!==C.value){const e=s<C.value;b[0].setOffset(e?B.value:0)}if(b[w.value-1]&&0!==s){const e=s>0;b[w.value-1].setOffset(e?-B.value:0)}}h.active=i,h.offset=s,l&&i!==a&&t("change",z.value)},A=()=>{h.swiping=!0,h.active<=-1?V({pace:w.value}):h.active>=w.value&&V({pace:-w.value})},$=()=>{A(),g.reset(),j((()=>{h.swiping=!1,V({pace:1,emitChange:!0})}))};let L;const E=()=>clearTimeout(L),D=()=>{E(),e.autoplay>0&&w.value>1&&(L=setTimeout((()=>{$(),D()}),+e.autoplay))},N=(t=+e.initialSwipe)=>{if(!c.value)return;const o=()=>{var o,n;if(!ke(c)){const t={width:c.value.offsetWidth,height:c.value.offsetHeight};h.rect=t,h.width=+(null!=(o=e.width)?o:t.width),h.height=+(null!=(n=e.height)?n:t.height)}w.value&&-1===(t=Math.min(w.value-1,t))&&(t=w.value-1),h.active=t,h.swiping=!0,h.offset=O(t),b.forEach((e=>{e.setOffset(0)})),D()};ke(c)?s().then(o):o()},R=()=>N(h.active);let F;const W=t=>{!e.touchable||t.touches.length>1||(g.start(t),f=!1,F=Date.now(),E(),A())},Y=()=>{if(!e.touchable||!h.swiping)return;const o=Date.now()-F,n=k.value/o;if((Math.abs(n)>.25||Math.abs(k.value)>x.value/2)&&T.value){const t=e.vertical?g.offsetY.value:g.offsetX.value;let o=0;o=e.loop?t>0?k.value>0?-1:1:0:-Math[k.value>0?"ceil":"floor"](k.value/x.value),V({pace:o,emitChange:!0})}else k.value&&V({pace:0});f=!1,h.swiping=!1,t("dragEnd"),D()},q=(t,o)=>{const n=o===z.value,l=n?{backgroundColor:e.indicatorColor}:void 0;return r("i",{style:l,class:Co("indicator",{active:n})},null)};return rt({prev:()=>{A(),g.reset(),j((()=>{h.swiping=!1,V({pace:-1,emitChange:!0})}))},next:$,state:h,resize:R,swipeTo:(t,o={})=>{A(),g.reset(),j((()=>{let n;n=e.loop&&t===w.value?0===h.active?0:t:t%w.value,o.immediate?j((()=>{h.swiping=!1})):h.swiping=!1,V({pace:n-h.active,emitChange:!0})}))}}),y({size:x,props:e,count:w,activeIndicator:z}),a((()=>e.initialSwipe),(e=>N(+e))),a(w,(()=>N(h.active))),a((()=>e.autoplay),D),a([Ce,Se],R),a(M(),(e=>{"visible"===e?D():E()})),i(N),p((()=>N(h.active))),ot((()=>N(h.active))),v(E),m(E),H("touchmove",(o=>{if(e.touchable&&h.swiping&&(g.move(o),T.value)){!e.loop&&(0===h.active&&k.value>0||h.active===w.value-1&&k.value<0)||(xe(o,e.stopPropagation),V({offset:k.value}),f||(t("dragStart"),f=!0))}}),{target:u}),()=>{var t;return r("div",{ref:c,class:Co()},[r("div",{ref:u,style:I.value,class:Co("track",{vertical:e.vertical}),onTouchstartPassive:W,onTouchend:Y,onTouchcancel:Y},[null==(t=l.default)?void 0:t.call(l)]),l.indicator?l.indicator({active:z.value,total:w.value}):e.showIndicators&&w.value>1?r("div",{class:Co("indicators",{vertical:e.vertical})},[Array(w.value).fill("").map(q)]):void 0])}}})),[To,Io]=We("tabs");var Oo=c({name:To,props:{count:ce(Number),inited:Boolean,animated:Boolean,duration:ce(se),swipeable:Boolean,lazyRender:Boolean,currentIndex:ce(Number)},emits:["change"],setup(e,{emit:t,slots:n}){const l=o(),s=e=>t("change",e),c=()=>{var t;const o=null==(t=n.default)?void 0:t.call(n);return e.animated||e.swipeable?r(zo,{ref:l,loop:!1,class:Io("track"),duration:1e3*+e.duration,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:s},{default:()=>[o]}):o},u=t=>{const o=l.value;o&&o.state.active!==t&&o.swipeTo(t,{immediate:!e.inited})};return a((()=>e.currentIndex),u),i((()=>{u(e.currentIndex)})),rt({swipeRef:l}),()=>r("div",{class:Io("content",{animated:e.animated||e.swipeable})},[c()])}});const[Vo,Ao]=We("tabs"),$o={type:ve("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:pe(0),duration:pe(.3),animated:Boolean,ellipsis:re,swipeable:Boolean,scrollspy:Boolean,offsetTop:pe(0),background:String,lazyRender:re,lineWidth:se,lineHeight:se,beforeChange:Function,swipeThreshold:pe(5),titleActiveColor:String,titleInactiveColor:String},Po=Symbol(Vo);var Lo=c({name:Vo,props:$o,emits:["change","scroll","rendered","clickTab","update:active"],setup(e,{emit:t,slots:l}){let i,c,u;const v=o(),m=o(),h=o(),f=o(),b=ho(),y=R(v),[w,x]=function(){const e=o([]),t=[];return C((()=>{e.value=[]})),[e,o=>(t[o]||(t[o]=t=>{e.value[o]=t}),t[o])]}(),{children:k,linkChildren:S}=P(Po),B=n({inited:!1,position:"",lineStyle:{},currentIndex:-1}),z=d((()=>k.length>e.swipeThreshold||!e.ellipsis||e.shrink)),T=d((()=>({borderColor:e.color,background:e.background}))),I=(e,t)=>{var o;return null!=(o=e.name)?o:t},O=d((()=>{const e=k[B.currentIndex];if(e)return I(e,B.currentIndex)})),V=d((()=>Ve(e.offsetTop))),A=d((()=>e.sticky?V.value+i:0)),L=t=>{const o=m.value,n=w.value;if(!(z.value&&o&&n&&n[B.currentIndex]))return;const l=n[B.currentIndex].$el;!function(e,t,o){let n=0;const l=e.scrollLeft,a=0===o?1:Math.round(1e3*o/16);!function o(){e.scrollLeft+=(t-l)/a,++n<a&&N(o)}()}(o,l.offsetLeft-(o.offsetWidth-l.offsetWidth)/2,t?0:+e.duration)},D=()=>{const t=B.inited;s((()=>{const o=w.value;if(!o||!o[B.currentIndex]||"line"!==e.type||ke(v.value))return;const n=o[B.currentIndex].$el,{lineWidth:l,lineHeight:a}=e,i=n.offsetLeft+n.offsetWidth/2,s={width:Be(l),backgroundColor:e.color,transform:`translateX(${i}px) translateX(-50%)`};if(t&&(s.transitionDuration=`${e.duration}s`),Z(a)){const e=Be(a);s.height=e,s.borderRadius=e}B.lineStyle=s}))},M=(o,n)=>{const l=(e=>{const t=e<B.currentIndex?-1:1;for(;e>=0&&e<k.length;){if(!k[e].disabled)return e;e+=t}})(o);if(!Z(l))return;const a=k[l],i=I(a,l),s=null!==B.currentIndex;B.currentIndex!==l&&(B.currentIndex=l,n||L(),D()),i!==e.active&&(t("update:active",i),s&&t("change",i,a.title)),u&&!e.scrollspy&&ge(Math.ceil(be(v.value)-V.value))},j=(e,t)=>{const o=k.find(((t,o)=>I(t,o)===e)),n=o?k.indexOf(o):0;M(n,t)},F=(t=!1)=>{if(e.scrollspy){const o=k[B.currentIndex].$el;if(o&&y.value){const n=be(o,y.value)-A.value;c=!0,function(e,t,o,n){let l=me(e);const a=l<t,i=0===o?1:Math.round(1e3*o/16),s=(t-l)/i;!function o(){l+=s,(a&&l>t||!a&&l<t)&&(l=t),he(e,l),a&&l<t||!a&&l>t?N(o):n&&N(n)}()}(y.value,n,t?0:+e.duration,(()=>{c=!1}))}}},W=e=>{u=e.isFixed,t("scroll",e)},Y=()=>k.map(((o,n)=>r(xo,g({key:o.id,id:`${b}-${n}`,ref:x(n),type:e.type,color:e.color,style:o.titleStyle,class:o.titleClass,shrink:e.shrink,isActive:n===B.currentIndex,controls:o.id,scrollable:z.value,activeColor:e.titleActiveColor,inactiveColor:e.titleInactiveColor,onClick:l=>((o,n,l)=>{const{title:a,disabled:i}=k[n],s=I(k[n],n);i||(_e(e.beforeChange,{args:[s],done:()=>{M(n),F()}}),ut(o)),t("clickTab",{name:s,title:a,event:l,disabled:i})})(o,n,l)},le(o,["dot","badge","title","disabled","showZeroBadge"])),{title:o.$slots.title}))),q=()=>{if("line"===e.type&&k.length)return r("div",{class:Ao("line"),style:B.lineStyle},null)},U=()=>{var t,o,n;const{type:a,border:i,sticky:s}=e,c=[r("div",{ref:s?void 0:h,class:[Ao("wrap"),{[Ge]:"line"===a&&i}]},[r("div",{ref:m,role:"tablist",class:Ao("nav",[a,{shrink:e.shrink,complete:z.value}]),style:T.value,"aria-orientation":"horizontal"},[null==(t=l["nav-left"])?void 0:t.call(l),Y(),q(),null==(o=l["nav-right"])?void 0:o.call(l)])]),null==(n=l["nav-bottom"])?void 0:n.call(l)];return s?r("div",{ref:h},[c]):c};a([()=>e.color,Ce],D),a((()=>e.active),(e=>{e!==O.value&&j(e)})),a((()=>k.length),(()=>{B.inited&&(j(e.active),D(),s((()=>{L(!0)})))}));return rt({resize:()=>{D(),s((()=>{var e,t;return null==(t=null==(e=f.value)?void 0:e.swipeRef.value)?void 0:t.resize()}))},scrollTo:e=>{s((()=>{j(e),F(!0)}))}}),p(D),ot(D),E((()=>{j(e.active,!0),s((()=>{B.inited=!0,h.value&&(i=$(h.value).height),L(!0)}))})),H("scroll",(()=>{if(e.scrollspy&&!c){const e=(()=>{for(let e=0;e<k.length;e++){const{top:t}=$(k[e].$el);if(t>A.value)return 0===e?0:e-1}return k.length-1})();M(e)}}),{target:y,passive:!0}),S({id:b,props:e,setLine:D,onRendered:(e,o)=>t("rendered",e,o),currentName:O,scrollIntoView:L}),()=>r("div",{ref:v,class:Ao([e.type])},[e.sticky?r(bo,{container:v.value,offsetTop:V.value,onScroll:W},{default:()=>[U()]}):U(),r(Oo,{ref:f,count:k.length,inited:B.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:B.currentIndex,onChange:M},{default:()=>{var e;return[null==(e=l.default)?void 0:e.call(l)]}})])}});const Eo=Symbol(),[Do,Ho]=We("swipe-item");const No=et(c({name:Do,setup(e,{slots:t}){let o;const l=n({offset:0,inited:!1,mounted:!1}),{parent:a,index:c}=L(Bo);if(!a)return;const u=d((()=>{const e={},{vertical:t}=a.props;return a.size.value&&(e[t?"height":"width"]=`${a.size.value}px`),l.offset&&(e.transform=`translate${t?"Y":"X"}(${l.offset}px)`),e})),p=d((()=>{const{loop:e,lazyRender:t}=a.props;if(!t||o)return!0;if(!l.mounted)return!1;const n=a.activeIndicator.value,i=a.count.value-1,s=0===n&&e?i:n-1,r=n===i&&e?0:n+1;return o=c.value===n||c.value===s||c.value===r,o}));return i((()=>{s((()=>{l.mounted=!0}))})),rt({setOffset:e=>{l.offset=e}}),()=>{var e;return r("div",{class:Ho(),style:u.value},[p.value?null==(e=t.default)?void 0:e.call(t):null])}}})),[Ro,Mo]=We("tab");const jo=et(c({name:Ro,props:te({},ct,{dot:Boolean,name:se,badge:se,title:String,disabled:Boolean,titleClass:null,titleStyle:[String,Object],showZeroBadge:re}),setup(e,{slots:t}){const n=ho(),l=o(!1),{parent:i,index:c}=L(Po);if(!i)return;const u=()=>{var t;return null!=(t=e.name)?t:c.value},p=d((()=>{const t=u()===i.currentName.value;return t&&!l.value&&(l.value=!0,i.props.lazyRender&&s((()=>{i.onRendered(u(),e.title)}))),t})),v=o(!p.value);return a(p,(e=>{e?v.value=!1:j((()=>{v.value=!0}))})),a((()=>e.title),(()=>{i.setLine(),i.scrollIntoView()})),h(Eo,p),()=>{var e;const o=`${i.id}-${c.value}`,{animated:a,swipeable:s,scrollspy:u,lazyRender:d}=i.props;if(!t.default&&!a)return;const m=u||p.value;if(a||s)return r(No,{id:n,role:"tabpanel",class:Mo("panel-wrapper",{inactive:v.value}),tabindex:p.value?0:-1,"aria-hidden":!p.value,"aria-labelledby":o},{default:()=>{var e;return[r("div",{class:Mo("panel")},[null==(e=t.default)?void 0:e.call(t)])]}});const h=l.value||u||!d?null==(e=t.default)?void 0:e.call(t):null;return rt({id:n}),y(r("div",{id:n,role:"tabpanel",class:Mo("panel"),tabindex:m?0:-1,"aria-labelledby":o},[h]),[[w,m]])}}})),Fo=et(Lo),[Wo,Yo]=We("picker-group"),qo=Symbol(Wo);c({name:Wo,props:te({tabs:ue(),nextStepText:String},co),emits:["confirm","cancel"],setup(e,{emit:t,slots:n}){const l=o(0),{children:a,linkChildren:i}=P(qo);i();const s=()=>l.value<e.tabs.length-1&&e.nextStepText,c=()=>{s()?l.value++:t("confirm",a.map((e=>e.confirm())))},u=()=>t("cancel");return()=>{var t;const o=null==(t=n.default)?void 0:t.call(n),a=s()?e.nextStepText:e.confirmButtonText;return r("div",{class:Yo()},[r(vo,{title:e.title,cancelButtonText:e.cancelButtonText,confirmButtonText:a,onConfirm:c,onCancel:u},null),r(Fo,{active:l.value,"onUpdate:active":e=>l.value=e,class:Yo("tabs"),shrink:!0,animated:!0},{default:()=>[e.tabs.map(((e,t)=>r(jo,{title:e,titleClass:Yo("tab-title")},{default:()=>[null==o?void 0:o[t]]})))]})])}}});const Uo=te({loading:Boolean,readonly:Boolean,allowHtml:Boolean,optionHeight:pe(44),showToolbar:re,swipeDuration:pe(1e3),visibleOptionNum:pe(6)},co);const Xo=et(c({name:Jt,props:te({},Uo,{columns:ue(),modelValue:ue(),toolbarPosition:ve("top"),columnsFieldNames:Object}),emits:["confirm","cancel","change","clickOption","update:modelValue"],setup(e,{emit:t,slots:n}){const l=o(),i=o(e.modelValue.slice(0)),{parent:c}=L(qo),{children:u,linkChildren:p}=P(io);p();const v=d((()=>function(e){return te({text:"text",value:"value",children:"children"},e)}(e.columnsFieldNames))),m=d((()=>Ve(e.optionHeight))),h=d((()=>function(e,t){const o=e[0];if(o){if(Array.isArray(o))return"multiple";if(t.children in o)return"cascade"}return"default"}(e.columns,v.value))),f=d((()=>{const{columns:t}=e;switch(h.value){case"multiple":return t;case"cascade":return function(e,t,o){const n=[];let l={[t.children]:e},a=0;for(;l&&l[t.children];){const e=l[t.children],i=o.value[a];l=Z(i)?no(e,i,t):void 0,!l&&e.length&&(l=no(e,eo(e)[t.value],t)),a++,n.push(e)}return n}(t,v.value,i);default:return[t]}})),b=d((()=>f.value.some((e=>e.length)))),y=d((()=>f.value.map(((e,t)=>no(e,i.value[t],v.value))))),w=d((()=>f.value.map(((e,t)=>e.findIndex((e=>e[v.value.value]===i.value[t])))))),x=(e,t)=>{if(i.value[e]!==t){const o=i.value.slice(0);o[e]=t,i.value=o}},k=()=>({selectedValues:i.value.slice(0),selectedOptions:y.value,selectedIndexes:w.value}),C=()=>{u.forEach((e=>e.stopMomentum()));const e=k();return s((()=>{t("confirm",e)})),e},S=()=>t("cancel",k()),B=()=>f.value.map(((o,l)=>r(so,{value:i.value[l],fields:v.value,options:o,readonly:e.readonly,allowHtml:e.allowHtml,optionHeight:m.value,swipeDuration:e.swipeDuration,visibleOptionNum:e.visibleOptionNum,onChange:e=>((e,o)=>{x(o,e),"cascade"===h.value&&i.value.forEach(((e,t)=>{const o=f.value[t];oo(o,e,v.value)||x(t,o.length?o[0][v.value.value]:void 0)})),s((()=>{t("change",te({columnIndex:o},k()))}))})(e,l),onClickOption:e=>((e,o)=>t("clickOption",te({columnIndex:o,currentOption:e},k())))(e,l)},{option:n.option}))),z=e=>{if(b.value){const t={height:`${m.value}px`},o={backgroundSize:`100% ${(e-m.value)/2}px`};return[r("div",{class:Qt("mask"),style:o},null),r("div",{class:[Ke,Qt("frame")],style:t},null)]}},T=()=>{const t=m.value*+e.visibleOptionNum,o={height:`${t}px`};return r("div",{ref:l,class:Qt("columns"),style:o},[B(),z(t)])},I=()=>{if(e.showToolbar&&!c)return r(vo,g(le(e,po),{onConfirm:C,onCancel:S}),le(n,uo))};let O;a(f,(e=>{e.forEach(((e,t)=>{e.length&&!oo(e,i.value[t],v.value)&&x(t,eo(e)[v.value.value])}))}),{immediate:!0}),a((()=>e.modelValue),(e=>{ae(e,i.value)||ae(e,O)||(i.value=e.slice(0))}),{deep:!0}),a(i,(o=>{ae(o,e.modelValue)||(O=o.slice(0),t("update:modelValue",O))}),{immediate:!0}),H("touchmove",xe,{target:l});return rt({confirm:C,getSelectedOptions:()=>y.value}),()=>{var t,o;return r("div",{class:Qt()},["top"===e.toolbarPosition?I():null,e.loading?r(Tt,{class:Qt("loading")},null):null,null==(t=n["columns-top"])?void 0:t.call(n),T(),null==(o=n["columns-bottom"])?void 0:o.call(n),"bottom"===e.toolbarPosition?I():null])}}})),[Zo,Go]=We("cell"),Ko={tag:ve("div"),icon:String,size:String,title:se,value:se,label:se,center:Boolean,isLink:Boolean,border:re,required:Boolean,iconPrefix:String,valueClass:null,labelClass:null,titleClass:null,titleStyle:null,arrowDirection:String,clickable:{type:Boolean,default:null}};const Jo=et(c({name:Zo,props:te({},Ko,ct),setup(e,{slots:t}){const o=dt(),n=()=>{if(t.label||Z(e.label))return r("div",{class:[Go("label"),e.labelClass]},[t.label?t.label():e.label])},l=()=>{var o;if(t.title||Z(e.title)){const l=null==(o=t.title)?void 0:o.call(t);if(Array.isArray(l)&&0===l.length)return;return r("div",{class:[Go("title"),e.titleClass],style:e.titleStyle},[l||r("span",null,[e.title]),n()])}},a=()=>{const o=t.value||t.default;if(o||Z(e.value))return r("div",{class:[Go("value"),e.valueClass]},[o?o():r("span",null,[e.value])])},i=()=>{if(t["right-icon"])return t["right-icon"]();if(e.isLink){const t=e.arrowDirection&&"right"!==e.arrowDirection?`arrow-${e.arrowDirection}`:"arrow";return r(kt,{name:t,class:Go("right-icon")},null)}};return()=>{var n;const{tag:s,size:c,center:u,border:d,isLink:p,required:v}=e,m=null!=(n=e.clickable)?n:p,h={center:u,required:v,clickable:m,borderless:!d};return c&&(h[c]=!!c),r(s,{class:Go(h),role:m?"button":void 0,tabindex:m?0:void 0,onClick:o},{default:()=>{var o;return[t.icon?t.icon():e.icon?r(kt,{name:e.icon,class:Go("left-icon"),classPrefix:e.iconPrefix},null):void 0,l(),a(),i(),null==(o=t.extra)?void 0:o.call(t)]}})}}})),[Qo,_o]=We("form");const en=et(c({name:Qo,props:{colon:Boolean,disabled:Boolean,readonly:Boolean,showError:Boolean,labelWidth:se,labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,submitOnEnter:re,showErrorMessage:re,errorMessageAlign:String,validateTrigger:{type:[String,Array],default:"onBlur"}},emits:["submit","failed"],setup(e,{emit:t,slots:o}){const{children:n,linkChildren:l}=P(Qe),a=e=>e?n.filter((t=>e.includes(t.name))):n,i=t=>{return"string"==typeof t?(e=>{const t=n.find((t=>t.name===e));return t?new Promise(((e,o)=>{t.validate().then((t=>{t?o(t):e()}))})):Promise.reject()})(t):e.validateFirst?(o=t,new Promise(((e,t)=>{const n=[];a(o).reduce(((e,t)=>e.then((()=>{if(!n.length)return t.validate().then((e=>{e&&n.push(e)}))}))),Promise.resolve()).then((()=>{n.length?t(n):e()}))}))):(e=>new Promise(((t,o)=>{const n=a(e);Promise.all(n.map((e=>e.validate()))).then((e=>{(e=e.filter(Boolean)).length?o(e):t()}))})))(t);var o},s=(e,t)=>{n.some((o=>o.name===e&&(o.$el.scrollIntoView(t),!0)))},c=()=>n.reduce(((e,t)=>(void 0!==t.name&&(e[t.name]=t.formValue.value),e)),{}),u=()=>{const o=c();i().then((()=>t("submit",o))).catch((n=>{t("failed",{values:o,errors:n}),e.scrollToError&&n[0].name&&s(n[0].name)}))},d=e=>{xe(e),u()};return l({props:e}),rt({submit:u,validate:i,getValues:c,scrollToField:s,resetValidation:e=>{"string"==typeof e&&(e=[e]);a(e).forEach((e=>{e.resetValidation()}))},getValidationStatus:()=>n.reduce(((e,t)=>(e[t.name]=t.getValidationStatus(),e)),{})}),()=>{var e;return r("form",{class:_o(),onSubmit:d},[null==(e=o.default)?void 0:e.call(o)])}}}));function tn(e){return Array.isArray(e)?!e.length:0!==e&&!e}function on(e,t){const{message:o}=t;return G(o)?o(e,t):o||""}function nn({target:e}){e.composing=!0}function ln({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function an(e){return[...e].length}function sn(e,t){return[...e].slice(0,t).join("")}const[rn,cn]=We("field"),un={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:se,formatter:Function,clearIcon:ve("clear"),modelValue:pe(""),inputAlign:String,placeholder:String,autocomplete:String,errorMessage:String,enterkeyhint:String,clearTrigger:ve("focus"),formatTrigger:ve("onChange"),error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}};const dn=et(c({name:rn,props:te({},Ko,un,{rows:se,type:ve("text"),rules:Array,autosize:[Boolean,Object],labelWidth:se,labelClass:null,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}}),emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:t,slots:l}){const c=ho(),u=n({status:"unvalidated",focused:!1,validateMessage:""}),p=o(),v=o(),m=o(),{parent:f}=L(Qe),b=()=>{var t;return String(null!=(t=e.modelValue)?t:"")},y=t=>Z(e[t])?e[t]:f&&Z(f.props[t])?f.props[t]:void 0,w=d((()=>{const t=y("readonly");if(e.clearable&&!t){const t=""!==b(),o="always"===e.clearTrigger||"focus"===e.clearTrigger&&u.focused;return t&&o}return!1})),x=d((()=>m.value&&l.input?m.value():e.modelValue)),k=e=>e.reduce(((e,t)=>e.then((()=>{if("failed"===u.status)return;let{value:e}=x;if(t.formatter&&(e=t.formatter(e,t)),!function(e,t){if(tn(e)){if(t.required)return!1;if(!1===t.validateEmpty)return!0}return!(t.pattern&&!t.pattern.test(String(e)))}(e,t))return u.status="failed",void(u.validateMessage=on(e,t));if(t.validator){if(tn(e)&&!1===t.validateEmpty)return;return function(e,t){return new Promise((o=>{const n=t.validator(e,t);J(n)?n.then(o):o(n)}))}(e,t).then((o=>{o&&"string"==typeof o?(u.status="failed",u.validateMessage=o):!1===o&&(u.status="failed",u.validateMessage=on(e,t))}))}}))),Promise.resolve()),C=()=>{u.status="unvalidated",u.validateMessage=""},B=()=>t("endValidate",{status:u.status,message:u.validateMessage}),z=(o=e.rules)=>new Promise((n=>{C(),o?(t("startValidate"),k(o).then((()=>{"failed"===u.status?(n({name:e.name,message:u.validateMessage}),B()):(u.status="passed",n(),B())}))):n()})),T=t=>{if(f&&e.rules){const{validateTrigger:o}=f.props,n=ie(o).includes(t),l=e.rules.filter((e=>e.trigger?ie(e.trigger).includes(t):n));l.length&&z(l)}},I=(o,n="onChange")=>{const l=o;o=(t=>{var o;const{maxlength:n}=e;if(Z(n)&&an(t)>n){const e=b();if(e&&an(e)===+n)return e;const l=null==(o=p.value)?void 0:o.selectionEnd;if(u.focused&&l){const e=[...t],o=e.length-+n;return e.splice(l-o,o),e.join("")}return sn(t,+n)}return t})(o);const a=an(l)-an(o);if("number"===e.type||"digit"===e.type){const t="number"===e.type;o=function(e,t=!0,o=!0){e=t?Le(e,".",/\./g):e.split(".")[0];const n=t?/[^-0-9.]/g:/[^-0-9]/g;return(e=o?Le(e,"-",/-/g):e.replace(/-/,"")).replace(n,"")}(o,t,t)}let i=0;if(e.formatter&&n===e.formatTrigger){const{formatter:t,maxlength:n}=e;if(o=t(o),Z(n)&&an(o)>n&&(o=sn(o,+n)),p.value&&u.focused){const{selectionEnd:e}=p.value,o=sn(l,e);i=an(t(o))-an(o)}}if(p.value&&p.value.value!==o)if(u.focused){let{selectionStart:e,selectionEnd:t}=p.value;if(p.value.value=o,Z(e)&&Z(t)){const n=an(o);a?(e-=a,t-=a):i&&(e+=i,t+=i),p.value.setSelectionRange(Math.min(e,n),Math.min(t,n))}}else p.value.value=o;o!==e.modelValue&&t("update:modelValue",o)},O=e=>{e.target.composing||I(e.target.value)},V=()=>{var e;return null==(e=p.value)?void 0:e.blur()},A=()=>{const t=p.value;"textarea"===e.type&&e.autosize&&t&&function(e,t){const o=fe();e.style.height="auto";let n=e.scrollHeight;if(K(t)){const{maxHeight:e,minHeight:o}=t;void 0!==e&&(n=Math.min(n,e)),void 0!==o&&(n=Math.max(n,o))}n&&(e.style.height=`${n}px`,ge(o))}(t,e.autosize)},$=e=>{u.focused=!0,t("focus",e),s(A),y("readonly")&&V()},P=e=>{y("readonly")||(u.focused=!1,I(b(),"onBlur"),t("blur",e),T("onBlur"),s(A),ye&&ge(fe()))},E=e=>t("clickInput",e),D=e=>t("clickLeftIcon",e),N=e=>t("clickRightIcon",e),R=d((()=>"boolean"==typeof e.error?e.error:!(!f||!f.props.showError||"failed"!==u.status)||void 0)),M=d((()=>{const e=y("labelWidth");if(e)return{width:Be(e)}})),j=o=>{if(13===o.keyCode){f&&f.props.submitOnEnter||"textarea"===e.type||xe(o),"search"===e.type&&V()}t("keypress",o)},W=()=>e.id||`${c}-input`,Y=()=>{const t=cn("control",[y("inputAlign"),{error:R.value,custom:!!l.input,"min-height":"textarea"===e.type&&!e.autosize}]);if(l.input)return r("div",{class:t,onClick:E},[l.input()]);const o={id:W(),ref:p,name:e.name,rows:void 0!==e.rows?+e.rows:void 0,class:t,disabled:y("disabled"),readonly:y("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,enterkeyhint:e.enterkeyhint,"aria-labelledby":e.label?`${c}-label`:void 0,onBlur:P,onFocus:$,onInput:O,onClick:E,onChange:ln,onKeypress:j,onCompositionend:ln,onCompositionstart:nn};return"textarea"===e.type?r("textarea",o,null):r("input",g("number"===(n=e.type)?{type:"text",inputmode:"decimal"}:"digit"===n?{type:"tel",inputmode:"numeric"}:{type:n},o),null);var n},q=()=>{const t=l["right-icon"];if(e.rightIcon||t)return r("div",{class:cn("right-icon"),onClick:N},[t?t():r(kt,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},U=()=>{if(e.showWordLimit&&e.maxlength){const t=an(b());return r("div",{class:cn("word-limit")},[r("span",{class:cn("word-num")},[t]),S("/"),e.maxlength])}},X=()=>{if(f&&!1===f.props.showErrorMessage)return;const t=e.errorMessage||u.validateMessage;if(t){const e=l["error-message"],o=y("errorMessageAlign");return r("div",{class:cn("error-message",o)},[e?e({message:t}):t])}},G=()=>[r("div",{class:cn("body")},[Y(),w.value&&r(kt,{ref:v,name:e.clearIcon,class:cn("clear")},null),q(),l.button&&r("div",{class:cn("button")},[l.button()])]),U(),X()];return rt({blur:V,focus:()=>{var e;return null==(e=p.value)?void 0:e.focus()},validate:z,formValue:x,resetValidation:C,getValidationStatus:()=>u.status}),h(F,{customValue:m,resetValidation:C,validateWithTrigger:T}),a((()=>e.modelValue),(()=>{I(b()),C(),T("onChange"),s(A)})),i((()=>{I(b(),e.formatTrigger),s(A)})),H("touchstart",(e=>{xe(e),t("update:modelValue",""),t("clear",e)}),{target:d((()=>{var e;return null==(e=v.value)?void 0:e.$el}))}),()=>{const t=y("disabled"),o=y("labelAlign"),n=(()=>{const t=l["left-icon"];if(e.leftIcon||t)return r("div",{class:cn("left-icon"),onClick:D},[t?t():r(kt,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])})();return r(Jo,{size:e.size,class:cn({error:R.value,disabled:t,[`label-${o}`]:o}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:M.value,valueClass:cn("value"),titleClass:[cn("label",[o,{required:e.required}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:n&&"top"!==o?()=>n:null,title:()=>{const t=(()=>{const t=y("colon")?":":"";return l.label?[l.label(),t]:e.label?r("label",{id:`${c}-label`,for:W()},[e.label+t]):void 0})();return"top"===o?[n,t].filter(Boolean):t||[]},value:G,extra:l.extra})}}}));let pn=0;const[vn,mn]=We("toast"),hn=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay"];var fn=c({name:vn,props:{icon:String,show:Boolean,type:ve("text"),overlay:Boolean,message:se,iconSize:se,duration:de(2e3),position:ve("middle"),teleport:[String,Object],wordBreak:String,className:null,iconPrefix:String,transition:ve("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:null,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean},emits:["update:show"],setup(e,{emit:t,slots:o}){let n,l=!1;const s=()=>{const t=e.show&&e.forbidClick;l!==t&&(l=t,l?(pn||document.body.classList.add("van-toast--unclickable"),pn++):pn&&(pn--,pn||document.body.classList.remove("van-toast--unclickable")))},c=e=>t("update:show",e),u=()=>{e.closeOnClick&&c(!1)},d=()=>clearTimeout(n),p=()=>{const{icon:t,type:o,iconSize:n,iconPrefix:l,loadingType:a}=e;return t||"success"===o||"fail"===o?r(kt,{name:t||o,size:n,class:mn("icon"),classPrefix:l},null):"loading"===o?r(Tt,{class:mn("loading"),size:n,type:a},null):void 0},v=()=>{const{type:t,message:n}=e;return o.message?r("div",{class:mn("text")},[o.message()]):Z(n)&&""!==n?"html"===t?r("div",{key:0,class:mn("text"),innerHTML:String(n)},null):r("div",{class:mn("text")},[n]):void 0};return a((()=>[e.show,e.forbidClick]),s),a((()=>[e.show,e.type,e.message,e.duration]),(()=>{d(),e.show&&e.duration>0&&(n=setTimeout((()=>{c(!1)}),e.duration))})),i(s),B(s),()=>r(qt,g({class:[mn([e.position,"normal"===e.wordBreak?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:u,onClosed:d,"onUpdate:show":c},le(e,hn)),{default:()=>[p(),v()]})}});function gn(){const e=n({show:!1}),t=t=>{e.show=t},o=o=>{te(e,o,{transitionAppear:!0}),t(!0)},l=()=>t(!1);return rt({open:o,close:l,toggle:t}),{open:o,close:l,state:e,toggle:t}}function bn(e){const t=z(e),o=document.createElement("div");return document.body.appendChild(o),{instance:t.mount(o),unmount(){t.unmount(),document.body.removeChild(o)}}}let yn=[],wn=te({},{icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1});const xn=new Map;function kn(e){return K(e)?e:{message:e}}function Cn(){if(!yn.length){const e=function(){const{instance:e,unmount:t}=bn({setup(){const e=o(""),{open:t,state:n,close:l,toggle:i}=gn(),s=()=>{};return a(e,(e=>{n.message=e})),u().render=()=>r(fn,g(n,{onClosed:s,"onUpdate:show":i}),null),{open:t,close:l,message:e}}});return e}();yn.push(e)}return yn[yn.length-1]}function Sn(e={}){if(!oe)return{};const t=Cn(),o=kn(e);return t.open(te({},wn,xn.get(o.type||wn.type),o)),t}const Bn=e=>t=>Sn(te({type:e},kn(t))),zn=Bn("loading"),Tn=Bn("success"),In=e=>{yn.length&&(e?(yn.forEach((e=>{e.close()})),yn=[]):yn[0].close())};function On(e,t){"string"==typeof e?xn.set(e,t):te(wn,e)}et(fn);const[Vn,An]=We("switch");const $n=et(c({name:Vn,props:{size:se,loading:Boolean,disabled:Boolean,modelValue:null,activeColor:String,inactiveColor:String,activeValue:{type:null,default:!0},inactiveValue:{type:null,default:!1}},emits:["change","update:modelValue"],setup(e,{emit:t,slots:o}){const n=()=>e.modelValue===e.activeValue,l=()=>{if(!e.disabled&&!e.loading){const o=n()?e.inactiveValue:e.activeValue;t("update:modelValue",o),t("change",o)}},a=()=>{if(e.loading){const t=n()?e.activeColor:e.inactiveColor;return r(Tt,{class:An("loading"),color:t},null)}if(o.node)return o.node()};return W((()=>e.modelValue)),()=>{var t;const{size:i,loading:s,disabled:c,activeColor:u,inactiveColor:d}=e,p=n(),v={fontSize:Be(i),backgroundColor:p?u:d};return r("div",{role:"switch",class:An({on:p,loading:s,disabled:c}),style:v,tabindex:c?void 0:0,"aria-checked":p,onClick:l},[r("div",{class:An("node")},[a()]),null==(t=o.background)?void 0:t.call(o)])}}})),[Pn,Ln]=We("radio-group"),En={disabled:Boolean,iconSize:se,direction:String,modelValue:null,checkedColor:String},Dn=Symbol(Pn);const Hn=et(c({name:Pn,props:En,emits:["change","update:modelValue"],setup(e,{emit:t,slots:o}){const{linkChildren:n}=P(Dn);return a((()=>e.modelValue),(e=>t("change",e))),n({props:e,updateValue:e=>t("update:modelValue",e)}),W((()=>e.modelValue)),()=>{var t;return r("div",{class:Ln([e.direction]),role:"radiogroup"},[null==(t=o.default)?void 0:t.call(o)])}}})),[Nn,Rn]=We("tag");const Mn=et(c({name:Nn,props:{size:String,mark:Boolean,show:re,type:ve("default"),color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean},emits:["close"],setup(e,{slots:t,emit:o}){const n=e=>{e.stopPropagation(),o("close",e)},l=()=>{var o;const{type:l,mark:a,plain:i,round:s,size:c,closeable:u}=e,d={mark:a,plain:i,round:s};c&&(d[c]=c);const p=u&&r(kt,{name:"cross",class:[Rn("close"),Je],onClick:n},null);return r("span",{style:e.plain?{color:e.textColor||e.color,borderColor:e.color}:{color:e.textColor,background:e.color},class:Rn([d,l])},[null==(o=t.default)?void 0:o.call(t),p])};return()=>r(b,{name:e.closeable?"van-fade":void 0},{default:()=>[e.show?l():null]})}})),jn={name:null,shape:ve("round"),disabled:Boolean,iconSize:se,modelValue:null,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var Fn=c({props:te({},jn,{bem:ce(Function),role:String,parent:Object,checked:Boolean,bindGroup:re}),emits:["click","toggle"],setup(e,{emit:t,slots:n}){const l=o(),a=t=>{if(e.parent&&e.bindGroup)return e.parent.props[t]},i=d((()=>a("disabled")||e.disabled)),s=d((()=>a("direction"))),c=d((()=>{const t=e.checkedColor||a("checkedColor");if(t&&e.checked&&!i.value)return{borderColor:t,backgroundColor:t}})),u=o=>{const{target:n}=o,a=l.value,s=a===n||(null==a?void 0:a.contains(n));i.value||!s&&e.labelDisabled||t("toggle"),t("click",o)},p=()=>{const{bem:t,shape:o,checked:s}=e,u=e.iconSize||a("iconSize");return r("div",{ref:l,class:t("icon",[o,{disabled:i.value,checked:s}]),style:{fontSize:Be(u)}},[n.icon?n.icon({checked:s,disabled:i.value}):r(kt,{name:"success",style:c.value},null)])},v=()=>{if(n.default)return r("span",{class:e.bem("label",[e.labelPosition,{disabled:i.value}])},[n.default()])};return()=>{const t="left"===e.labelPosition?[v(),p()]:[p(),v()];return r("div",{role:e.role,class:e.bem([{disabled:i.value,"label-disabled":e.labelDisabled},s.value]),tabindex:i.value?void 0:0,"aria-checked":e.checked,onClick:u},[t])}}});const[Wn,Yn]=We("radio");const qn=et(c({name:Wn,props:jn,emits:["update:modelValue"],setup(e,{emit:t,slots:o}){const{parent:n}=L(Dn),l=()=>{n?n.updateValue(e.name):t("update:modelValue",e.name)};return()=>r(Fn,g({bem:Yn,role:"radio",parent:n,checked:(n?n.props.modelValue:e.modelValue)===e.name,onToggle:l},e),le(o,["default","icon"]))}})),Un=Y&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,Xn="event",Zn="observer";function Gn(e,t){if(!e.length)return;const o=e.indexOf(t);return o>-1?e.splice(o,1):void 0}function Kn(e,t){if("IMG"!==e.tagName||!e.getAttribute("data-srcset"))return;let o=e.getAttribute("data-srcset");const n=e.parentNode.offsetWidth*t;let l,a,i;o=o.trim().split(",");const s=o.map((e=>(e=e.trim(),l=e.lastIndexOf(" "),-1===l?(a=e,i=999998):(a=e.substr(0,l),i=parseInt(e.substr(l+1,e.length-l-2),10)),[i,a])));s.sort(((e,t)=>{if(e[0]<t[0])return 1;if(e[0]>t[0])return-1;if(e[0]===t[0]){if(-1!==t[1].indexOf(".webp",t[1].length-5))return 1;if(-1!==e[1].indexOf(".webp",e[1].length-5))return-1}return 0}));let r,c="";for(let u=0;u<s.length;u++){r=s[u],c=r[1];const e=s[u+1];if(e&&e[0]<n){c=r[1];break}if(!e){c=r[1];break}}return c}const Jn=(e=1)=>Y&&window.devicePixelRatio||e;function Qn(){if(!Y)return!1;let e=!0;try{const t=document.createElement("canvas");t.getContext&&t.getContext("2d")&&(e=0===t.toDataURL("image/webp").indexOf("data:image/webp"))}catch(t){e=!1}return e}function _n(e,t){let o=null,n=0;return function(...l){if(o)return;const a=()=>{n=Date.now(),o=!1,e.apply(this,l)};Date.now()-n>=t?a():o=setTimeout(a,t)}}function el(e,t,o){e.addEventListener(t,o,{capture:!1,passive:!0})}function tl(e,t,o){e.removeEventListener(t,o,!1)}const ol=(e,t,o)=>{const n=new Image;if(!e||!e.src)return o(new Error("image src is required"));n.src=e.src,e.cors&&(n.crossOrigin=e.cors),n.onload=()=>t({naturalHeight:n.naturalHeight,naturalWidth:n.naturalWidth,src:n.src}),n.onerror=e=>o(e)};class nl{constructor({max:e}){this.options={max:e||100},this.caches=[]}has(e){return this.caches.indexOf(e)>-1}add(e){this.has(e)||(this.caches.push(e),this.caches.length>this.options.max&&this.free())}free(){this.caches.shift()}}const[ll,al]=We("back-top");const il=et(c({name:ll,inheritAttrs:!1,props:{right:se,bottom:se,target:[String,Object],offset:pe(200),immediate:Boolean,teleport:{type:[String,Object],default:"body"}},emits:["click"],setup(e,{emit:t,slots:n,attrs:l}){const c=o(!1),u=o(),p=o(),v=d((()=>({right:Be(e.right),bottom:Be(e.bottom)}))),m=o=>{var n;t("click",o),null==(n=p.value)||n.scrollTo({top:0,behavior:e.immediate?"auto":"smooth"})},h=()=>{c.value=!!p.value&&me(p.value)>=e.offset},f=()=>{oe&&s((()=>{p.value=e.target?(()=>{const{target:t}=e;if("string"!=typeof t)return t;{const e=document.querySelector(t);if(e)return e}})():D(u.value),h()}))};return H("scroll",_n(h,100),{target:p}),i(f),a((()=>e.target),f),()=>{const t=r("div",g({ref:u,class:al({active:c.value}),style:v.value,onClick:m},l),[n.default?n.default():r(kt,{name:"back-top",class:al("icon")},null)]);return e.teleport?r(x,{to:e.teleport},{default:()=>[t]}):t}}})),sl=te({},Uo,{modelValue:ue(),filter:Function,formatter:{type:Function,default:(e,t)=>t}}),rl=Object.keys(Uo);const cl=(e,t,o,n,l)=>{const a=function(e,t){if(e<0)return[];const o=Array(e);let n=-1;for(;++n<e;)o[n]=t(n);return o}(t-e+1,(t=>{const l=function(e,t=2){let o=e+"";for(;o.length<t;)o="0"+o;return o}(e+t);return n(o,{text:l,value:l})}));return l?l(o,a):a},[ul,dl]=We("image");const pl=et(c({name:ul,props:{src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:se,height:se,radius:se,lazyLoad:Boolean,iconSize:se,showError:re,errorIcon:ve("photo-fail"),iconPrefix:String,showLoading:re,loadingIcon:ve("photo")},emits:["load","error"],setup(e,{emit:t,slots:n}){const l=o(!1),c=o(!0),p=o(),{$Lazyload:v}=u().proxy,h=d((()=>{const t={width:Be(e.width),height:Be(e.height)};return Z(e.radius)&&(t.overflow="hidden",t.borderRadius=Be(e.radius)),t}));a((()=>e.src),(()=>{l.value=!1,c.value=!0}));const f=e=>{c.value&&(c.value=!1,t("load",e))},b=()=>{const e=new Event("load");Object.defineProperty(e,"target",{value:p.value,enumerable:!0}),f(e)},w=e=>{l.value=!0,c.value=!1,t("error",e)},x=(t,o,n)=>n?n():r(kt,{name:t,size:e.iconSize,class:o,classPrefix:e.iconPrefix},null),k=()=>{if(l.value||!e.src)return;const t={alt:e.alt,class:dl("img"),style:{objectFit:e.fit,objectPosition:e.position}};return e.lazyLoad?y(r("img",g({ref:p},t),null),[[T("lazy"),e.src]]):r("img",g({ref:p,src:e.src,onLoad:f,onError:w},t),null)},C=({el:e})=>{const t=()=>{e===p.value&&c.value&&b()};p.value?t():s(t)},S=({el:e})=>{e!==p.value||l.value||w()};return v&&oe&&(v.$on("loaded",C),v.$on("error",S),m((()=>{v.$off("loaded",C),v.$off("error",S)}))),i((()=>{s((()=>{var e;(null==(e=p.value)?void 0:e.complete)&&b()}))})),()=>{var t;return r("div",{class:dl({round:e.round,block:e.block}),style:h.value},[k(),c.value&&e.showLoading?r("div",{class:dl("loading")},[x(e.loadingIcon,dl("loading-icon"),n.loading)]):l.value&&e.showError?r("div",{class:dl("error")},[x(e.errorIcon,dl("error-icon"),n.error)]):void 0,null==(t=n.default)?void 0:t.call(n)])}}})),[vl,ml]=We("card");const hl=et(c({name:vl,props:{tag:String,num:se,desc:String,thumb:String,title:String,price:se,centered:Boolean,lazyLoad:Boolean,currency:ve("¥"),thumbLink:String,originPrice:se},emits:["clickThumb"],setup(e,{slots:t,emit:o}){const n=()=>{if(t.tag||e.tag)return r("div",{class:ml("tag")},[t.tag?t.tag():r(Mn,{mark:!0,type:"primary"},{default:()=>[e.tag]})])},l=()=>{if(t.thumb||e.thumb)return r("a",{href:e.thumbLink,class:ml("thumb"),onClick:e=>o("clickThumb",e)},[t.thumb?t.thumb():r(pl,{src:e.thumb,fit:"cover",width:"100%",height:"100%",lazyLoad:e.lazyLoad},null),n()])},a=()=>{const t=e.price.toString().split(".");return r("div",null,[r("span",{class:ml("price-currency")},[e.currency]),r("span",{class:ml("price-integer")},[t[0]]),S("."),r("span",{class:ml("price-decimal")},[t[1]])])};return()=>{var o,n,i;const s=t.num||Z(e.num),c=t.price||Z(e.price),u=t["origin-price"]||Z(e.originPrice),d=s||c||u||t.bottom,p=c&&r("div",{class:ml("price")},[t.price?t.price():a()]),v=u&&r("div",{class:ml("origin-price")},[t["origin-price"]?t["origin-price"]():`${e.currency} ${e.originPrice}`]),m=s&&r("div",{class:ml("num")},[t.num?t.num():`x${e.num}`]),h=t.footer&&r("div",{class:ml("footer")},[t.footer()]),f=d&&r("div",{class:ml("bottom")},[null==(o=t["price-top"])?void 0:o.call(t),p,v,m,null==(n=t.bottom)?void 0:n.call(t)]);return r("div",{class:ml()},[r("div",{class:ml("header")},[l(),r("div",{class:ml("content",{centered:e.centered})},[r("div",null,[t.title?t.title():e.title?r("div",{class:[ml("title"),"van-multi-ellipsis--l2"]},[e.title]):void 0,t.desc?t.desc():e.desc?r("div",{class:[ml("desc"),"van-ellipsis"]},[e.desc]):void 0,null==(i=t.tags)?void 0:i.call(t)]),f])]),h])}}})),[fl,gl,bl]=We("cascader");const yl=et(c({name:fl,props:{title:String,options:ue(),closeable:re,swipeable:re,closeIcon:ve("cross"),showHeader:re,modelValue:se,fieldNames:Object,placeholder:String,activeColor:String},emits:["close","change","finish","clickTab","update:modelValue"],setup(e,{slots:t,emit:n}){const l=o([]),i=o(0),{text:c,value:u,children:d}=te({text:"text",value:"value",children:"children"},e.fieldNames),p=(e,t)=>{for(const o of e){if(o[u]===t)return[o];if(o[d]){const e=p(o[d],t);if(e)return[o,...e]}}},v=()=>{const{options:t,modelValue:o}=e;if(void 0!==o){const e=p(t,o);if(e){let o=t;return l.value=e.map((e=>{const t={options:o,selected:e},n=o.find((t=>t[u]===e[u]));return n&&(o=n[d]),t})),o&&l.value.push({options:o,selected:null}),void s((()=>{i.value=l.value.length-1}))}}l.value=[{options:t,selected:null}]},m=()=>n("close"),h=({name:e,title:t})=>n("clickTab",e,t),f=(o,a,p)=>{const{disabled:v}=o,m=!(!a||o[u]!==a[u]),h=o.color||(m?e.activeColor:void 0),f=t.option?t.option({option:o,selected:m}):r("span",null,[o[c]]);return r("li",{role:"menuitemradio",class:[gl("option",{selected:m,disabled:v}),o.className],style:{color:h},tabindex:v?void 0:m?0:-1,"aria-checked":m,"aria-disabled":v||void 0,onClick:()=>((e,t)=>{if(e.disabled)return;if(l.value[t].selected=e,l.value.length>t+1&&(l.value=l.value.slice(0,t+1)),e[d]){const o={options:e[d],selected:null};l.value[t+1]?l.value[t+1]=o:l.value.push(o),s((()=>{i.value++}))}const o=l.value.map((e=>e.selected)).filter(Boolean);n("update:modelValue",e[u]);const a={value:e[u],tabIndex:t,selectedOptions:o};n("change",a),e[d]||n("finish",a)})(o,p)},[f,m?r(kt,{name:"success",class:gl("selected-icon")},null):null])},g=(e,t,o)=>r("ul",{role:"menu",class:gl("options")},[e.map((e=>f(e,t,o)))]),b=(o,n)=>{const{options:l,selected:a}=o,i=e.placeholder||bl("select"),s=a?a[c]:i;return r(jo,{title:s,titleClass:gl("tab",{unselected:!a})},{default:()=>{var e,o;return[null==(e=t["options-top"])?void 0:e.call(t,{tabIndex:n}),g(l,a,n),null==(o=t["options-bottom"])?void 0:o.call(t,{tabIndex:n})]}})};return v(),a((()=>e.options),v,{deep:!0}),a((()=>e.modelValue),(e=>{if(void 0!==e){if(l.value.map((e=>{var t;return null==(t=e.selected)?void 0:t[u]})).includes(e))return}v()})),()=>r("div",{class:gl()},[e.showHeader?r("div",{class:gl("header")},[r("h2",{class:gl("title")},[t.title?t.title():e.title]),e.closeable?r(kt,{name:e.closeIcon,class:[gl("close-icon"),Je],onClick:m},null):null]):null,r(Fo,{active:i.value,"onUpdate:active":e=>i.value=e,shrink:!0,animated:!0,class:gl("tabs"),color:e.activeColor,swipeable:e.swipeable,onClickTab:h},{default:()=>[l.value.map(b)]})])}})),[wl,xl]=We("cell-group");const kl=et(c({name:wl,inheritAttrs:!1,props:{title:String,inset:Boolean,border:re},setup(e,{slots:t,attrs:o}){const n=()=>{var n;return r("div",g({class:[xl({inset:e.inset}),{[Ge]:e.border&&!e.inset}]},o),[null==(n=t.default)?void 0:n.call(t)])};return()=>e.title||t.title?r(k,null,[r("div",{class:xl("title",{inset:e.inset})},[t.title?t.title():e.title]),n()]):n()}})),[Cl,Sl]=We("checkbox-group"),Bl={max:se,disabled:Boolean,iconSize:se,direction:String,modelValue:ue(),checkedColor:String},zl=Symbol(Cl);c({name:Cl,props:Bl,emits:["change","update:modelValue"],setup(e,{emit:t,slots:o}){const{children:n,linkChildren:l}=P(zl),i=e=>t("update:modelValue",e);return a((()=>e.modelValue),(e=>t("change",e))),rt({toggleAll:(e={})=>{"boolean"==typeof e&&(e={checked:e});const{checked:t,skipDisabled:o}=e,l=n.filter((e=>!!e.props.bindGroup&&(e.props.disabled&&o?e.checked.value:null!=t?t:!e.checked.value))).map((e=>e.name));i(l)}}),W((()=>e.modelValue)),l({props:e,updateValue:i}),()=>{var t;return r("div",{class:Sl([e.direction])},[null==(t=o.default)?void 0:t.call(o)])}}});const[Tl,Il]=We("checkbox");const Ol=et(c({name:Tl,props:te({},jn,{bindGroup:re}),emits:["change","update:modelValue"],setup(e,{emit:t,slots:o}){const{parent:n}=L(zl),l=d((()=>n&&e.bindGroup?-1!==n.props.modelValue.indexOf(e.name):!!e.modelValue)),i=(o=!l.value)=>{n&&e.bindGroup?(t=>{const{name:o}=e,{max:l,modelValue:a}=n.props,i=a.slice();if(t)l&&i.length>=l||i.includes(o)||(i.push(o),e.bindGroup&&n.updateValue(i));else{const t=i.indexOf(o);-1!==t&&(i.splice(t,1),e.bindGroup&&n.updateValue(i))}})(o):t("update:modelValue",o)};return a((()=>e.modelValue),(e=>t("change",e))),rt({toggle:i,props:e,checked:l}),W((()=>e.modelValue)),()=>r(Fn,g({bem:Il,role:"checkbox",parent:n,checked:l.value,onToggle:i},e),le(o,["default","icon"]))}})),[Vl,Al]=We("row"),$l=Symbol(Vl);var Pl=c({name:Vl,props:{tag:ve("div"),wrap:re,align:String,gutter:pe(0),justify:String},setup(e,{slots:t}){const{children:o,linkChildren:n}=P($l),l=d((()=>{const e=[[]];let t=0;return o.forEach(((o,n)=>{t+=Number(o.span),t>24?(e.push([n]),t-=24):e[e.length-1].push(n)})),e}));return n({spaces:d((()=>{const t=Number(e.gutter),o=[];return t?(l.value.forEach((e=>{const n=t*(e.length-1)/e.length;e.forEach(((e,l)=>{if(0===l)o.push({right:n});else{const l=t-o[e-1].right,a=n-l;o.push({left:l,right:a})}}))})),o):o}))}),()=>{const{tag:o,wrap:n,align:l,justify:a}=e;return r(o,{class:Al({[`align-${l}`]:l,[`justify-${a}`]:a,nowrap:!n})},{default:()=>{var e;return[null==(e=t.default)?void 0:e.call(t)]}})}}});const[Ll,El]=We("col");const Dl=et(c({name:Ll,props:{tag:ve("div"),span:pe(0),offset:se},setup(e,{slots:t}){const{parent:o,index:n}=L($l),l=d((()=>{if(!o)return;const{spaces:e}=o;if(e&&e.value&&e.value[n.value]){const{left:t,right:o}=e.value[n.value];return{paddingLeft:t?`${t}px`:null,paddingRight:o?`${o}px`:null}}}));return()=>{const{tag:o,span:n,offset:a}=e;return r(o,{style:l.value,class:El({[n]:n,[`offset-${a}`]:a})},{default:()=>{var e;return[null==(e=t.default)?void 0:e.call(t)]}})}}})),[Hl,Nl]=We("collapse"),Rl=Symbol(Hl);const Ml=et(c({name:Hl,props:{border:re,accordion:Boolean,modelValue:{type:[String,Number,Array],default:""}},emits:["change","update:modelValue"],setup(e,{emit:t,slots:o}){const{linkChildren:n,children:l}=P(Rl),a=e=>{t("change",e),t("update:modelValue",e)};return rt({toggleAll:(t={})=>{if(e.accordion)return;"boolean"==typeof t&&(t={expanded:t});const{expanded:o,skipDisabled:n}=t,i=l.filter((e=>e.disabled&&n?e.expanded.value:null!=o?o:!e.expanded.value)).map((e=>e.itemName.value));a(i)}}),n({toggle:(t,o)=>{const{accordion:n,modelValue:l}=e;a(n?t===l?"":t:o?l.concat(t):l.filter((e=>e!==t)))},isExpanded:t=>{const{accordion:o,modelValue:n}=e;return o?n===t:n.includes(t)}}),()=>{var t;return r("div",{class:[Nl(),{[Ge]:e.border}]},[null==(t=o.default)?void 0:t.call(o)])}}})),[jl,Fl]=We("collapse-item"),Wl=["icon","title","value","label","right-icon"];const Yl=et(c({name:jl,props:te({},Ko,{name:se,isLink:re,disabled:Boolean,readonly:Boolean,lazyRender:re}),setup(e,{slots:t}){const n=o(),l=o(),{parent:i,index:c}=L(Rl);if(!i)return;const u=d((()=>{var t;return null!=(t=e.name)?t:c.value})),p=d((()=>i.isExpanded(u.value))),v=o(p.value),m=Nt((()=>v.value||!e.lazyRender)),h=()=>{p.value?n.value&&(n.value.style.height=""):v.value=!1};a(p,((e,t)=>{if(null===t)return;e&&(v.value=!0);(e?s:N)((()=>{if(!l.value||!n.value)return;const{offsetHeight:t}=l.value;if(t){const o=`${t}px`;n.value.style.height=e?"0":o,j((()=>{n.value&&(n.value.style.height=e?o:"0")}))}else h()}))}));const f=(e=!p.value)=>{i.toggle(u.value,e)},b=()=>{e.disabled||e.readonly||f()},x=()=>{const{border:o,disabled:n,readonly:l}=e,a=le(e,Object.keys(Ko));return l&&(a.isLink=!1),(n||l)&&(a.clickable=!1),r(Jo,g({role:"button",class:Fl("title",{disabled:n,expanded:p.value,borderless:!o}),"aria-expanded":String(p.value),onClick:b},a),le(t,Wl))},k=m((()=>{var e;return y(r("div",{ref:n,class:Fl("wrapper"),onTransitionend:h},[r("div",{ref:l,class:Fl("content")},[null==(e=t.default)?void 0:e.call(t)])]),[[w,v.value]])}));return rt({toggle:f,expanded:p,itemName:u}),()=>r("div",{class:[Fl({border:c.value&&e.border})]},[x(),k()])}})),ql=et(yt),Ul=(new Date).getFullYear(),[Xl]=We("date-picker");const Zl=et(c({name:Xl,props:te({},sl,{columnsType:{type:Array,default:()=>["year","month","day"]},minDate:{type:Date,default:()=>new Date(Ul-10,0,1),validator:Q},maxDate:{type:Date,default:()=>new Date(Ul+10,11,31),validator:Q}}),emits:["confirm","cancel","change","update:modelValue"],setup(e,{emit:t,slots:n}){const l=o(e.modelValue),i=t=>t===e.minDate.getFullYear(),s=t=>t===e.maxDate.getFullYear(),c=t=>{const{minDate:o,columnsType:n}=e,a=n.indexOf(t),i=l.value[a];if(i)return+i;switch(t){case"year":return o.getFullYear();case"month":return o.getMonth()+1;case"day":return o.getDate()}},u=()=>{const t=c("year"),o=c("month"),n=i(t)&&(t=>t===e.minDate.getMonth()+1)(o)?e.minDate.getDate():1,l=s(t)&&(t=>t===e.maxDate.getMonth()+1)(o)?e.maxDate.getDate():((e,t)=>32-new Date(e,t-1,32).getDate())(t,o);return cl(n,l,"day",e.formatter,e.filter)},p=d((()=>e.columnsType.map((t=>{switch(t){case"year":return(()=>{const t=e.minDate.getFullYear(),o=e.maxDate.getFullYear();return cl(t,o,"year",e.formatter,e.filter)})();case"month":return(()=>{const t=c("year"),o=i(t)?e.minDate.getMonth()+1:1,n=s(t)?e.maxDate.getMonth()+1:12;return cl(o,n,"month",e.formatter,e.filter)})();case"day":return u();default:return[]}}))));a(l,(o=>{ae(o,e.modelValue)||t("update:modelValue",o)})),a((()=>e.modelValue),(e=>{e=((e,t)=>e.map(((e,o)=>{const n=t[o];if(n.length){const t=+n[n.length-1].value;if(+e>t)return String(t)}return e})))(e,p.value),ae(e,l.value)||(l.value=e)}),{immediate:!0});const v=(...e)=>t("change",...e),m=(...e)=>t("cancel",...e),h=(...e)=>t("confirm",...e);return()=>r(Xo,g({modelValue:l.value,"onUpdate:modelValue":e=>l.value=e,columns:p.value,onChange:v,onCancel:m,onConfirm:h},le(e,rl)),n)}})),[Gl,Kl,Jl]=We("dialog"),Ql=te({},Lt,{title:String,theme:String,width:se,message:[String,Function],callback:Function,allowHtml:Boolean,className:null,transition:ve("van-dialog-bounce"),messageAlign:String,closeOnPopstate:re,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:re,closeOnClickOverlay:Boolean}),_l=[...Et,"transition","closeOnPopstate"];var ea=c({name:Gl,props:Ql,emits:["confirm","cancel","keydown","update:show"],setup(e,{emit:t,slots:l}){const a=o(),i=n({confirm:!1,cancel:!1}),s=e=>t("update:show",e),c=t=>{var o;s(!1),null==(o=e.callback)||o.call(e,t)},u=o=>()=>{e.show&&(t(o),e.beforeClose?(i[o]=!0,_e(e.beforeClose,{args:[o],done(){c(o),i[o]=!1},canceled(){i[o]=!1}})):c(o))},d=u("cancel"),p=u("confirm"),v=I((o=>{var n,l;if(o.target!==(null==(l=null==(n=a.value)?void 0:n.popupRef)?void 0:l.value))return;({Enter:e.showConfirmButton?p:ee,Escape:e.showCancelButton?d:ee})[o.key](),t("keydown",o)}),["enter","esc"]),m=()=>{const t=l.title?l.title():e.title;if(t)return r("div",{class:Kl("header",{isolated:!e.message&&!l.default})},[t])},h=t=>{const{message:o,allowHtml:n,messageAlign:l}=e,a=Kl("message",{"has-title":t,[l]:l}),i=G(o)?o():o;return n&&"string"==typeof i?r("div",{class:a,innerHTML:i},null):r("div",{class:a},[i])},f=()=>{if(l.default)return r("div",{class:Kl("content")},[l.default()]);const{title:t,message:o,allowHtml:n}=e;if(o){const e=!(!t&&!l.title);return r("div",{key:n?1:0,class:Kl("content",{isolated:!e})},[h(e)])}},b=()=>l.footer?l.footer():"round-button"===e.theme?r(st,{class:Kl("footer")},{default:()=>[e.showCancelButton&&r(Pt,{type:"warning",text:e.cancelButtonText||Jl("cancel"),class:Kl("cancel"),color:e.cancelButtonColor,loading:i.cancel,disabled:e.cancelButtonDisabled,onClick:d},null),e.showConfirmButton&&r(Pt,{type:"danger",text:e.confirmButtonText||Jl("confirm"),class:Kl("confirm"),color:e.confirmButtonColor,loading:i.confirm,disabled:e.confirmButtonDisabled,onClick:p},null)]}):r("div",{class:[qe,Kl("footer")]},[e.showCancelButton&&r(Vt,{size:"large",text:e.cancelButtonText||Jl("cancel"),class:Kl("cancel"),style:{color:e.cancelButtonColor},loading:i.cancel,disabled:e.cancelButtonDisabled,onClick:d},null),e.showConfirmButton&&r(Vt,{size:"large",text:e.confirmButtonText||Jl("confirm"),class:[Kl("confirm"),{[Ue]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:i.confirm,disabled:e.confirmButtonDisabled,onClick:p},null)]);return()=>{const{width:t,title:o,theme:n,message:l,className:i}=e;return r(qt,g({ref:a,role:"dialog",class:[Kl([n]),i],style:{width:Be(t)},tabindex:0,"aria-labelledby":o||l,onKeydown:v,"onUpdate:show":s},le(e,_l)),{default:()=>[m(),f(),b()]})}}});let ta;let oa=te({},{title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1});function na(e){return oe?new Promise(((t,o)=>{ta||function(){const e={setup(){const{state:e,toggle:t}=gn();return()=>r(ea,g(e,{"onUpdate:show":t}),null)}};({instance:ta}=bn(e))}(),ta.open(te({},oa,e,{callback:e=>{("confirm"===e?t:o)(e)}}))})):Promise.resolve()}const la=e=>na(te({showCancelButton:!0},e));et(ea);const[aa,ia]=We("dropdown-menu"),sa={overlay:re,zIndex:se,duration:pe(.2),direction:ve("down"),activeColor:String,closeOnClickOutside:re,closeOnClickOverlay:re},ra=Symbol(aa);var ca=c({name:aa,props:sa,setup(e,{slots:t}){const n=ho(),l=o(),a=o(),i=o(0),{children:s,linkChildren:c}=P(ra),u=R(l),p=d((()=>s.some((e=>e.state.showWrapper)))),v=d((()=>{if(p.value&&Z(e.zIndex))return{zIndex:+e.zIndex+1}})),m=()=>{if(a.value){const t=$(a);"down"===e.direction?i.value=t.bottom:i.value=Se.value-t.top}},h=(t,o)=>{const{showPopup:l}=t.state,{disabled:a,titleClass:i}=t;return r("div",{id:`${n}-${o}`,role:"button",tabindex:a?void 0:0,class:[ia("item",{disabled:a}),{[Je]:!a}],onClick:()=>{var e;a||(e=o,s.forEach(((t,o)=>{o===e?(m(),t.toggle()):t.state.showPopup&&t.toggle(!1,{immediate:!0})})))}},[r("span",{class:[ia("title",{down:l===("down"===e.direction),active:l}),i],style:{color:l?e.activeColor:""}},[r("div",{class:"van-ellipsis"},[t.renderTitle()])])])};return c({id:n,props:e,offset:i}),q(l,(()=>{e.closeOnClickOutside&&s.forEach((e=>{e.toggle(!1)}))})),H("scroll",(()=>{p.value&&m()}),{target:u,passive:!0}),()=>{var e;return r("div",{ref:l,class:ia()},[r("div",{ref:a,style:v.value,class:ia("bar",{opened:p.value})},[s.map(h)]),null==(e=t.default)?void 0:e.call(t)])}}});const[ua,da]=We("dropdown-item");const pa=et(c({name:ua,inheritAttrs:!1,props:{title:String,options:ue(),disabled:Boolean,teleport:[String,Object],lazyRender:re,modelValue:null,titleClass:null},emits:["open","opened","close","closed","change","update:modelValue"],setup(e,{emit:t,slots:o,attrs:l}){const a=n({showPopup:!1,transition:!0,showWrapper:!1}),{parent:i,index:s}=L(ra);if(!i)return;const c=e=>()=>t(e),u=c("open"),d=c("close"),p=c("opened"),v=()=>{a.showWrapper=!1,t("closed")},m=t=>{e.teleport&&t.stopPropagation()},h=o=>{const{activeColor:n}=i.props,l=o.value===e.modelValue;return r(Jo,{role:"menuitem",key:o.value,icon:o.icon,title:o.text,class:da("option",{active:l}),style:{color:l?n:""},tabindex:l?0:-1,clickable:!0,onClick:()=>{a.showPopup=!1,o.value!==e.modelValue&&(t("update:modelValue",o.value),t("change",o.value))}},{value:()=>{if(l)return r(kt,{class:da("icon"),color:n,name:"success"},null)}})},f=()=>{const{offset:t}=i,{zIndex:n,overlay:c,duration:f,direction:b,closeOnClickOverlay:x}=i.props,k=Te(n);return"down"===b?k.top=`${t.value}px`:k.bottom=`${t.value}px`,y(r("div",g({style:k,class:da([b]),onClick:m},l),[r(qt,{show:a.showPopup,"onUpdate:show":e=>a.showPopup=e,role:"menu",class:da("content"),overlay:c,position:"down"===b?"top":"bottom",duration:a.transition?f:0,lazyRender:e.lazyRender,overlayStyle:{position:"absolute"},"aria-labelledby":`${i.id}-${s.value}`,closeOnClickOverlay:x,onOpen:u,onClose:d,onOpened:p,onClosed:v},{default:()=>{var t;return[e.options.map(h),null==(t=o.default)?void 0:t.call(o)]}})]),[[w,a.showWrapper]])};return rt({state:a,toggle:(e=!a.showPopup,t={})=>{e!==a.showPopup&&(a.showPopup=e,a.transition=!t.immediate,e&&(a.showWrapper=!0))},renderTitle:()=>{if(o.title)return o.title();if(e.title)return e.title;const t=e.options.find((t=>t.value===e.modelValue));return t?t.text:""}}),()=>e.teleport?r(x,{to:e.teleport},{default:()=>[f()]}):f()}})),va=et(ca),[ma,ha]=We("grid"),fa={square:Boolean,center:re,border:re,gutter:se,reverse:Boolean,iconSize:se,direction:String,clickable:Boolean,columnNum:pe(4)},ga=Symbol(ma);const ba=et(c({name:ma,props:fa,setup(e,{slots:t}){const{linkChildren:o}=P(ga);return o({props:e}),()=>{var o;return r("div",{style:{paddingLeft:Be(e.gutter)},class:[ha(),{[qe]:e.border&&!e.gutter}]},[null==(o=t.default)?void 0:o.call(t)])}}})),[ya,wa]=We("grid-item");const xa=et(c({name:ya,props:te({},ct,{dot:Boolean,text:String,icon:String,badge:se,iconColor:String,iconPrefix:String,badgeProps:Object}),setup(e,{slots:t}){const{parent:o,index:n}=L(ga),l=dt();if(!o)return;const a=d((()=>{const{square:e,gutter:t,columnNum:l}=o.props,a=100/+l+"%",i={flexBasis:a};if(e)i.paddingTop=a;else if(t){const e=Be(t);i.paddingRight=e,n.value>=l&&(i.marginTop=e)}return i})),i=d((()=>{const{square:e,gutter:t}=o.props;if(e&&t){const e=Be(t);return{right:e,bottom:e,height:"auto"}}}));return()=>{const{center:n,border:s,square:c,gutter:u,reverse:d,direction:p,clickable:v}=o.props,m=[wa("content",[p,{center:n,square:c,reverse:d,clickable:v,surround:s&&u}]),{[Ye]:s}];return r("div",{class:[wa({square:c})],style:a.value},[r("div",{role:v?"button":void 0,class:m,style:i.value,tabindex:v?0:void 0,onClick:l},[t.default?t.default():[t.icon?r(mt,g({dot:e.dot,content:e.badge},e.badgeProps),{default:t.icon}):e.icon?r(kt,{dot:e.dot,name:e.icon,size:o.props.iconSize,badge:e.badge,class:wa("icon"),color:e.iconColor,badgeProps:e.badgeProps,classPrefix:e.iconPrefix},null):void 0,t.text?t.text():e.text?r("span",{class:wa("text")},[e.text]):void 0]])])}}})),ka=t=>Math.sqrt(e(t[0].clientX-t[1].clientX,2)+e(t[0].clientY-t[1].clientY,2)),Ca=We("image-preview")[1];var Sa=c({props:{src:String,show:Boolean,active:Number,minZoom:ce(se),maxZoom:ce(se),rootWidth:ce(Number),rootHeight:ce(Number),disableZoom:Boolean},emits:["scale","close","longPress"],setup(e,{emit:t,slots:l}){const i=n({scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,imageRatio:0,displayWidth:0,displayHeight:0}),s=Dt(),c=o(),u=d((()=>{const{rootWidth:t,rootHeight:o}=e,n=o/t;return i.imageRatio>n})),p=d((()=>{const{scale:e,moveX:t,moveY:o,moving:n,zooming:l}=i,a={transitionDuration:l||n?"0s":".3s"};if(1!==e){const n=t/e,l=o/e;a.transform=`scale(${e}, ${e}) translate(${n}px, ${l}px)`}return a})),v=d((()=>{if(i.imageRatio){const{rootWidth:t,rootHeight:o}=e,n=u.value?o/i.imageRatio:t;return Math.max(0,(i.scale*n-t)/2)}return 0})),m=d((()=>{if(i.imageRatio){const{rootWidth:t,rootHeight:o}=e,n=u.value?o:t*i.imageRatio;return Math.max(0,(i.scale*n-o)/2)}return 0})),h=o=>{(o=Pe(o,+e.minZoom,+e.maxZoom+1))!==i.scale&&(i.scale=o,t("scale",{scale:o,index:e.active}))},f=()=>{h(1),i.moveX=0,i.moveY=0};let g,b,y,w,x,k,C,S=!1;const B=t=>{const{touches:o}=t;if(g=o.length,2===g&&e.disableZoom)return;const{offsetX:n}=s;s.start(t),b=i.moveX,y=i.moveY,C=Date.now(),S=!1,i.moving=1===g&&1!==i.scale,i.zooming=2===g&&!n.value,i.zooming&&(w=i.scale,x=ka(t.touches))},z=()=>{if(g>1)return;const{offsetX:e,offsetY:o}=s,n=Date.now()-C;e.value<5&&o.value<5&&(n<250?k?(clearTimeout(k),k=null,(()=>{const e=i.scale>1?1:2;h(e),i.moveX=0,i.moveY=0})()):k=setTimeout((()=>{t("close"),k=null}),250):n>500&&t("longPress"))},T=t=>{let o=!1;(i.moving||i.zooming)&&(o=!0,i.moving&&b===i.moveX&&y===i.moveY&&(o=!1),t.touches.length||(i.zooming&&(i.moveX=Pe(i.moveX,-v.value,v.value),i.moveY=Pe(i.moveY,-m.value,m.value),i.zooming=!1),i.moving=!1,b=0,y=0,w=1,i.scale<1&&f(),i.scale>e.maxZoom&&(i.scale=+e.maxZoom))),xe(t,o),z(),s.reset()},I=e=>{const{naturalWidth:t,naturalHeight:o}=e.target;i.imageRatio=o/t};return a((()=>e.active),f),a((()=>e.show),(e=>{e||f()})),H("touchmove",(e=>{const{touches:t}=e;if(s.move(e),i.moving){const{deltaX:t,deltaY:o}=s,n=t.value+b,l=o.value+y;if((n>v.value||n<-v.value)&&!S)return void(i.moving=!1);S=!0,xe(e,!0),i.moveX=Pe(n,-v.value,v.value),i.moveY=Pe(l,-m.value,m.value)}if(i.zooming&&(xe(e,!0),2===t.length)){const e=ka(t);h(w*e/x)}}),{target:d((()=>{var e;return null==(e=c.value)?void 0:e.$el}))}),()=>{const t={loading:()=>r(Tt,{type:"spinner"},null)};return r(No,{ref:c,class:Ca("swipe-item"),onTouchstartPassive:B,onTouchend:T,onTouchcancel:T},{default:()=>[l.image?r("div",{class:Ca("image-wrap")},[l.image({src:e.src})]):r(pl,{src:e.src,fit:"contain",class:Ca("image",{vertical:u.value}),style:p.value,onLoad:I},t)]})}}});const[Ba,za]=We("image-preview"),Ta=["show","teleport","transition","overlayStyle","closeOnPopstate"];var Ia=c({name:Ba,props:{show:Boolean,loop:re,images:ue(),minZoom:pe(1/3),maxZoom:pe(3),overlay:re,closeable:Boolean,showIndex:re,className:null,closeIcon:ve("clear"),transition:String,beforeClose:Function,overlayClass:null,overlayStyle:Object,swipeDuration:pe(300),startPosition:pe(0),showIndicators:Boolean,closeOnPopstate:re,closeIconPosition:ve("top-right"),teleport:[String,Object]},emits:["scale","close","closed","change","longPress","update:show"],setup(e,{emit:t,slots:l}){const c=o(),u=n({active:0,rootWidth:0,rootHeight:0,disableZoom:!1}),d=()=>{if(c.value){const e=$(c.value.$el);u.rootWidth=e.width,u.rootHeight=e.height,c.value.resize()}},p=e=>t("scale",e),v=e=>t("update:show",e),m=()=>{_e(e.beforeClose,{args:[u.active],done:()=>v(!1)})},h=e=>{e!==u.active&&(u.active=e,t("change",e))},f=()=>{if(e.showIndex)return r("div",{class:za("index")},[l.index?l.index({index:u.active}):`${u.active+1} / ${e.images.length}`])},b=()=>{if(l.cover)return r("div",{class:za("cover")},[l.cover()])},y=()=>{u.disableZoom=!0},w=()=>{u.disableZoom=!1},x=()=>{if(e.closeable)return r(kt,{role:"button",name:e.closeIcon,class:[za("close-icon",e.closeIconPosition),Je],onClick:m},null)},k=()=>t("closed"),C=(e,t)=>{var o;return null==(o=c.value)?void 0:o.swipeTo(e,t)};return rt({swipeTo:C}),i(d),a([Ce,Se],d),a((()=>e.startPosition),(e=>h(+e))),a((()=>e.show),(o=>{const{images:n,startPosition:l}=e;o?(h(+l),s((()=>{d(),C(+l,{immediate:!0})}))):t("close",{index:u.active,url:n[u.active]})})),()=>r(qt,g({class:[za(),e.className],overlayClass:[za("overlay"),e.overlayClass],onClosed:k,"onUpdate:show":v},le(e,Ta)),{default:()=>[x(),r(zo,{ref:c,lazyRender:!0,loop:e.loop,class:za("swipe"),duration:e.swipeDuration,initialSwipe:e.startPosition,showIndicators:e.showIndicators,indicatorColor:"white",onChange:h,onDragEnd:w,onDragStart:y},{default:()=>[e.images.map(((o,n)=>r(Sa,{src:o,show:e.show,active:u.active,maxZoom:e.maxZoom,minZoom:e.minZoom,rootWidth:u.rootWidth,rootHeight:u.rootHeight,disableZoom:u.disableZoom,onScale:p,onClose:m,onLongPress:()=>t("longPress",{index:n})},{image:l.image})))]}),f(),b()]})}});let Oa;const Va={loop:!0,images:[],maxZoom:3,minZoom:1/3,onScale:void 0,onClose:void 0,onChange:void 0,teleport:"body",className:"",showIndex:!0,closeable:!1,closeIcon:"clear",transition:void 0,beforeClose:void 0,overlayStyle:void 0,overlayClass:void 0,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeIconPosition:"top-right"};const Aa=(e,t=0)=>{if(oe)return Oa||({instance:Oa}=bn({setup(){const{state:e,toggle:t}=gn(),o=()=>{e.images=[]};return()=>r(Ia,g(e,{onClosed:o,"onUpdate:show":t}),null)}})),e=Array.isArray(e)?{images:e,startPosition:t}:e,Oa.open(te({},Va,e)),Oa};et(Ia);const[$a,Pa,La]=We("list");const Ea=et(c({name:$a,props:{error:Boolean,offset:pe(300),loading:Boolean,disabled:Boolean,finished:Boolean,errorText:String,direction:ve("down"),loadingText:String,finishedText:String,immediateCheck:re},emits:["load","update:error","update:loading"],setup(e,{emit:t,slots:n}){const c=o(e.loading),u=o(),d=o(),p=l(Eo,null),v=R(u),m=()=>{s((()=>{if(c.value||e.finished||e.disabled||e.error||!1===(null==p?void 0:p.value))return;const{offset:o,direction:n}=e,l=$(v);if(!l.height||ke(u))return;let a=!1;const i=$(d);a="up"===n?l.top-i.top<=o:i.bottom-l.bottom<=o,a&&(c.value=!0,t("update:loading",!0),t("load"))}))},h=()=>{if(e.finished){const t=n.finished?n.finished():e.finishedText;if(t)return r("div",{class:Pa("finished-text")},[t])}},f=()=>{t("update:error",!1),m()},g=()=>{if(e.error){const t=n.error?n.error():e.errorText;if(t)return r("div",{role:"button",class:Pa("error-text"),tabindex:0,onClick:f},[t])}},b=()=>{if(c.value&&!e.finished&&!e.disabled)return r("div",{class:Pa("loading")},[n.loading?n.loading():r(Tt,{class:Pa("loading-icon")},{default:()=>[e.loadingText||La("loading")]})])};return a((()=>[e.loading,e.finished,e.error]),m),p&&a(p,(e=>{e&&m()})),O((()=>{c.value=e.loading})),i((()=>{e.immediateCheck&&m()})),rt({check:m}),H("scroll",m,{target:v,passive:!0}),()=>{var t;const o=null==(t=n.default)?void 0:t.call(n),l=r("div",{ref:d,class:Pa("placeholder")},null);return r("div",{ref:u,role:"feed",class:Pa(),"aria-busy":c.value},["down"===e.direction?o:l,b(),h(),g(),"up"===e.direction?o:l])}}})),[Da,Ha]=We("nav-bar");const Na=et(c({name:Da,props:{title:String,fixed:Boolean,zIndex:se,border:re,leftText:String,rightText:String,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean,clickable:re},emits:["clickLeft","clickRight"],setup(e,{emit:t,slots:n}){const l=o(),a=nt(l,Ha),i=e=>t("clickLeft",e),s=e=>t("clickRight",e),c=()=>{const{title:t,fixed:o,border:a,zIndex:c}=e,u=Te(c),d=e.leftArrow||e.leftText||n.left,p=e.rightText||n.right;return r("div",{ref:l,style:u,class:[Ha({fixed:o}),{[Xe]:a,"van-safe-area-top":e.safeAreaInsetTop}]},[r("div",{class:Ha("content")},[d&&r("div",{class:[Ha("left"),e.clickable?Je:""],onClick:i},[n.left?n.left():[e.leftArrow&&r(kt,{class:Ha("arrow"),name:"arrow-left"},null),e.leftText&&r("span",{class:Ha("text")},[e.leftText])]]),r("div",{class:[Ha("title"),"van-ellipsis"]},[n.title?n.title():t]),p&&r("div",{class:[Ha("right"),e.clickable?Je:""],onClick:s},[n.right?n.right():r("span",{class:Ha("text")},[e.rightText])])])])};return()=>e.fixed&&e.placeholder?a(c):c()}})),[Ra,Ma]=We("notice-bar");const ja=et(c({name:Ra,props:{text:String,mode:String,color:String,delay:pe(1),speed:pe(60),leftIcon:String,wrapable:Boolean,background:String,scrollable:{type:Boolean,default:null}},emits:["close","replay"],setup(e,{emit:t,slots:l}){let i,s=0,c=0;const u=o(),d=o(),p=n({show:!0,offset:0,duration:0}),v=o=>{"closeable"===e.mode&&(p.show=!1,t("close",o))},m=()=>{if(l["right-icon"])return l["right-icon"]();const t="closeable"===e.mode?"cross":"link"===e.mode?"arrow":void 0;return t?r(kt,{name:t,class:Ma("right-icon"),onClick:v},null):void 0},h=()=>{p.offset=s,p.duration=0,N((()=>{j((()=>{p.offset=-c,p.duration=(c+s)/+e.speed,t("replay")}))}))},f=()=>{const t=!1===e.scrollable&&!e.wrapable,o={transform:p.offset?`translateX(${p.offset}px)`:"",transitionDuration:`${p.duration}s`};return r("div",{ref:u,role:"marquee",class:Ma("wrap")},[r("div",{ref:d,style:o,class:[Ma("content"),{"van-ellipsis":t}],onTransitionend:h},[l.default?l.default():e.text])])},g=()=>{const{delay:t,speed:o,scrollable:n}=e,l=Z(t)?1e3*+t:0;s=0,c=0,p.offset=0,p.duration=0,clearTimeout(i),i=setTimeout((()=>{if(!u.value||!d.value||!1===n)return;const e=$(u).width,t=$(d).width;(n||t>e)&&j((()=>{s=e,c=t,p.offset=-c,p.duration=c/+o}))}),l)};return ot(g),E(g),H("pageshow",g),rt({reset:g}),a((()=>[e.text,e.scrollable]),g),()=>{const{color:t,wrapable:o,background:n}=e;return y(r("div",{role:"alert",class:Ma({wrapable:o}),style:{color:t,background:n}},[l["left-icon"]?l["left-icon"]():e.leftIcon?r(kt,{class:Ma("left-icon"),name:e.leftIcon},null):void 0,f(),m()]),[[w,p.show]])}}})),[Fa,Wa]=We("notify");var Ya=c({name:Fa,props:te({},Lt,{type:ve("danger"),color:String,message:se,position:ve("top"),className:null,background:String,lockScroll:Boolean}),emits:["update:show"],setup(e,{emit:t,slots:o}){const n=e=>t("update:show",e);return()=>r(qt,{show:e.show,class:[Wa([e.type]),e.className],style:{color:e.color,background:e.background},overlay:!1,zIndex:e.zIndex,position:e.position,duration:.2,lockScroll:e.lockScroll,"onUpdate:show":n},{default:()=>[o.default?o.default():e.message]})}});let qa,Ua;let Xa={type:"danger",color:void 0,message:"",onClose:void 0,onClick:void 0,onOpened:void 0,duration:3e3,position:void 0,className:"",lockScroll:!1,background:void 0};const Za=()=>{Ua&&Ua.toggle(!1)};function Ga(e){var t;if(oe)return Ua||({instance:Ua}=bn({setup(){const{state:e,toggle:t}=gn();return()=>r(Ya,g(e,{"onUpdate:show":t}),null)}})),e=te({},Xa,K(t=e)?t:{message:t}),Ua.open(e),clearTimeout(qa),e.duration>0&&(qa=setTimeout(Za,e.duration)),Ua}et(Ya);const[Ka,Ja,Qa]=We("pagination"),_a=(e,t,o)=>({number:e,text:t,active:o});const ei=et(c({name:Ka,props:{mode:ve("multi"),prevText:String,nextText:String,pageCount:pe(0),modelValue:de(0),totalItems:pe(0),showPageSize:pe(5),itemsPerPage:pe(10),forceEllipses:Boolean},emits:["change","update:modelValue"],setup(e,{emit:t,slots:o}){const n=d((()=>{const{pageCount:t,totalItems:o,itemsPerPage:n}=e,l=+t||Math.ceil(+o/+n);return Math.max(1,l)})),l=d((()=>{const t=[],o=n.value,l=+e.showPageSize,{modelValue:a,forceEllipses:i}=e;let s=1,r=o;const c=l<o;c&&(s=Math.max(a-Math.floor(l/2),1),r=s+l-1,r>o&&(r=o,s=r-l+1));for(let e=s;e<=r;e++){const o=_a(e,e,e===a);t.push(o)}if(c&&l>0&&i){if(s>1){const e=_a(s-1,"...");t.unshift(e)}if(r<o){const e=_a(r+1,"...");t.push(e)}}return t})),a=(o,l)=>{o=Pe(o,1,n.value),e.modelValue!==o&&(t("update:modelValue",o),l&&t("change",o))};f((()=>a(e.modelValue)));const i=()=>{const{mode:t,modelValue:n}=e,l=o["prev-text"],i=1===n;return r("li",{class:[Ja("item",{disabled:i,border:"simple"===t,prev:!0}),Ze]},[r("button",{type:"button",disabled:i,onClick:()=>a(n-1,!0)},[l?l():e.prevText||Qa("prev")])])},s=()=>{const{mode:t,modelValue:l}=e,i=o["next-text"],s=l===n.value;return r("li",{class:[Ja("item",{disabled:s,border:"simple"===t,next:!0}),Ze]},[r("button",{type:"button",disabled:s,onClick:()=>a(l+1,!0)},[i?i():e.nextText||Qa("next")])])};return()=>r("nav",{role:"navigation",class:Ja()},[r("ul",{class:Ja("items")},[i(),"simple"===e.mode?r("li",{class:Ja("page-desc")},[o.pageDesc?o.pageDesc():`${e.modelValue}/${n.value}`]):l.value.map((e=>r("li",{class:[Ja("item",{active:e.active,page:!0}),Ze]},[r("button",{type:"button","aria-current":e.active||void 0,onClick:()=>a(e.number,!0)},[o.page?o.page(e):e.text])]))),s()])])}})),[ti,oi]=We("popover"),ni=["overlay","duration","teleport","overlayStyle","overlayClass","closeOnClickOverlay"];const li=et(c({name:ti,props:{show:Boolean,theme:ve("light"),overlay:Boolean,actions:ue(),trigger:ve("click"),duration:se,showArrow:re,placement:ve("bottom"),iconPrefix:String,overlayClass:null,overlayStyle:Object,closeOnClickAction:re,closeOnClickOverlay:re,closeOnClickOutside:re,offset:{type:Array,default:()=>[0,8]},teleport:{type:[String,Object],default:"body"}},emits:["select","touchstart","update:show"],setup(e,{emit:t,slots:n,attrs:l}){let c;const u=o(),d=o(),p=o(),v=((e,t)=>{const n=o(e());return a(e,(e=>{e!==n.value&&(n.value=e)})),a(n,(o=>{o!==e()&&t(o)})),n})((()=>e.show),(e=>t("update:show",e))),h=()=>({placement:e.placement,modifiers:[{name:"computeStyles",options:{adaptive:!1,gpuAcceleration:!1}},te({},U,{options:{offset:e.offset}})]}),b=()=>{s((()=>{v.value&&(c?c.setOptions(h()):c=d.value&&p.value?X(d.value,p.value.popupRef.value,h()):null)}))},y=e=>{v.value=e},w=()=>{"click"===e.trigger&&(v.value=!v.value)},x=(t,o)=>n.action?n.action({action:t,index:o}):[t.icon&&r(kt,{name:t.icon,classPrefix:e.iconPrefix,class:oi("action-icon")},null),r("div",{class:[oi("action-text"),Xe]},[t.text])],C=(o,n)=>{const{icon:l,color:a,disabled:i,className:s}=o;return r("div",{role:"menuitem",class:[oi("action",{disabled:i,"with-icon":l}),s],style:{color:a},tabindex:i?void 0:0,"aria-disabled":i||void 0,onClick:()=>((o,n)=>{o.disabled||(t("select",o,n),e.closeOnClickAction&&(v.value=!1))})(o,n)},[x(o,n)])};return i((()=>{b(),f((()=>{var e;u.value=null==(e=p.value)?void 0:e.popupRef.value}))})),m((()=>{c&&(c.destroy(),c=null)})),a((()=>[v.value,e.offset,e.placement]),b),q([d,u],(()=>{v.value&&e.closeOnClickOutside&&(!e.overlay||e.closeOnClickOverlay)&&(v.value=!1)}),{eventName:"touchstart"}),()=>{var t;return r(k,null,[r("span",{ref:d,class:oi("wrapper"),onClick:w},[null==(t=n.reference)?void 0:t.call(n)]),r(qt,g({ref:p,show:v.value,class:oi([e.theme]),position:"",transition:"van-popover-zoom",lockScroll:!1,"onUpdate:show":y},l,le(e,ni)),{default:()=>[e.showArrow&&r("div",{class:oi("arrow")},null),r("div",{role:"menu",class:oi("content")},[n.default?n.default():e.actions.map(C)])]})])}}})),[ai,ii,si]=We("pull-refresh"),ri=["pulling","loosing","success"];const ci=et(c({name:ai,props:{disabled:Boolean,modelValue:Boolean,headHeight:pe(50),successText:String,pullingText:String,loosingText:String,loadingText:String,pullDistance:se,successDuration:pe(500),animationDuration:pe(300)},emits:["change","refresh","update:modelValue"],setup(e,{emit:t,slots:l}){let i;const c=o(),u=o(),d=R(c),p=n({status:"normal",distance:0,duration:0}),v=Dt(),m=()=>{if(50!==e.headHeight)return{height:`${e.headHeight}px`}},h=()=>"loading"!==p.status&&"success"!==p.status&&!e.disabled,f=(o,n)=>{const l=+(e.pullDistance||e.headHeight);p.distance=o,p.status=n?"loading":0===o?"normal":o<l?"pulling":"loosing",t("change",{status:p.status,distance:o})},g=()=>{const{status:t}=p;return"normal"===t?"":e[`${t}Text`]||si(t)},b=()=>{const{status:e,distance:t}=p;if(l[e])return l[e]({distance:t});const o=[];return ri.includes(e)&&o.push(r("div",{class:ii("text")},[g()])),"loading"===e&&o.push(r(Tt,{class:ii("loading")},{default:g})),o},y=e=>{i=0===me(d.value),i&&(p.duration=0,v.start(e))},w=e=>{h()&&y(e)},x=()=>{i&&v.deltaY.value&&h()&&(p.duration=+e.animationDuration,"loosing"===p.status?(f(+e.headHeight,!0),t("update:modelValue",!0),s((()=>t("refresh")))):f(0))};return a((()=>e.modelValue),(t=>{p.duration=+e.animationDuration,t?f(+e.headHeight,!0):l.success||e.successText?(p.status="success",setTimeout((()=>{f(0)}),+e.successDuration)):f(0,!1)})),H("touchmove",(t=>{if(h()){i||y(t);const{deltaY:o}=v;v.move(t),i&&o.value>=0&&v.isVertical()&&(xe(t),f((t=>{const o=+(e.pullDistance||e.headHeight);return t>o&&(t=t<2*o?o+(t-o)/2:1.5*o+(t-2*o)/4),Math.round(t)})(o.value)))}}),{target:u}),()=>{var e;const t={transitionDuration:`${p.duration}ms`,transform:p.distance?`translate3d(0,${p.distance}px, 0)`:""};return r("div",{ref:c,class:ii()},[r("div",{ref:u,class:ii("track"),style:t,onTouchstartPassive:w,onTouchend:x,onTouchcancel:x},[r("div",{class:ii("head"),style:m()},[b()]),null==(e=l.default)?void 0:e.call(l)])])}}})),ui=et(Pl),[di,pi,vi]=We("search");const mi=et(c({name:di,props:te({},un,{label:String,shape:ve("square"),leftIcon:ve("search"),clearable:re,actionText:String,background:String,showAction:Boolean}),emits:["blur","focus","clear","search","cancel","clickInput","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:t,slots:n,attrs:l}){const a=ho(),i=o(),s=()=>{n.action||(t("update:modelValue",""),t("cancel"))},c=o=>{13===o.keyCode&&(xe(o),t("search",e.modelValue))},u=()=>e.id||`${a}-input`,d=()=>{if(n.label||e.label)return r("label",{class:pi("label"),for:u()},[n.label?n.label():e.label])},p=()=>{if(e.showAction){const t=e.actionText||vi("cancel");return r("div",{class:pi("action"),role:"button",tabindex:0,onClick:s},[n.action?n.action():t])}},v=e=>t("blur",e),m=e=>t("focus",e),h=e=>t("clear",e),f=e=>t("clickInput",e),b=e=>t("clickLeftIcon",e),y=e=>t("clickRightIcon",e),w=Object.keys(un),x=()=>{const o=te({},l,le(e,w),{id:u()});return r(dn,g({ref:i,type:"search",class:pi("field"),border:!1,onBlur:v,onFocus:m,onClear:h,onKeypress:c,onClickInput:f,onClickLeftIcon:b,onClickRightIcon:y,"onUpdate:modelValue":e=>t("update:modelValue",e)},o),le(n,["left-icon","right-icon"]))};return rt({focus:()=>{var e;return null==(e=i.value)?void 0:e.focus()},blur:()=>{var e;return null==(e=i.value)?void 0:e.blur()}}),()=>{var t;return r("div",{class:pi({"show-action":e.showAction}),style:{background:e.background}},[null==(t=n.left)?void 0:t.call(n),r("div",{class:pi("content",e.shape)},[d(),x()]),p()])}}})),hi=[...Et,"round","closeOnPopstate","safeAreaInsetBottom"],fi={qq:"qq",link:"link-o",weibo:"weibo",qrcode:"qr",poster:"photo-o",wechat:"wechat","weapp-qrcode":"miniprogram-o","wechat-moments":"wechat-moments"},[gi,bi,yi]=We("share-sheet");const wi=et(c({name:gi,props:te({},Lt,{title:String,round:re,options:ue(),cancelText:String,description:String,closeOnPopstate:re,safeAreaInsetBottom:re}),emits:["cancel","select","update:show"],setup(e,{emit:t,slots:o}){const n=e=>t("update:show",e),l=()=>{n(!1),t("cancel")},a=()=>{const t=o.title?o.title():e.title,n=o.description?o.description():e.description;if(t||n)return r("div",{class:bi("header")},[t&&r("h2",{class:bi("title")},[t]),n&&r("span",{class:bi("description")},[n])])},i=e=>fi[e]?r("div",{class:bi("icon",[e])},[r(kt,{name:fi[e]||e},null)]):r("img",{src:e,class:bi("image-icon")},null),s=(e,o)=>{const{name:n,icon:l,className:a,description:s}=e;return r("div",{role:"button",tabindex:0,class:[bi("option"),a,Je],onClick:()=>((e,o)=>t("select",e,o))(e,o)},[i(l),n&&r("span",{class:bi("name")},[n]),s&&r("span",{class:bi("option-description")},[s])])},c=(e,t)=>r("div",{class:bi("options",{border:t})},[e.map(s)]),u=()=>{const{options:t}=e;return Array.isArray(t[0])?t.map(((e,t)=>c(e,0!==t))):c(t)},d=()=>{var t;const n=null!=(t=e.cancelText)?t:yi("cancel");if(o.cancel||n)return r("button",{type:"button",class:bi("cancel"),onClick:l},[o.cancel?o.cancel():n])};return()=>r(qt,g({class:bi(),position:"bottom","onUpdate:show":n},le(e,hi)),{default:()=>[a(),u(),d()]})}})),[xi,ki]=We("slider");const Ci=et(c({name:xi,props:{min:pe(0),max:pe(100),step:pe(1),range:Boolean,reverse:Boolean,disabled:Boolean,readonly:Boolean,vertical:Boolean,barHeight:se,buttonSize:se,activeColor:String,inactiveColor:String,modelValue:{type:[Number,Array],default:0}},emits:["change","dragEnd","dragStart","update:modelValue"],setup(t,{emit:n,slots:l}){let a,i,s;const c=o(),u=[o(),o()],p=o(),v=Dt(),m=d((()=>Number(t.max)-Number(t.min))),h=d((()=>{const e=t.vertical?"width":"height";return{background:t.inactiveColor,[e]:Be(t.barHeight)}})),f=e=>t.range&&Array.isArray(e),g=()=>{const{modelValue:e,min:o}=t;return f(e)?100*(e[1]-e[0])/m.value+"%":100*(e-Number(o))/m.value+"%"},b=d((()=>{const e={[t.vertical?"height":"width"]:g(),background:t.activeColor};p.value&&(e.transition="none");return e[t.vertical?t.reverse?"bottom":"top":t.reverse?"right":"left"]=(()=>{const{modelValue:e,min:o}=t;return f(e)?100*(e[0]-Number(o))/m.value+"%":"0%"})(),e})),y=o=>{const n=+t.min,l=+t.max,a=+t.step;o=Pe(o,n,l);return function(t,o){const n=e(10,10);return Math.round((t+o)*n)/n}(n,Math.round((o-n)/a)*a)},w=(e,o)=>{e=f(e)?(e=>{var o,n;const l=null!=(o=e[0])?o:Number(t.min),a=null!=(n=e[1])?n:Number(t.max);return l>a?[a,l]:[l,a]})(e).map(y):y(e),ae(e,t.modelValue)||n("update:modelValue",e),o&&!ae(e,s)&&n("change",e)},x=e=>{if(e.stopPropagation(),t.disabled||t.readonly)return;const{min:o,reverse:n,vertical:l,modelValue:a}=t,i=$(c),s=l?i.height:i.width,r=Number(o)+(l?n?i.bottom-e.clientY:e.clientY-i.top:n?i.right-e.clientX:e.clientX-i.left)/s*m.value;if(f(a)){const[e,t]=a;w(r<=(e+t)/2?[r,t]:[e,r],!0)}else w(r,!0)},k=e=>{if(t.disabled||t.readonly)return;"start"===p.value&&n("dragStart",e),xe(e,!0),v.move(e),p.value="dragging";const o=$(c);let l=(t.vertical?v.deltaY.value:v.deltaX.value)/(t.vertical?o.height:o.width)*m.value;if(t.reverse&&(l=-l),f(s)){const e=t.reverse?1-a:a;i[e]=s[e]+l}else i=s+l;w(i)},C=e=>{t.disabled||t.readonly||("dragging"===p.value&&(w(i,!0),n("dragEnd",e)),p.value="")},S=e=>{if("number"==typeof e){return ki("button-wrapper",["left","right"][e])}return ki("button-wrapper",t.reverse?"left":"right")},B=(e,o)=>{if("number"==typeof o){const t=l[0===o?"left-button":"right-button"];if(t)return t({value:e})}return l.button?l.button({value:e}):r("div",{class:ki("button"),style:ze(t.buttonSize)},null)},z=e=>{const o="number"==typeof e?t.modelValue[e]:t.modelValue;return r("div",{ref:u[null!=e?e:0],role:"slider",class:S(e),tabindex:t.disabled?void 0:0,"aria-valuemin":t.min,"aria-valuenow":o,"aria-valuemax":t.max,"aria-disabled":t.disabled||void 0,"aria-readonly":t.readonly||void 0,"aria-orientation":t.vertical?"vertical":"horizontal",onTouchstartPassive:o=>{"number"==typeof e&&(a=e),(e=>{t.disabled||t.readonly||(v.start(e),i=t.modelValue,s=f(i)?i.map(y):y(i),p.value="start")})(o)},onTouchend:C,onTouchcancel:C,onClick:we},[B(o,e)])};return w(t.modelValue),W((()=>t.modelValue)),u.forEach((e=>{H("touchmove",k,{target:e})})),()=>r("div",{ref:c,style:h.value,class:ki({vertical:t.vertical,disabled:t.disabled}),onClick:x},[r("div",{class:ki("bar"),style:b.value},[t.range?[z(0),z(1)]:z()])])}})),[Si,Bi]=We("tabbar"),zi={route:Boolean,fixed:re,border:re,zIndex:se,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:pe(0),safeAreaInsetBottom:{type:Boolean,default:null}},Ti=Symbol(Si);const Ii=et(c({name:Si,props:zi,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const l=o(),{linkChildren:a}=P(Ti),i=nt(l,Bi),s=()=>{var t;return null!=(t=e.safeAreaInsetBottom)?t:e.fixed},c=()=>{var t;const{fixed:o,zIndex:a,border:i}=e;return r("div",{ref:l,role:"tablist",style:Te(a),class:[Bi({fixed:o}),{[Ge]:i,"van-safe-area-bottom":s()}]},[null==(t=n.default)?void 0:t.call(n)])};return a({props:e,setActive:(o,n)=>{_e(e.beforeChange,{args:[o],done(){t("update:modelValue",o),t("change",o),n()}})}}),()=>e.fixed&&e.placeholder?i(c):c()}})),[Oi,Vi]=We("tabbar-item");const Ai=et(c({name:Oi,props:te({},ct,{dot:Boolean,icon:String,name:se,badge:se,badgeProps:Object,iconPrefix:String}),emits:["click"],setup(e,{emit:t,slots:o}){const n=dt(),l=u().proxy,{parent:a,index:i}=L(Ti);if(!a)return;const s=d((()=>{var t;const{route:o,modelValue:n}=a.props;if(o&&"$route"in l){const{$route:t}=l,{to:o}=e,n=K(o)?o:{path:o};return!!t.matched.find((e=>{const t="path"in n&&n.path===e.path,o="name"in n&&n.name===e.name;return t||o}))}return(null!=(t=e.name)?t:i.value)===n})),c=o=>{var l;s.value||a.setActive(null!=(l=e.name)?l:i.value,n),t("click",o)},p=()=>o.icon?o.icon({active:s.value}):e.icon?r(kt,{name:e.icon,classPrefix:e.iconPrefix},null):void 0;return()=>{var t;const{dot:n,badge:l}=e,{activeColor:i,inactiveColor:u}=a.props,d=s.value?i:u;return r("div",{role:"tab",class:Vi({active:s.value}),style:{color:d},tabindex:0,"aria-selected":s.value,onClick:c},[r(mt,g({dot:n,class:Vi("icon"),content:l},e.badgeProps),{default:p}),r("div",{class:Vi("text")},[null==(t=o.default)?void 0:t.call(o,{active:s.value})])])}}})),[$i,Pi,Li]=We("uploader");function Ei(e,t){return new Promise((o=>{if("file"===t)return void o();const n=new FileReader;n.onload=e=>{o(e.target.result)},"dataUrl"===t?n.readAsDataURL(e):"text"===t&&n.readAsText(e)}))}function Di(e,t){return ie(e).some((e=>!!e.file&&(G(t)?t(e.file):e.file.size>t)))}const Hi=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i;function Ni(e){return!!e.isImage||(e.file&&e.file.type?0===e.file.type.indexOf("image"):e.url?(t=e.url,Hi.test(t)):"string"==typeof e.content&&0===e.content.indexOf("data:image"));var t}var Ri=c({props:{name:se,item:ce(Object),index:Number,imageFit:String,lazyLoad:Boolean,deletable:Boolean,previewSize:[Number,String,Array],beforeDelete:Function},emits:["delete","preview"],setup(e,{emit:t,slots:o}){const n=()=>{const{status:t,message:o}=e.item;if("uploading"===t||"failed"===t){const e="failed"===t?r(kt,{name:"close",class:Pi("mask-icon")},null):r(Tt,{class:Pi("loading")},null),n=Z(o)&&""!==o;return r("div",{class:Pi("mask")},[e,n&&r("div",{class:Pi("mask-message")},[o])])}},l=o=>{const{name:n,item:l,index:a,beforeDelete:i}=e;o.stopPropagation(),_e(i,{args:[l,{name:n,index:a}],done:()=>t("delete")})},a=()=>t("preview"),i=()=>{if(e.deletable&&"uploading"!==e.item.status){const e=o["preview-delete"];return r("div",{role:"button",class:Pi("preview-delete",{shadow:!e}),tabindex:0,"aria-label":Li("delete"),onClick:l},[e?e():r(kt,{name:"cross",class:Pi("preview-delete-icon")},null)])}},s=()=>{if(o["preview-cover"]){const{index:t,item:n}=e;return r("div",{class:Pi("preview-cover")},[o["preview-cover"](te({index:t},n))])}},c=()=>{const{item:t,lazyLoad:o,imageFit:n,previewSize:l}=e;return Ni(t)?r(pl,{fit:n,src:t.content||t.url,class:Pi("preview-image"),width:Array.isArray(l)?l[0]:l,height:Array.isArray(l)?l[1]:l,lazyLoad:o,onClick:a},{default:s}):r("div",{class:Pi("file"),style:ze(e.previewSize)},[r(kt,{class:Pi("file-icon"),name:"description"},null),r("div",{class:[Pi("file-name"),"van-ellipsis"]},[t.file?t.file.name:t.url]),s()])};return()=>r("div",{class:Pi("preview")},[c(),n(),i()])}});const Mi=et(c({name:$i,props:{name:pe(""),accept:ve("image/*"),capture:String,multiple:Boolean,disabled:Boolean,readonly:Boolean,lazyLoad:Boolean,maxCount:pe(1/0),imageFit:ve("cover"),resultType:ve("dataUrl"),uploadIcon:ve("photograph"),uploadText:String,deletable:re,afterRead:Function,showUpload:re,modelValue:ue(),beforeRead:Function,beforeDelete:Function,previewSize:[Number,String,Array],previewImage:re,previewOptions:Object,previewFullImage:re,maxSize:{type:[Number,String,Function],default:1/0}},emits:["delete","oversize","clickUpload","closePreview","clickPreview","update:modelValue"],setup(e,{emit:t,slots:l}){const a=o(),i=[],s=(t=e.modelValue.length)=>({name:e.name,index:t}),c=()=>{a.value&&(a.value.value="")},u=o=>{if(c(),Di(o,e.maxSize)){if(!Array.isArray(o))return void t("oversize",o,s());{const n=function(e,t){const o=[],n=[];return e.forEach((e=>{Di(e,t)?n.push(e):o.push(e)})),{valid:o,invalid:n}}(o,e.maxSize);if(o=n.valid,t("oversize",n.invalid,s()),!o.length)return}}o=n(o),t("update:modelValue",[...e.modelValue,...ie(o)]),e.afterRead&&e.afterRead(o,s())},d=t=>{const{maxCount:o,modelValue:n,resultType:l}=e;if(Array.isArray(t)){const e=+o-n.length;t.length>e&&(t=t.slice(0,e)),Promise.all(t.map((e=>Ei(e,l)))).then((e=>{const o=t.map(((t,o)=>{const n={file:t,status:"",message:""};return e[o]&&(n.content=e[o]),n}));u(o)}))}else Ei(t,l).then((e=>{const o={file:t,status:"",message:""};e&&(o.content=e),u(o)}))},p=t=>{const{files:o}=t.target;if(e.disabled||!o||!o.length)return;const n=1===o.length?o[0]:[].slice.call(o);if(e.beforeRead){const t=e.beforeRead(n,s());if(!t)return void c();if(J(t))return void t.then((e=>{d(e||n)})).catch(c)}d(n)};let v;const h=()=>t("closePreview"),f=(o,n)=>{const a=["imageFit","deletable","previewSize","beforeDelete"],c=te(le(e,a),le(o,a,!0));return r(Ri,g({item:o,index:n,onClick:()=>t("clickPreview",o,s(n)),onDelete:()=>((o,n)=>{const l=e.modelValue.slice(0);l.splice(n,1),t("update:modelValue",l),t("delete",o,s(n))})(o,n),onPreview:()=>(t=>{if(e.previewFullImage){const o=e.modelValue.filter(Ni),n=o.map((e=>(e.file&&!e.url&&"failed"!==e.status&&(e.url=URL.createObjectURL(e.file),i.push(e.url)),e.url))).filter(Boolean);v=Aa(te({images:n,startPosition:o.indexOf(t),onClose:h},e.previewOptions))}})(o)},le(e,["name","lazyLoad"]),c),le(l,["preview-cover","preview-delete"]))},b=()=>{if(e.previewImage)return e.modelValue.map(f)},x=e=>t("clickUpload",e),k=()=>{if(e.modelValue.length>=e.maxCount)return;const t=e.readonly?null:r("input",{ref:a,type:"file",class:Pi("input"),accept:e.accept,capture:e.capture,multiple:e.multiple,disabled:e.disabled,onChange:p},null);return l.default?r("div",{class:Pi("input-wrapper"),onClick:x},[l.default(),t]):y(r("div",{class:Pi("upload",{readonly:e.readonly}),style:ze(e.previewSize),onClick:x},[r(kt,{name:e.uploadIcon,class:Pi("upload-icon")},null),e.uploadText&&r("span",{class:Pi("upload-text")},[e.uploadText]),t]),[[w,e.showUpload]])};return m((()=>{i.forEach((e=>URL.revokeObjectURL(e)))})),rt({chooseFile:()=>{a.value&&!e.disabled&&a.value.click()},closeImagePreview:()=>{v&&v.close()}}),W((()=>e.modelValue)),()=>r("div",{class:Pi()},[r("div",{class:Pi("wrapper",{disabled:e.disabled})},[b(),k()])])}}));class ji{constructor({el:e,src:t,error:o,loading:n,bindType:l,$parent:a,options:i,cors:s,elRenderer:r,imageCache:c}){this.el=e,this.src=t,this.error=o,this.loading=n,this.bindType=l,this.attempt=0,this.cors=s,this.naturalHeight=0,this.naturalWidth=0,this.options=i,this.$parent=a,this.elRenderer=r,this.imageCache=c,this.performanceData={loadStart:0,loadEnd:0},this.filter(),this.initState(),this.render("loading",!1)}initState(){"dataset"in this.el?this.el.dataset.src=this.src:this.el.setAttribute("data-src",this.src),this.state={loading:!1,error:!1,loaded:!1,rendered:!1}}record(e){this.performanceData[e]=Date.now()}update({src:e,loading:t,error:o}){const n=this.src;this.src=e,this.loading=t,this.error=o,this.filter(),n!==this.src&&(this.attempt=0,this.initState())}checkInView(){const e=$(this.el);return e.top<window.innerHeight*this.options.preLoad&&e.bottom>this.options.preLoadTop&&e.left<window.innerWidth*this.options.preLoad&&e.right>0}filter(){Object.keys(this.options.filter).forEach((e=>{this.options.filter[e](this,this.options)}))}renderLoading(e){this.state.loading=!0,ol({src:this.loading,cors:this.cors},(()=>{this.render("loading",!1),this.state.loading=!1,e()}),(()=>{e(),this.state.loading=!1}))}load(e=ee){if(this.attempt>this.options.attempt-1&&this.state.error)e();else if(!this.state.rendered||!this.state.loaded)return this.imageCache.has(this.src)?(this.state.loaded=!0,this.render("loaded",!0),this.state.rendered=!0,e()):void this.renderLoading((()=>{var t,o;this.attempt++,null==(o=(t=this.options.adapter).beforeLoad)||o.call(t,this,this.options),this.record("loadStart"),ol({src:this.src,cors:this.cors},(t=>{this.naturalHeight=t.naturalHeight,this.naturalWidth=t.naturalWidth,this.state.loaded=!0,this.state.error=!1,this.record("loadEnd"),this.render("loaded",!1),this.state.rendered=!0,this.imageCache.add(this.src),e()}),(e=>{this.options.silent,this.state.error=!0,this.state.loaded=!1,this.render("error",!1)}))}))}render(e,t){this.elRenderer(this,e,t)}performance(){let e="loading",t=0;return this.state.loaded&&(e="loaded",t=(this.performanceData.loadEnd-this.performanceData.loadStart)/1e3),this.state.error&&(e="error"),{src:this.src,state:e,time:t}}$destroy(){this.el=null,this.src=null,this.error=null,this.loading=null,this.bindType=null,this.attempt=0}}const Fi="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Wi=["scroll","wheel","mousewheel","resize","animationend","transitionend","touchmove"],Yi={rootMargin:"0px",threshold:0};var qi=e=>({props:{tag:{type:String,default:"div"}},emits:["show"],render(){return V(this.tag,this.show&&this.$slots.default?this.$slots.default():null)},data:()=>({el:null,state:{loaded:!1},show:!1}),mounted(){this.el=this.$el,e.addLazyBox(this),e.lazyLoadHandler()},beforeUnmount(){e.removeComponent(this)},methods:{checkInView(){const t=$(this.$el);return Y&&t.top<window.innerHeight*e.options.preLoad&&t.bottom>0&&t.left<window.innerWidth*e.options.preLoad&&t.right>0},load(){this.show=!0,this.state.loaded=!0,this.$emit("show",this)},destroy(){return this.$destroy}}});const Ui={selector:"img"};class Xi{constructor({el:e,binding:t,vnode:o,lazy:n}){this.el=null,this.vnode=o,this.binding=t,this.options={},this.lazy=n,this.queue=[],this.update({el:e,binding:t})}update({el:e,binding:t}){this.el=e,this.options=Object.assign({},Ui,t.value);this.getImgs().forEach((e=>{this.lazy.add(e,Object.assign({},this.binding,{value:{src:"dataset"in e?e.dataset.src:e.getAttribute("data-src"),error:("dataset"in e?e.dataset.error:e.getAttribute("data-error"))||this.options.error,loading:("dataset"in e?e.dataset.loading:e.getAttribute("data-loading"))||this.options.loading}}),this.vnode)}))}getImgs(){return Array.from(this.el.querySelectorAll(this.options.selector))}clear(){this.getImgs().forEach((e=>this.lazy.remove(e))),this.vnode=null,this.binding=null,this.lazy=null}}class Zi{constructor({lazy:e}){this.lazy=e,this.queue=[]}bind(e,t,o){const n=new Xi({el:e,binding:t,vnode:o,lazy:this.lazy});this.queue.push(n)}update(e,t,o){const n=this.queue.find((t=>t.el===e));n&&n.update({el:e,binding:t,vnode:o})}unbind(e){const t=this.queue.find((t=>t.el===e));t&&(t.clear(),Gn(this.queue,t))}}var Gi=e=>({props:{src:[String,Object],tag:{type:String,default:"img"}},render(){var e,t;return V(this.tag,{src:this.renderSrc},null==(t=(e=this.$slots).default)?void 0:t.call(e))},data:()=>({el:null,options:{src:"",error:"",loading:"",attempt:e.options.attempt},state:{loaded:!1,error:!1,attempt:0},renderSrc:""}),watch:{src(){this.init(),e.addLazyBox(this),e.lazyLoadHandler()}},created(){this.init(),this.renderSrc=this.options.loading},mounted(){this.el=this.$el,e.addLazyBox(this),e.lazyLoadHandler()},beforeUnmount(){e.removeComponent(this)},methods:{init(){const{src:t,loading:o,error:n}=e.valueFormatter(this.src);this.state.loaded=!1,this.options.src=t,this.options.error=n,this.options.loading=o,this.renderSrc=this.options.loading},checkInView(){const t=$(this.$el);return t.top<window.innerHeight*e.options.preLoad&&t.bottom>0&&t.left<window.innerWidth*e.options.preLoad&&t.right>0},load(e=ee){if(this.state.attempt>this.options.attempt-1&&this.state.error)return void e();const{src:t}=this.options;ol({src:t},(({src:e})=>{this.renderSrc=e,this.state.loaded=!0}),(()=>{this.state.attempt++,this.renderSrc=this.options.error,this.state.error=!0}))}}});const Ki={install(e,t={}){const o=class{constructor({preLoad:e,error:t,throttleWait:o,preLoadTop:n,dispatchEvent:l,loading:a,attempt:i,silent:s=!0,scale:r,listenEvents:c,filter:u,adapter:d,observer:p,observerOptions:v}){this.mode=Xn,this.listeners=[],this.targetIndex=0,this.targets=[],this.options={silent:s,dispatchEvent:!!l,throttleWait:o||200,preLoad:e||1.3,preLoadTop:n||0,error:t||Fi,loading:a||Fi,attempt:i||3,scale:r||Jn(r),ListenEvents:c||Wi,supportWebp:Qn(),filter:u||{},adapter:d||{},observer:!!p,observerOptions:v||Yi},this.initEvent(),this.imageCache=new nl({max:200}),this.lazyLoadHandler=_n(this.lazyLoadHandler.bind(this),this.options.throttleWait),this.setMode(this.options.observer?Zn:Xn)}config(e={}){Object.assign(this.options,e)}performance(){return this.listeners.map((e=>e.performance()))}addLazyBox(e){this.listeners.push(e),Y&&(this.addListenerTarget(window),this.observer&&this.observer.observe(e.el),e.$el&&e.$el.parentNode&&this.addListenerTarget(e.$el.parentNode))}add(e,t,o){if(this.listeners.some((t=>t.el===e)))return this.update(e,t),s(this.lazyLoadHandler);const n=this.valueFormatter(t.value);let{src:l}=n;s((()=>{l=Kn(e,this.options.scale)||l,this.observer&&this.observer.observe(e);const a=Object.keys(t.modifiers)[0];let i;a&&(i=o.context.$refs[a],i=i?i.$el||i:document.getElementById(a)),i||(i=D(e));const r=new ji({bindType:t.arg,$parent:i,el:e,src:l,loading:n.loading,error:n.error,cors:n.cors,elRenderer:this.elRenderer.bind(this),options:this.options,imageCache:this.imageCache});this.listeners.push(r),Y&&(this.addListenerTarget(window),this.addListenerTarget(i)),this.lazyLoadHandler(),s((()=>this.lazyLoadHandler()))}))}update(e,t,o){const n=this.valueFormatter(t.value);let{src:l}=n;l=Kn(e,this.options.scale)||l;const a=this.listeners.find((t=>t.el===e));a?a.update({src:l,error:n.error,loading:n.loading}):this.add(e,t,o),this.observer&&(this.observer.unobserve(e),this.observer.observe(e)),this.lazyLoadHandler(),s((()=>this.lazyLoadHandler()))}remove(e){if(!e)return;this.observer&&this.observer.unobserve(e);const t=this.listeners.find((t=>t.el===e));t&&(this.removeListenerTarget(t.$parent),this.removeListenerTarget(window),Gn(this.listeners,t),t.$destroy())}removeComponent(e){e&&(Gn(this.listeners,e),this.observer&&this.observer.unobserve(e.el),e.$parent&&e.$el.parentNode&&this.removeListenerTarget(e.$el.parentNode),this.removeListenerTarget(window))}setMode(e){Un||e!==Zn||(e=Xn),this.mode=e,e===Xn?(this.observer&&(this.listeners.forEach((e=>{this.observer.unobserve(e.el)})),this.observer=null),this.targets.forEach((e=>{this.initListen(e.el,!0)}))):(this.targets.forEach((e=>{this.initListen(e.el,!1)})),this.initIntersectionObserver())}addListenerTarget(e){if(!e)return;let t=this.targets.find((t=>t.el===e));return t?t.childrenCount++:(t={el:e,id:++this.targetIndex,childrenCount:1,listened:!0},this.mode===Xn&&this.initListen(t.el,!0),this.targets.push(t)),this.targetIndex}removeListenerTarget(e){this.targets.forEach(((t,o)=>{t.el===e&&(t.childrenCount--,t.childrenCount||(this.initListen(t.el,!1),this.targets.splice(o,1),t=null))}))}initListen(e,t){this.options.ListenEvents.forEach((o=>(t?el:tl)(e,o,this.lazyLoadHandler)))}initEvent(){this.Event={listeners:{loading:[],loaded:[],error:[]}},this.$on=(e,t)=>{this.Event.listeners[e]||(this.Event.listeners[e]=[]),this.Event.listeners[e].push(t)},this.$once=(e,t)=>{const o=(...n)=>{this.$off(e,o),t.apply(this,n)};this.$on(e,o)},this.$off=(e,t)=>{if(t)Gn(this.Event.listeners[e],t);else{if(!this.Event.listeners[e])return;this.Event.listeners[e].length=0}},this.$emit=(e,t,o)=>{this.Event.listeners[e]&&this.Event.listeners[e].forEach((e=>e(t,o)))}}lazyLoadHandler(){const e=[];this.listeners.forEach((t=>{t.el&&t.el.parentNode||e.push(t),t.checkInView()&&t.load()})),e.forEach((e=>{Gn(this.listeners,e),e.$destroy()}))}initIntersectionObserver(){Un&&(this.observer=new IntersectionObserver(this.observerHandler.bind(this),this.options.observerOptions),this.listeners.length&&this.listeners.forEach((e=>{this.observer.observe(e.el)})))}observerHandler(e){e.forEach((e=>{e.isIntersecting&&this.listeners.forEach((t=>{if(t.el===e.target){if(t.state.loaded)return this.observer.unobserve(t.el);t.load()}}))}))}elRenderer(e,t,o){if(!e.el)return;const{el:n,bindType:l}=e;let a;switch(t){case"loading":a=e.loading;break;case"error":a=e.error;break;default:({src:a}=e)}if(l?n.style[l]='url("'+a+'")':n.getAttribute("src")!==a&&n.setAttribute("src",a),n.setAttribute("lazy",t),this.$emit(t,e,o),this.options.adapter[t]&&this.options.adapter[t](e,this.options),this.options.dispatchEvent){const o=new CustomEvent(t,{detail:e});n.dispatchEvent(o)}}valueFormatter(e){let t=e,{loading:o,error:n}=this.options;return K(e)&&(({src:t}=e),o=e.loading||this.options.loading,n=e.error||this.options.error),{src:t,loading:o,error:n}}},n=new o(t),l=new Zi({lazy:n});e.config.globalProperties.$Lazyload=n,t.lazyComponent&&e.component("LazyComponent",qi(n)),t.lazyImage&&e.component("LazyImage",Gi(n)),e.directive("lazy",{beforeMount:n.add.bind(n),updated:n.update.bind(n),unmounted:n.remove.bind(n)}),e.directive("lazy-container",{beforeMount:l.bind.bind(l),updated:l.update.bind(l),unmounted:l.unbind.bind(l)})}};export{va as A,il as B,ql as C,Zl as D,mi as E,dn as F,xa as G,hl as H,pl as I,Ea as J,ci as K,Ki as L,Xo as M,ja as N,Mn as O,li as P,wi as Q,ui as R,Ci as S,Ai as T,Mi as U,kl as V,Kt as W,Tn as X,$n as Y,la as Z,On as a,Ii as b,In as c,Jo as d,ba as e,Aa as f,Tt as g,Sn as h,Na as i,Vt as j,en as k,jo as l,Fo as m,Dl as n,qt as o,kt as p,zn as q,Ol as r,Ga as s,ei as t,qn as u,Hn as v,Yl as w,Ml as x,yl as y,pa as z};
