import{_ as e}from"./plugin-vue_export-helper-893979e1.js";import{m as t,a,r as l,b as i,aI as s,ak as m,al as u,F as r,aN as o,a5 as c,a2 as n,u as d,_ as p,l as v}from"./@vue-0da0c2e3.js";import{d as b}from"./vant-182c6d73.js";import{_ as f}from"./index-06373c59.js";import"./@vant-b0725c78.js";import"./vue-router-1cbad9b8.js";const S={class:"time-picker"},h={class:"time-wraper"},k={class:"time-text"},g={class:"time-full"},x=["data-val","data-idx","onClick"],y=t({name:"TimePicker"});var _=e(Object.assign(y,{props:{modelValue:{type:Array,default:()=>[]},minHour:{type:[Number,String],default:"0"},maxHour:{type:[Number,String],default:"23"},visibleNum:{type:[Number,String],default:"8"},timeStep:{type:[Number,String],default:"30"},readonly:Boolean},emits:["select"],setup(e,{emit:t}){const p=e;let v=a([]),b=a([]),f=a([]);const y=l([]),_=e=>{const t=[];for(let a=1;a<=60/p.timeStep;a++)t.push({value:60*e+p.timeStep*a,selected:!1,disabled:!1});return t};i((()=>{N()}));const j=e=>Math.floor(e/60)>=10?Math.floor(e/60):"0"+Math.floor(e/60),N=()=>{const e=[];for(let t=+p.minHour;t<=+p.maxHour;t++){const a={time:"",blocks:_(t)};a.time=60*t,e.push(a)}y.value=e},H=e=>{const[a,l]=f.sort(((e,t)=>e-t));b=((e,t)=>{let a="",l="",i="",s="",m="",u="";return e&&t?(i=j(e-p.timeStep),a=j(t),s=(e-p.timeStep)%60==0?"00":60*((e-p.timeStep)/60-i),l=t%60==0?"00":60*(t/60-a),m=i+":"+s,u=a+":"+l):(i=j(e-p.timeStep),a=j(e),s=(e-p.timeStep)%60==0?"00":60*((e-p.timeStep)/60-i),l=e%60==0?"00":60*(e/60-a),m=i+":"+s,u=a+":"+l),[m,u]})(a,l),y.value.forEach((e=>{e.blocks.forEach((e=>{a&&(e.value===a?e.selected=!0:e.selected=!1),a&&l&&e.value>=a&&e.value<=l&&(e.selected=!0)}))})),t("select",b)};return(t,a)=>(s(),m("div",S,[u("div",h,[(s(!0),m(r,null,o(d(y),((t,a)=>(s(),m("div",{key:t.time,class:"time-bar"},[u("span",k,c(j(t.time)+":00"),1),u("div",g,[(s(!0),m(r,null,o(t.blocks,((l,i)=>(s(),m("div",{key:l.value,"data-val":l.value,"data-idx":60/e.timeStep*a+i,class:n(["time-block",{"time-block--selected":l.selected,"time-block--disabled":l.disabled}]),onClick:e=>((e,t,a)=>{0===f.length||f.length<2?f.includes(t.value)||(f.push(t.value),v.push(e)):(f=[t.value],v=[e]),H()})(t,l)},null,10,x)))),128))])])))),128))])]))}}),[["__scopeId","data-v-44732206"]]);const j={class:"time-range-picker"},N={__name:"time-range-picker",setup(e){const t=a({time3:"",time1:"",time2:""}),{time1:l,time2:i,time3:u}=p(t),r=(e,t)=>{const a=e[0]+" ~ "+e[1];"time1"===t&&(l.value=a),"time2"===t&&(i.value=a),"time3"===t&&(u.value=a)};return(e,t)=>{const a=f,o=b,c=_;return s(),m("div",j,[v(a),v(o,{title:"完整时间",value:d(l)},null,8,["value"]),v(c,{onSelect:t[0]||(t[0]=e=>r(e,"time1"))}),v(o,{title:"自定义时间范围",value:d(i)},null,8,["value"]),v(c,{"min-hour":"9","max-hour":"18",onSelect:t[1]||(t[1]=e=>r(e,"time2"))}),v(o,{title:"自定义时间间隔",value:d(u)},null,8,["value"]),v(c,{"min-hour":"11","max-hour":"22","time-step":"15",onSelect:t[2]||(t[2]=e=>r(e,"time3"))}),v(o,{title:"该组件为自研组件，后续提供更灵活定制选项~"})])}}};export{N as default};
