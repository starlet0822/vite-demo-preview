import{D as t}from"./vant-f142fa12.js";import{f as e}from"./datetime-2936a4a4.js";import{D as a,k as m,h as o,a7 as n,o as r,ao as l,H as i,u,s}from"./@vue-563ebafd.js";const f=a({name:"DatePicker"}),D=Object.assign(f,{props:{value:{type:[Date,String],default:()=>new Date},columnsType:{type:Array,default:()=>["year","month","day"]},format:{type:String,default:""},title:{type:String,default:""},notFormat:{type:Boolean,default:!1},minDate:{type:[Date],default:()=>new Date((new Date).getFullYear()-3,0,1)},maxDate:{type:[Date],default:()=>new Date((new Date).getFullYear()-3,11,31)}},emits:["input","change","confirm","cancel"],setup(a,{emit:f}){const D=a,d=new Map([["datetime",{title:"选择完整时间",format:"YYYY-MM-DD HH:mm"}],["date",{title:"选择年月日",format:"YYYY-MM-DD"}],["time",{title:"选择时间",format:"HH:mm"}],["year-month",{title:"选择年月",format:"YYYY-MM"}],["month-day",{title:"选择月日",format:"MM-DD"}],["datehour",{title:"选择年月日小时",format:"YYYY-MM-DD HH"}]]),c=m({currentDate:o({get:()=>D.value,set(t){f("input",t)}}),getTitle:o((()=>{var t;return D.title||(null==(t=d.get(D.columnsType))?void 0:t.title)||"请选择"})),getFormat:o((()=>{var t;return D.format||(null==(t=d.get(D.columnsType))?void 0:t.format)||"YYYY-MM-DD"}))}),{currentDate:p,getTitle:Y,getFormat:y}=n(c),g=(t,e)=>("year"===t&&(e.text+="年"),"month"===t&&(e.text+="月"),"day"===t&&(e.text+="日"),e),M=t=>{const a=t.selectedValues.join("-");let m="";m=D.notFormat||"time"===D.columnsType?a:e(a,c.getFormat),f("change",m),f("confirm",m),h()},h=()=>{f("cancel",!1)};return(e,m)=>{const o=t;return r(),l(o,i({modelValue:u(p),"onUpdate:modelValue":m[0]||(m[0]=t=>s(p)?p.value=t:null),"columns-type":a.columnsType,title:u(Y),"min-date":a.minDate,"max-date":a.maxDate,format:u(y),formatter:g,"item-height":44},e.$attrs,{onConfirm:M,onCancel:h}),null,16,["modelValue","columns-type","title","min-date","max-date","format"])}}});export{D as _};
