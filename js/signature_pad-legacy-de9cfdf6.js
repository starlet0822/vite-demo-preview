!function(){function t(t,n){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,n){if(!t)return;if("string"==typeof t)return e(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return e(t,n)}(t))||n&&t&&"number"==typeof t.length){i&&(t=i);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){c=!0,a=t},f:function(){try{s||null==i.return||i.return()}finally{if(c)throw a}}}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t,e){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},i(t,e)}function o(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=a(t);if(e){var o=a(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return r(this,n)}}function r(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function a(t){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},a(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(r=o.key,a=void 0,a=function(t,e){if("object"!==n(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,e||"default");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===n(a)?a:String(a)),o)}var r,a}function u(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}System.register([],(function(e){"use strict";return{execute:function(){
/*!
             * Signature Pad v4.1.5 | https://github.com/szimek/signature_pad
             * (c) 2023 Szymon Nowak | Released under the MIT license
             */
var r=function(){function t(e,n,i,o){if(s(this,t),isNaN(e)||isNaN(n))throw new Error("Point is invalid: (".concat(e,", ").concat(n,")"));this.x=+e,this.y=+n,this.pressure=i||0,this.time=o||Date.now()}return u(t,[{key:"distanceTo",value:function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))}},{key:"equals",value:function(t){return this.x===t.x&&this.y===t.y&&this.pressure===t.pressure&&this.time===t.time}},{key:"velocityFrom",value:function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):0}}]),t}(),a=function(){function t(e,n,i,o,r,a){s(this,t),this.startPoint=e,this.control2=n,this.control1=i,this.endPoint=o,this.startWidth=r,this.endWidth=a}return u(t,[{key:"length",value:function(){for(var t,e,n=0,i=0;i<=10;i+=1){var o=i/10,r=this.point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),a=this.point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(i>0){var s=r-t,c=a-e;n+=Math.sqrt(s*s+c*c)}t=r,e=a}return n}},{key:"point",value:function(t,e,n,i,o){return e*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*i*(1-t)*t*t+o*t*t*t}}],[{key:"fromPoints",value:function(e,n){var i=this.calculateControlPoints(e[0],e[1],e[2]).c2,o=this.calculateControlPoints(e[1],e[2],e[3]).c1;return new t(e[1],i,o,e[2],n.start,n.end)}},{key:"calculateControlPoints",value:function(t,e,n){var i=t.x-e.x,o=t.y-e.y,a=e.x-n.x,s=e.y-n.y,c=(t.x+e.x)/2,u=(t.y+e.y)/2,h=(e.x+n.x)/2,l=(e.y+n.y)/2,d=Math.sqrt(i*i+o*o),v=Math.sqrt(a*a+s*s),f=v/(d+v),y=h+(c-h)*f,p=l+(u-l)*f,m=e.x-y,_=e.y-p;return{c1:new r(c+m,u+_),c2:new r(h+m,l+_)}}}]),t}();function c(t){var e,n,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,r=0,a=null,s=function(){r=Date.now(),a=null,e=t.apply(n,i),a||(n=null,i=[])};return function(){var c=Date.now(),u=o-(c-r);n=this;for(var h=arguments.length,l=new Array(h),d=0;d<h;d++)l[d]=arguments[d];return i=l,u<=0||u>o?(a&&(clearTimeout(a),a=null),r=c,e=t.apply(n,i),a||(n=null,i=[])):a||(a=window.setTimeout(s,u)),e}}var h=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i(t,e)}(l,e);var h=o(l);function l(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s(this,l),(e=h.call(this)).canvas=t,e._drawningStroke=!1,e._isEmpty=!0,e._lastPoints=[],e._data=[],e._lastVelocity=0,e._lastWidth=0,e._handleMouseDown=function(t){1===t.buttons&&(e._drawningStroke=!0,e._strokeBegin(t))},e._handleMouseMove=function(t){e._drawningStroke&&e._strokeMoveUpdate(t)},e._handleMouseUp=function(t){1===t.buttons&&e._drawningStroke&&(e._drawningStroke=!1,e._strokeEnd(t))},e._handleTouchStart=function(t){if(t.cancelable&&t.preventDefault(),1===t.targetTouches.length){var n=t.changedTouches[0];e._strokeBegin(n)}},e._handleTouchMove=function(t){t.cancelable&&t.preventDefault();var n=t.targetTouches[0];e._strokeMoveUpdate(n)},e._handleTouchEnd=function(t){if(t.target===e.canvas){t.cancelable&&t.preventDefault();var n=t.changedTouches[0];e._strokeEnd(n)}},e._handlePointerStart=function(t){e._drawningStroke=!0,t.preventDefault(),e._strokeBegin(t)},e._handlePointerMove=function(t){e._drawningStroke&&(t.preventDefault(),e._strokeMoveUpdate(t))},e._handlePointerEnd=function(t){e._drawningStroke&&(t.preventDefault(),e._drawningStroke=!1,e._strokeEnd(t))},e.velocityFilterWeight=n.velocityFilterWeight||.7,e.minWidth=n.minWidth||.5,e.maxWidth=n.maxWidth||2.5,e.throttle="throttle"in n?n.throttle:16,e.minDistance="minDistance"in n?n.minDistance:5,e.dotSize=n.dotSize||0,e.penColor=n.penColor||"black",e.backgroundColor=n.backgroundColor||"rgba(0,0,0,0)",e._strokeMoveUpdate=e.throttle?c(l.prototype._strokeUpdate,e.throttle):l.prototype._strokeUpdate,e._ctx=t.getContext("2d"),e.clear(),e.on(),e}return u(l,[{key:"clear",value:function(){var t=this._ctx,e=this.canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._data=[],this._reset(this._getPointGroupOptions()),this._isEmpty=!0}},{key:"fromDataURL",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(i,o){var r=new Image,a=n.ratio||window.devicePixelRatio||1,s=n.width||e.canvas.width/a,c=n.height||e.canvas.height/a,u=n.xOffset||0,h=n.yOffset||0;e._reset(e._getPointGroupOptions()),r.onload=function(){e._ctx.drawImage(r,u,h,s,c),i()},r.onerror=function(t){o(t)},r.crossOrigin="anonymous",r.src=t,e._isEmpty=!1}))}},{key:"toDataURL",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image/png",e=arguments.length>1?arguments[1]:void 0;return"image/svg+xml"===t?("object"!==n(e)&&(e=void 0),"data:image/svg+xml;base64,".concat(btoa(this.toSVG(e)))):("number"!=typeof e&&(e=void 0),this.canvas.toDataURL(t,e))}},{key:"on",value:function(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",this.canvas.style.userSelect="none";var t=/Macintosh/.test(navigator.userAgent)&&"ontouchstart"in document;window.PointerEvent&&!t?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}},{key:"off",value:function(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.style.userSelect="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerStart),this.canvas.removeEventListener("pointermove",this._handlePointerMove),this.canvas.ownerDocument.removeEventListener("pointerup",this._handlePointerEnd),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),this.canvas.ownerDocument.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}},{key:"isEmpty",value:function(){return this._isEmpty}},{key:"fromData",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.clear,i=void 0===n||n;i&&this.clear(),this._fromData(t,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=this._data.concat(t)}},{key:"toData",value:function(){return this._data}},{key:"_getPointGroupOptions",value:function(t){return{penColor:t&&"penColor"in t?t.penColor:this.penColor,dotSize:t&&"dotSize"in t?t.dotSize:this.dotSize,minWidth:t&&"minWidth"in t?t.minWidth:this.minWidth,maxWidth:t&&"maxWidth"in t?t.maxWidth:this.maxWidth,velocityFilterWeight:t&&"velocityFilterWeight"in t?t.velocityFilterWeight:this.velocityFilterWeight}}},{key:"_strokeBegin",value:function(t){this.dispatchEvent(new CustomEvent("beginStroke",{detail:t}));var e=this._getPointGroupOptions(),n=Object.assign(Object.assign({},e),{points:[]});this._data.push(n),this._reset(e),this._strokeUpdate(t)}},{key:"_strokeUpdate",value:function(t){if(0!==this._data.length){this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:t}));var e=t.clientX,n=t.clientY,i=void 0!==t.pressure?t.pressure:void 0!==t.force?t.force:0,o=this._createPoint(e,n,i),r=this._data[this._data.length-1],a=r.points,s=a.length>0&&a[a.length-1],c=!!s&&o.distanceTo(s)<=this.minDistance,u=this._getPointGroupOptions(r);if(!s||!s||!c){var h=this._addPoint(o,u);s?h&&this._drawCurve(h,u):this._drawDot(o,u),a.push({time:o.time,x:o.x,y:o.y,pressure:o.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:t}))}else this._strokeBegin(t)}},{key:"_strokeEnd",value:function(t){this._strokeUpdate(t),this.dispatchEvent(new CustomEvent("endStroke",{detail:t}))}},{key:"_handlePointerEvents",value:function(){this._drawningStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerStart),this.canvas.addEventListener("pointermove",this._handlePointerMove),this.canvas.ownerDocument.addEventListener("pointerup",this._handlePointerEnd)}},{key:"_handleMouseEvents",value:function(){this._drawningStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),this.canvas.ownerDocument.addEventListener("mouseup",this._handleMouseUp)}},{key:"_handleTouchEvents",value:function(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}},{key:"_reset",value:function(t){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(t.minWidth+t.maxWidth)/2,this._ctx.fillStyle=t.penColor}},{key:"_createPoint",value:function(t,e,n){var i=this.canvas.getBoundingClientRect();return new r(t-i.left,e-i.top,n,(new Date).getTime())}},{key:"_addPoint",value:function(t,e){var n=this._lastPoints;if(n.push(t),n.length>2){3===n.length&&n.unshift(n[0]);var i=this._calculateCurveWidths(n[1],n[2],e),o=a.fromPoints(n,i);return n.shift(),o}return null}},{key:"_calculateCurveWidths",value:function(t,e,n){var i=n.velocityFilterWeight*e.velocityFrom(t)+(1-n.velocityFilterWeight)*this._lastVelocity,o=this._strokeWidth(i,n),r={end:o,start:this._lastWidth};return this._lastVelocity=i,this._lastWidth=o,r}},{key:"_strokeWidth",value:function(t,e){return Math.max(e.maxWidth/(t+1),e.minWidth)}},{key:"_drawCurveSegment",value:function(t,e,n){var i=this._ctx;i.moveTo(t,e),i.arc(t,e,n,0,2*Math.PI,!1),this._isEmpty=!1}},{key:"_drawCurve",value:function(t,e){var n=this._ctx,i=t.endWidth-t.startWidth,o=2*Math.ceil(t.length());n.beginPath(),n.fillStyle=e.penColor;for(var r=0;r<o;r+=1){var a=r/o,s=a*a,c=s*a,u=1-a,h=u*u,l=h*u,d=l*t.startPoint.x;d+=3*h*a*t.control1.x,d+=3*u*s*t.control2.x,d+=c*t.endPoint.x;var v=l*t.startPoint.y;v+=3*h*a*t.control1.y,v+=3*u*s*t.control2.y,v+=c*t.endPoint.y;var f=Math.min(t.startWidth+c*i,e.maxWidth);this._drawCurveSegment(d,v,f)}n.closePath(),n.fill()}},{key:"_drawDot",value:function(t,e){var n=this._ctx,i=e.dotSize>0?e.dotSize:(e.minWidth+e.maxWidth)/2;n.beginPath(),this._drawCurveSegment(t.x,t.y,i),n.closePath(),n.fillStyle=e.penColor,n.fill()}},{key:"_fromData",value:function(e,n,i){var o,a=t(e);try{for(a.s();!(o=a.n()).done;){var s=o.value,c=s.points,u=this._getPointGroupOptions(s);if(c.length>1)for(var h=0;h<c.length;h+=1){var l=c[h],d=new r(l.x,l.y,l.pressure,l.time);0===h&&this._reset(u);var v=this._addPoint(d,u);v&&n(v,u)}else this._reset(u),i(c[0],u)}}catch(f){a.e(f)}finally{a.f()}}},{key:"toSVG",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.includeBackgroundColor,n=void 0!==e&&e,i=this._data,o=Math.max(window.devicePixelRatio||1,1),r=0,a=0,s=this.canvas.width/o,c=this.canvas.height/o,u=document.createElementNS("http://www.w3.org/2000/svg","svg");if(u.setAttribute("xmlns","http://www.w3.org/2000/svg"),u.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),u.setAttribute("viewBox","".concat(r," ").concat(a," ").concat(s," ").concat(c)),u.setAttribute("width",s.toString()),u.setAttribute("height",c.toString()),n&&this.backgroundColor){var h=document.createElement("rect");h.setAttribute("width","100%"),h.setAttribute("height","100%"),h.setAttribute("fill",this.backgroundColor),u.appendChild(h)}return this._fromData(i,(function(t,e){var n=e.penColor,i=document.createElement("path");if(!(isNaN(t.control1.x)||isNaN(t.control1.y)||isNaN(t.control2.x)||isNaN(t.control2.y))){var o="M ".concat(t.startPoint.x.toFixed(3),",").concat(t.startPoint.y.toFixed(3)," ")+"C ".concat(t.control1.x.toFixed(3),",").concat(t.control1.y.toFixed(3)," ")+"".concat(t.control2.x.toFixed(3),",").concat(t.control2.y.toFixed(3)," ")+"".concat(t.endPoint.x.toFixed(3),",").concat(t.endPoint.y.toFixed(3));i.setAttribute("d",o),i.setAttribute("stroke-width",(2.25*t.endWidth).toFixed(3)),i.setAttribute("stroke",n),i.setAttribute("fill","none"),i.setAttribute("stroke-linecap","round"),u.appendChild(i)}}),(function(t,e){var n=e.penColor,i=e.dotSize,o=e.minWidth,r=e.maxWidth,a=document.createElement("circle"),s=i>0?i:(o+r)/2;a.setAttribute("r",s.toString()),a.setAttribute("cx",t.x.toString()),a.setAttribute("cy",t.y.toString()),a.setAttribute("fill",n),u.appendChild(a)})),u.outerHTML}}]),l}(function(){function t(){s(this,t);try{this._et=new EventTarget}catch(e){this._et=document}}return u(t,[{key:"addEventListener",value:function(t,e,n){this._et.addEventListener(t,e,n)}},{key:"dispatchEvent",value:function(t){return this._et.dispatchEvent(t)}},{key:"removeEventListener",value:function(t,e,n){this._et.removeEventListener(t,e,n)}}]),t}());e("S",h)}}}))}();
