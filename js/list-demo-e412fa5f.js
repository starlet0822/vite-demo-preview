import{H as e,J as a,K as s,B as t,h as o}from"./vant-56d7d53c.js";import{m as l,r as i,b as r,n,a as d,ak as u,al as c,l as m,b7 as p,u as f,f as v,aj as b,aI as j,F as h,aN as g,ai as _}from"./@vue-0da0c2e3.js";import{_ as y}from"./index-ff6bad57.js";import{_ as x}from"./index-d91669f1.js";import{_ as k}from"./plugin-vue_export-helper-893979e1.js";import"./@vant-b0725c78.js";import"./index-d70cecb9.js";/* empty css                      */import"./amfe-flexible-385c80ea.js";import"./js-cookie-aaf6027b.js";import"./vue-router-1cbad9b8.js";import"./vuex-fdaeb4c6.js";import"./lodash-es-0ddda1ab.js";import"./axios-0cd4f164.js";import"./qs-efaa5365.js";import"./side-channel-ebdfdc6e.js";import"./get-intrinsic-8aab7bd3.js";import"./has-symbols-1f359e75.js";import"./function-bind-c930bb92.js";import"./has-03e8e28c.js";import"./call-bind-b7e23f7e.js";import"./object-inspect-af06f273.js";import"./@antv-74afab59.js";import"./tslib-546db90a.js";import"./fecha-2b185e5a.js";import"./nprogress-4e4fc296.js";import"./vue3-hash-calendar-e234247e.js";import"./hammerjs-ed6f6a9e.js";l({name:"ListTotal"});const w={class:"layout__page"},L={class:"layout__header"},R={class:"layout__body"},S=l({name:"ListDemo"});var T=k(Object.assign(S,{setup(l){const k=i(null);r((()=>{return e=this,a=null,s=function*(){yield n(),console.log("backTopRef",k.value)},new Promise(((t,o)=>{var l=e=>{try{r(s.next(e))}catch(a){o(a)}},i=e=>{try{r(s.throw(e))}catch(a){o(a)}},r=e=>e.done?t(e.value):Promise.resolve(e.value).then(l,i);r((s=s.apply(e,a)).next())}));var e,a,s})),i(0);const S=i([]),T=i([]);d({status:"-1"});const V=i(!1),F=i(!1),I=i(!1),J=()=>{setTimeout((()=>{I.value&&(T.value=S.value=[],I.value=!1);for(let e=1;e<=10;e++){const a={title:"商品"+e,tag:e%2==0?"上架":"下架",status:e%2==0?"0":"1",price:(2*e).toFixed(2),desc:e%2==0?"我是上架的宝贝":"我是下架的宝贝",thumb:"https://fastly.jsdelivr.net/npm/@vant/assets/ipad.jpeg"};T.value.push(a),S.value.push(a)}V.value=!1,S.value.length>=50&&(F.value=!0)}),1e3)};J();const N=()=>{F.value=!1,V.value=!0,J()},O=e=>{if(console.log("handleSearch",e),""!==e.trim()){const a=new RegExp(e,"gi"),s=T.value.filter((e=>a.test(e.title)));S.value=s}else S.value=T.value},P=e=>{o({message:`筛选参数：${JSON.stringify(e)}`})};return(o,l)=>{const i=x,r=y,n=e,d=a,k=s,T=t;return j(),u("div",w,[c("div",L,[m(i),m(r,{placeholder:"搜索商品",onSearch:O,onConfirm:P})]),c("div",R,[m(k,{modelValue:f(I),"onUpdate:modelValue":l[1]||(l[1]=e=>v(I)?I.value=e:null),onRefresh:N},{default:p((()=>[m(d,{loading:f(V),"onUpdate:loading":l[0]||(l[0]=e=>v(V)?V.value=e:null),finished:f(F),"finished-text":"没有更多了",onLoad:J},{default:p((()=>[(j(!0),u(h,null,g(f(S),((e,a)=>(j(),_(n,{key:e.title+a,tag:e.tag,price:e.price,desc:e.desc,title:e.title,thumb:e.thumb,class:"st-bg-white"},null,8,["tag","price","desc","title","thumb"])))),128))])),_:1},8,["loading","finished"])])),_:1},8,["modelValue"]),b("",!0),m(T,{target:".layout__body"})])])}}}),[["__scopeId","data-v-3795a473"]]);export{T as default};
