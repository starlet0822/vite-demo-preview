var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,n=(a,t,s)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s;import{q as i,r as l,t as c,c as p,h as d,n as m,p as u,R as f,B as b}from"./vant-cfb6f5c4.js";import{_ as v}from"./index-4cc78dae.js";import{_ as j}from"./index-014fd06b.js";import{m as g,a as _,_ as y,b as h,aD as w,aI as x,ai as P,b7 as k,v as O,al as T,a4 as I,l as V,x as M,u as D,T as F,r as C,ak as N,f as R,aj as S,aK as E,aJ as L,a5 as q}from"./@vue-0da0c2e3.js";import{R as B}from"./index-a0cfc0df.js";import{_ as H}from"./plugin-vue_export-helper-893979e1.js";import{V as U}from"./vue-pdf-embed-d1cf4710.js";import"./@vant-b0725c78.js";import"./vue-router-1cbad9b8.js";/* empty css                      */import"./amfe-flexible-385c80ea.js";import"./js-cookie-aaf6027b.js";import"./vuex-fdaeb4c6.js";import"./lodash-es-0ddda1ab.js";import"./axios-0cd4f164.js";import"./qs-efaa5365.js";import"./side-channel-ebdfdc6e.js";import"./get-intrinsic-8aab7bd3.js";import"./has-symbols-1f359e75.js";import"./function-bind-c930bb92.js";import"./has-03e8e28c.js";import"./call-bind-b7e23f7e.js";import"./object-inspect-af06f273.js";import"./@antv-74afab59.js";import"./tslib-546db90a.js";import"./fecha-2b185e5a.js";import"./nprogress-4e4fc296.js";import"./vue3-hash-calendar-e234247e.js";import"./hammerjs-ed6f6a9e.js";import"./vue-30760876.js";const Y=g({name:"BackToTop"});var z=H(Object.assign(Y,{props:{visibilityHeight:{type:Number,default:150},backPosition:{type:Number,default:0},customStyle:{type:Object,default:function(){return{right:15/B+"rem",bottom:60/B+"rem",width:40/B+"rem",height:40/B+"rem","border-radius":40/B+"rem","line-height":45/B+"rem",background:"rgba(210,210,210,.5)"}}},transitionName:{type:String,default:"fade"}},setup(e,{expose:i}){const l=e,c=_({visible:!1,interval:null,isMoving:!1}),{visible:p,interval:d,isMoving:m}=y(c);h((()=>{window.addEventListener("scroll",u)})),w((()=>{window.removeEventListener("scroll",u),c.interval&&clearInterval(c.interval)}));const u=()=>{c.visible=window.pageYOffset>l.visibilityHeight},f=()=>{if(c.isMoving)return;const e=window.pageYOffset;let a=0;c.isMoving=!0,c.interval=setInterval((()=>{const t=Math.floor(b(10*a,e,-e,500));t<=l.backPosition?(window.scrollTo(0,l.backPosition),clearInterval(c.interval),c.isMoving=!1):window.scrollTo(0,t),a++}),16.7)},b=(e,a,t,s)=>(e/=s/2)<1?t/2*e*e+a:-t/2*(--e*(e-2)-1)+a;var v;return i((v=((e,a)=>{for(var t in a||(a={}))o.call(a,t)&&n(e,t,a[t]);if(s)for(var t of s(a))r.call(a,t)&&n(e,t,a[t]);return e})({},y(c)),a(v,t({backToTop:f})))),(a,t)=>{const s=j;return x(),P(F,{name:e.transitionName},{default:k((()=>[O(T("div",{style:I(e.customStyle),class:"back-to-top",onClick:f},[V(s,{"class-name":"st-color-blue",name:"backToTop"})],4),[[M,D(p)]])])),_:1},8,["name"])}}}),[["__scopeId","data-v-a435adee"]]);const A={class:"pdf"},J=(e=>(E("data-v-5185bacb"),e=e(),L(),e))((()=>T("span",{class:"st-font-14"},q("显示全部"),-1)));var K=H({__name:"PDF",setup(e,{expose:a}){const t=C(null),s=C(1),o=C(0),r=C(!1),n=e=>{s.value=e?0:1};a({onPrint:()=>{t.value.print()}}),h((()=>{b()}));const b=()=>{i({message:"加载中..."})},v=()=>{p(),o.value=t.value.pageCount},j=()=>{d("打印失败！")},g=()=>{p(),d("加载失败！")};return(e,a)=>{const i=l,p=m,d=u,b=c,_=f,y=z;return x(),N("div",A,[V(_,{type:"flex",align:"center",class:"pdf-tools st-bg-white van-hairline--bottom st-padding-10"},{default:k((()=>[V(p,{span:"8"},{default:k((()=>[V(i,{modelValue:D(r),"onUpdate:modelValue":a[0]||(a[0]=e=>R(r)?r.value=e:null),onChange:n},{default:k((()=>[J])),_:1},8,["modelValue"])])),_:1}),D(r)?S("",!0):(x(),P(p,{key:0,span:"16"},{default:k((()=>[V(b,{modelValue:D(s),"onUpdate:modelValue":a[1]||(a[1]=e=>R(s)?s.value=e:null),"page-count":D(o),mode:"simple"},{"prev-text":k((()=>[V(d,{name:"arrow-left"})])),"next-text":k((()=>[V(d,{name:"arrow"})])),_:1},8,["modelValue","page-count"])])),_:1}))])),_:1}),V(D(U),{ref_key:"pdfRef",ref:t,class:"pdf-box",page:D(s),source:"http://storage.xuetangx.com/public_assets/xuetangx/PDF/PlayerAPI_v1.0.6.pdf",onRendered:v,onPrintingFailed:j,onLoadingFailed:g},null,8,["page"]),V(y)])}}},[["__scopeId","data-v-5185bacb"]]);const G={class:"layout__page"},Q={class:"layout__header"},W={class:"layout__body st-margin-top-10"},X=g({name:"PDF"}),Z=Object.assign(X,{setup(e){const a=C(null),t=()=>{a.value.onPrint()};return(e,s)=>{const o=j,r=v,n=b;return x(),N("div",G,[T("div",Q,[V(r,null,{right:k((()=>[V(o,{name:"print","class-name":"st-color-blue st-font-16",onClick:t})])),_:1})]),T("div",W,[V(K,{ref_key:"pdf",ref:a},null,512)]),V(n,{target:".layout__body"})])}}});export{Z as default};
