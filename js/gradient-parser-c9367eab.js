var t,i;(i=i||{}).stringify=(t={"visit_linear-gradient":function(i){return t.visit_gradient(i)},"visit_repeating-linear-gradient":function(i){return t.visit_gradient(i)},"visit_radial-gradient":function(i){return t.visit_gradient(i)},"visit_repeating-radial-gradient":function(i){return t.visit_gradient(i)},visit_gradient:function(i){var r=t.visit(i.orientation);return r&&(r+=", "),i.type+"("+r+t.visit(i.colorStops)+")"},visit_shape:function(i){var r=i.value,n=t.visit(i.at),e=t.visit(i.style);return e&&(r+=" "+e),n&&(r+=" at "+n),r},"visit_default-radial":function(i){var r="",n=t.visit(i.at);return n&&(r+=n),r},"visit_extent-keyword":function(i){var r=i.value,n=t.visit(i.at);return n&&(r+=" at "+n),r},"visit_position-keyword":function(t){return t.value},visit_position:function(i){return t.visit(i.value.x)+" "+t.visit(i.value.y)},"visit_%":function(t){return t.value+"%"},visit_em:function(t){return t.value+"em"},visit_px:function(t){return t.value+"px"},visit_literal:function(i){return t.visit_color(i.value,i)},visit_hex:function(i){return t.visit_color("#"+i.value,i)},visit_rgb:function(i){return t.visit_color("rgb("+i.value.join(", ")+")",i)},visit_rgba:function(i){return t.visit_color("rgba("+i.value.join(", ")+")",i)},visit_color:function(i,r){var n=i,e=t.visit(r.length);return e&&(n+=" "+e),n},visit_angular:function(t){return t.value+"deg"},visit_directional:function(t){return"to "+t.value},visit_array:function(i){var r="",n=i.length;return i.forEach((function(i,e){r+=t.visit(i),e<n-1&&(r+=", ")})),r},visit:function(i){if(!i)return"";if(i instanceof Array)return t.visit_array(i,"");if(i.type){var r=t["visit_"+i.type];if(r)return r(i);throw Error("Missing visitor visit_"+i.type)}throw Error("Invalid node.")}},function(i){return t.visit(i)}),(i=i||{}).parse=function(){var t=/^(\-(webkit|o|ms|moz)\-)?(linear\-gradient)/i,i=/^(\-(webkit|o|ms|moz)\-)?(repeating\-linear\-gradient)/i,r=/^(\-(webkit|o|ms|moz)\-)?(radial\-gradient)/i,n=/^(\-(webkit|o|ms|moz)\-)?(repeating\-radial\-gradient)/i,e=/^to (left (top|bottom)|right (top|bottom)|left|right|top|bottom)/i,o=/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,a=/^(left|center|right|top|bottom)/i,u=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,s=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,v=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,c=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,f=/^\(/,l=/^\)/,g=/^,/,p=/^\#([0-9a-fA-F]+)/,d=/^([a-zA-Z]+)/,_=/^rgb/i,y=/^rgba/i,h=/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/,m="";function b(t){var i=new Error(m+": "+t);throw i.source=m,i}function x(){var t=I(w);return m.length>0&&b("Invalid input not EOF"),t}function w(){return k("linear-gradient",t,z)||k("repeating-linear-gradient",i,z)||k("radial-gradient",r,M)||k("repeating-radial-gradient",n,M)}function k(t,i,r){return E(i,(function(i){var n=r();return n&&(D(g)||b("Missing comma before color stops")),{type:t,orientation:n,colorStops:I(O)}}))}function E(t,i){var r=D(t);if(r){D(f)||b("Missing (");var n=i(r);return D(l)||b("Missing )"),n}}function z(){return C("directional",e,1)||C("angular",c,1)}function M(){var t,i,r=A();return r&&((t=[]).push(r),i=m,D(g)&&((r=A())?t.push(r):m=i)),t}function A(){var t=function(){var t=C("shape",/^(circle)/i,0);t&&(t.style=B()||S());return t}()||function(){var t=C("shape",/^(ellipse)/i,0);t&&(t.style=q()||S());return t}();if(t)t.at=j();else{var i=S();if(i){t=i;var r=j();r&&(t.at=r)}else{var n=F();n&&(t={type:"default-radial",at:n})}}return t}function S(){return C("extent-keyword",o,1)}function j(){if(C("position",/^at/,0)){var t=F();return t||b("Missing positioning value"),t}}function F(){var t={x:q(),y:q()};if(t.x||t.y)return{type:"position",value:t}}function I(t){var i=t(),r=[];if(i)for(r.push(i);D(g);)(i=t())?r.push(i):b("One extra comma");return r}function O(){var t=C("hex",p,1)||E(y,(function(){return{type:"rgba",value:I(Z)}}))||E(_,(function(){return{type:"rgb",value:I(Z)}}))||C("literal",d,0);return t||b("Expected color definition"),t.length=q(),t}function Z(){return D(h)[1]}function q(){return C("%",s,1)||C("position-keyword",a,1)||B()}function B(){return C("px",u,1)||C("em",v,1)}function C(t,i,r){var n=D(i);if(n)return{type:t,value:n[r]}}function D(t){var i,r;return(r=/^[\n\r\t\s]+/.exec(m))&&G(r[0].length),(i=t.exec(m))&&G(i[0].length),i}function G(t){m=m.substr(t)}return function(t){return m=t.toString(),x()}}();var r=i.parse,n=i.stringify;export{r as p,n as s};
