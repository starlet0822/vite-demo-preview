var e=(e,a,t)=>new Promise(((s,o)=>{var i=e=>{try{n(t.next(e))}catch(a){o(a)}},r=e=>{try{n(t.throw(e))}catch(a){o(a)}},n=e=>e.done?s(e.value):Promise.resolve(e.value).then(i,r);n((t=t.apply(e,a)).next())}));import{p as a,d as t,o as s,Z as o,F as i,j as r,B as n,_ as l,r as c,c as d}from"./vant-f142fa12.js";import{_ as u}from"./index-7153c68f.js";import{D as p,k as m,a7 as f,i as v,o as h,c as b,a as j,t as g,u as w,e as k,b8 as y,s as z,f as x,j as _,w as C,ap as S,ao as V,L as P,aN as T,aM as U,bl as F,N as L}from"./@vue-563ebafd.js";import{u as M,b as E}from"./vue-router-2cd4af54.js";import{a as I,f as D,t as N}from"./index-ac9d2ddd.js";import{a as O}from"./js-cookie-aaf6027b.js";import{_ as R}from"./plugin-vue_export-helper-893979e1.js";import{o as q}from"./vue3-colorpicker-d0a47f37.js";import{u as B}from"./vuex-423acd4f.js";import{p as Z}from"./index-d5a2837b.js";import"./@vant-3579f7e1.js";/* empty css                      */import"./amfe-flexible-385c80ea.js";import"./@vueuse-3d373d70.js";import"./lodash-es-12d03b41.js";import"./axios-0cd4f164.js";import"./qs-efaa5365.js";import"./side-channel-ebdfdc6e.js";import"./get-intrinsic-8aab7bd3.js";import"./has-symbols-1f359e75.js";import"./function-bind-c930bb92.js";import"./has-03e8e28c.js";import"./call-bind-b7e23f7e.js";import"./object-inspect-af06f273.js";import"./@antv-74afab59.js";import"./tslib-546db90a.js";import"./fecha-2b185e5a.js";import"./nprogress-4e4fc296.js";import"./vue3-hash-calendar-edea4f58.js";import"./hammerjs-ed6f6a9e.js";import"./vue-types-9561ac9a.js";import"./tinycolor2-7446cab2.js";import"./@aesoper-316802a3.js";import"./vue3-angle-ff229650.js";import"./gradient-parser-c9367eab.js";import"./@popperjs-f5cb6547.js";const A={class:"picker-fontSize-wrapper"},G={class:"setting-box st-bg-white"},H={class:x(["st-flex-center"])},J={class:"slider"},K={class:"custom-button"},Q=p({name:"PickerFontSize"});var W=R(Object.assign(Q,{emits:["change"],setup(e,{emit:t}){const s=m({fontSize:+O.get("fontSize")||I,fontTypes:D}),{fontSize:o,fontTypes:i}=f(s),r=v("setSize"),n=e=>{O.set("fontSize",e),localStorage.setItem("fontSize",e),r(e+"px"),t("change",e)};return(e,t)=>{const s=a;return h(),b("div",A,[j("div",G,[j("div",H,g(w(i).get(+w(o))),1),j("div",J,[k(s,{modelValue:w(o),"onUpdate:modelValue":t[0]||(t[0]=e=>z(o)?o.value=e:null),max:16,min:12,step:2,onChange:n},{button:y((()=>[j("div",K,g(w(o)),1)])),_:1},8,["modelValue"])])])])}}}),[["__scopeId","data-v-7c9c5aae"]]);const X=e=>(T("data-v-4bb5a43a"),e=e(),U(),e),Y={class:"layout__page"},$={class:""},ee={class:"st-margin-top-10"},ae=X((()=>j("div",{class:"color-point"},null,-1))),te=X((()=>j("div",{class:"st-margin-top-10"},null,-1))),se={class:"st-margin-top-10"},oe={class:"st-flex-center st-margin-top-15"},ie={class:"color-wrapper"},re=p({name:"Setting"});var ne=R(Object.assign(re,{setup(a){F((e=>({"040e43d3":w(T)})));const p=v("setThemeColor");v("themeColor");const g=_(!1),T=_(O.get("themeColor")||N),U=e=>{p(e)};E();const R=M(),A=B(),G=v("setTheme"),H=_("dark"===O.get("darkMode")),J=e=>{G(e?"dark":"light"),H.value=e,O.set("darkMode",e?"dark":"light")},K="//cdn.jsdelivr.net/npm/eruda";let Q=[...document.scripts].find((e=>e.src===K));const X=_(window.activeEruda),re=a=>e(this,null,(function*(){ne(a)})),ne=e=>{const a={defaults:{theme:e?"Dark":"Light"}};e?Q?eruda.init(a):(c("初始化中"),new Promise(((e,t)=>{Q=document.createElement("script"),Q.type="text/javascript",Q.onload=function(){eruda.init(a),window.activeEruda=!0,e(""),d()},Q.onerror=function(e){t(e),d()},Q.src=K,document.head.appendChild(Q)}))):(Q&&Q.remove(),window.eruda&&(null==eruda||eruda.destroy()))},le=m({title:R.currentRoute.value.meta.title,screenLock:!1,showFontSize:!1,fontSize:O.get("fontSize")||I,fontTypes:D}),{title:ce,screenLock:de,showFontSize:ue,fontSize:pe,fontTypes:me}=f(le),fe=_(!1),ve=()=>{},he=()=>{ue.value=!0},be=e=>{pe.value=e},je=()=>{g.value=!0},{fullPath:ge}=R.currentRoute.value,we=()=>{l({message:"是否确认退出？"}).then((()=>e(this,null,(function*(){yield A.dispatch("logout"),yield A.dispatch("cacheViews/clearView"),yield R.replace("/login")})))).catch((()=>{}))};return(e,a)=>{const l=u,c=t,d=s,p=o,m=i,f=r,v=n,_=L("doubletap"),F=L("waves");return h(),b("div",Y,[C(k(l,{border:!0,class:x(["mine-nav-bar",{"nav-bar-bg":w(fe)}]),title:w(ce)},null,8,["class","title"]),[[_,ve]]),j("div",$,[j("div",ee,[k(c,{value:w(me).get(+w(pe)),center:"","is-link":"",title:"字体大小",onClick:he},null,8,["value"]),k(d,{show:w(ue),"onUpdate:show":a[0]||(a[0]=e=>z(ue)?ue.value=e:null),position:"bottom","z-index":9999,closeable:!1},{default:y((()=>[k(W,{onChange:be})])),_:1},8,["show"]),S("",!0),(h(),V(c,{key:1,center:"",title:"主题色",onClick:je},{value:y((()=>[ae])),_:1})),(h(),V(m,{key:2,name:"darkMode",label:"深色模式","input-align":"right",center:""},{input:y((()=>[k(p,{modelValue:w(H),"onUpdate:modelValue":a[1]||(a[1]=e=>z(H)?H.value=e:null),size:w(Z)(18),onChange:J},null,8,["modelValue","size"])])),_:1})),k(m,{name:"eruda",label:"eruda调试","input-align":"right",center:""},{input:y((()=>[k(p,{modelValue:w(X),"onUpdate:modelValue":a[2]||(a[2]=e=>z(X)?X.value=e:null),size:w(Z)(18),onChange:re},null,8,["modelValue","size"])])),_:1})]),te,j("div",se,[S("",!0)]),j("div",oe,[C((h(),V(f,{block:"",style:{width:"80%"},type:"warning",onClick:we},{default:y((()=>[P(" 退出登录 ")])),_:1})),[[F]])])]),k(v),k(d,{show:w(g),"onUpdate:show":a[4]||(a[4]=e=>z(g)?g.value=e:null)},{default:y((()=>[j("div",ie,[k(w(q),{pureColor:w(T),"onUpdate:pureColor":a[3]||(a[3]=e=>z(T)?T.value=e:null),"is-widget":!0,"disable-alpha":"",format:"hex","picker-type":"chrome","use-type":"pure",onPureColorChange:U},null,8,["pureColor"])])])),_:1},8,["show"])])}}}),[["__scopeId","data-v-4bb5a43a"]]);export{ne as default};
